d3.layout.listGraph=function(){function t(t){return Array.isArray(t)}function i(t){return"number"==typeof t&&window.isFinite(t)}function s(t){var i=typeof t;return!!t&&("object"==i||"function"==i)}function h(i,h,e,n,r,o){function a(i){if(i.data.bars)if(t(i.data.bars))for(var h=i.data.bars.length;h--;)i.data.bars[h].value=Math.max(Math.min(i.data.bars[h].value,1),0);else if(s(i.data.bars)){for(var e=[],n=Object.keys(i.data.bars),h=n.length;h--;)i.data.bars[n[h]]=Math.max(Math.min(i.data.bars[n[h]],1),0),e.push({id:n[h],value:i.data.bars[n[h]]});i.data.bars=e}}function d(t,s,h,n){var d=t,c=s;n?(f=t+"."+s.clones.length+1,i[f]={children:[],clone:!0,cloneId:s.clones.length+1,data:s.data,originalId:t,originalNode:s},d=f,c=i[f],s.clones.push(c)):c.clones=[],c.parent=h,c.childRefs||(c.childRefs=[]),h?(c.depth=h.depth+1,h.childRefs.push(c)):c.depth=0,c.links||(c.links=[]),e[c.depth]||(e[c.depth]={}),e[c.depth][d]||(e[c.depth][d]=!0,c.x=r(c.depth),c.y=o(Object.keys(e[c.depth]).length-1)),a(c),h&&l(h,c)}function l(t,i){t.links.push({source:{x:t.x,y:t.y,offsetX:0,offsetY:0},target:{x:i.x,y:i.y,offsetX:0,offsetY:0}})}for(var c,g,u,p,_,f,m={},w=[],b=h.length;b--;){if(start=h[b],!i[start])return;for(d(start,i[start]),w.push(start),m[start]=!0;w.length>0;)for(id=w.shift(),_=i[id],c=_.children.length;c--;)u=_.children[c],g=i[u],g&&(m[u]?p=!0:(w.push(u),m[u]=!0,p=!1),d(u,g,_,p))}}function e(t,i){return this.scale={x:d3.scale.linear(),y:d3.scale.linear()},this._colRelPadding=o,this._rowRelPadding=a,this._cellRelInnerPadding=d,this._grid={columns:r.columns,rows:r.rows},this._size={width:n.width,height:n.height},this.grid(i),this.size(t),this.columnCache={},this.columns={},this}var n={width:300,height:300},r={columns:3,rows:3},o=.2,a=.05,d=.05;return e.prototype.nodesToMatrix=function(){for(var t,i=[],s=Object.keys(this.columnCache).length,h=0;s>h;h++){i.push({y:0,x:this.scale.x(h),level:h,rows:[]}),t=Object.keys(this.columnCache[h]);for(var e=t.length;e--;)i[h].rows.push(this.data[t[e]])}return i},e.prototype.process=function(i,s){return this.data=i||this.data,this.rootIds=s||this.rootIds,t(this.rootIds)||(this.rootIds=[this.rootIds]),h(this.data,this.rootIds,this.columnCache,this.links,this.scale.x,this.scale.y),{global:this.compileGlobalProps(),nodes:this.nodesToMatrix()}},e.prototype.compileGlobalProps=function(){return{column:{width:this._columnWidth,height:this._size.height,padding:this._colAbsPadding,contentWidth:this._colAbsContentWidth},row:{height:this._rowHeight,padding:this._rowAbsPadding,contentHeight:this._rowAbsContentHeight},cell:{padding:this._cellAbsInnerPadding}}},e.prototype.nodes=function(){return this.nodesToMatrix()},e.prototype.links=function(t){var s,h,e,n=[];s=i(t)?this.columnCache[t]:this.data,h=s?Object.keys(s):[];for(var r=h.length;r--;){e=this.data[h[r]].links;for(var o=e.length;o--;)n.push(e[o])}return n},e.prototype.offsetLinks=function(t,s,h){var e=this.links(t);if(("source"===h||"target"===h)&&i(s))for(var n=e.length;n--;)e[n][h].offsetY=s;return e},e.prototype.grid=function(i){return arguments.length?(t(i)&&(this._grid.columns=parseInt(i[0])||this._grid.columns,this._grid.rows=parseInt(i[1])||this._grid.rows,this.updateScaling()),s(i)&&(this._grid.columns=parseInt(i.columns)||this._grid.columns,this._grid.rows=parseInt(i.rows)||this._grid.rows,this.updateScaling()),this):this._grid},e.prototype.updateScaling=function(){return this.scale.x.domain([0,this._grid.columns]).range([0,this._size.width]),this.scale.y.domain([0,this._grid.rows]).range([0,this._size.height]),this._columnWidth=this._size.width/this._grid.columns,this._rowHeight=this._size.height/this._grid.rows,this._colAbsPadding=this._columnWidth*this._colRelPadding,this._colAbsContentWidth=this._columnWidth*(1-2*this._colRelPadding),this._rowAbsPadding=this._rowHeight*a,this._rowAbsContentHeight=this._rowHeight*(1-2*this._rowRelPadding),this._cellAbsInnerPadding=this._cellRelInnerPadding*Math.min(this._colAbsContentWidth,this._rowAbsContentHeight),this},e.prototype.size=function(i){return arguments.length?(t(i)&&(this._size.width=parseInt(i[0])||this._size.width,this._size.height=parseInt(i[1])||this._size.height,this.updateScaling()),s(i)&&(this._size.width=parseInt(i.width)||this._size.width,this._size.height=parseInt(i.height)||this._size.height,this.updateScaling()),this):this._size},e.prototype.columnPadding=function(t,s){return arguments.length?(i(t)&&(s&&i(this._columnWidth)&&(t/=this._columnWidth),this._colRelPadding=Math.max(Math.min(t,.66),.1),this.updateScaling()),this):this._colRelPadding},e.prototype.rowPadding=function(t,s){return arguments.length?(i(t)&&(s&&i(this._rowHeight)&&(t/=this._rowHeight),this._rowRelPadding=Math.max(Math.min(t,.5),0),this.updateScaling()),this):this._rowRelPadding},e};
//# sourceMappingURL=d3.layout.listGraph.min.js.map
