{"version":3,"file":"listGraph.js","sources":["../../node_modules/lodash-es/isArray.js","commons/error.js","composition/errors.js","composition/config.js","composition/topbar.js","composition/levels.js","composition/links.js","../../node_modules/lodash-es/isObject.js","../../node_modules/lodash-es/isFunction.js","../../node_modules/lodash-es/_checkGlobal.js","../../node_modules/lodash-es/_root.js","../../node_modules/lodash-es/isFinite.js","composition/utils.js","composition/traversal.js","composition/bar.js","commons/charts.js","composition/bars.js","commons/d3-utils.js","composition/nodes.js","composition/scrollbars.js","composition/events.js","../../node_modules/es6-promise/lib/es6-promise/utils.js","../../node_modules/es6-promise/lib/es6-promise/asap.js","../../node_modules/es6-promise/lib/es6-promise/then.js","../../node_modules/es6-promise/lib/es6-promise/promise/resolve.js","../../node_modules/es6-promise/lib/es6-promise/-internal.js","../../node_modules/es6-promise/lib/es6-promise/enumerator.js","../../node_modules/es6-promise/lib/es6-promise/promise/all.js","../../node_modules/es6-promise/lib/es6-promise/promise/race.js","../../node_modules/es6-promise/lib/es6-promise/promise/reject.js","../../node_modules/es6-promise/lib/es6-promise/promise.js","../../node_modules/lodash-es/now.js","../../node_modules/lodash-es/isObjectLike.js","../../node_modules/lodash-es/isSymbol.js","../../node_modules/lodash-es/toNumber.js","../../node_modules/lodash-es/debounce.js","commons/shims.js","composition/nodeContextMenu.js","commons/event-handlers.js","commons/filters.js","composition/index.js"],"sourcesContent":["/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @type {Function}\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","class ExtendableError extends Error {\n  constructor (message) {\n    super(message);\n    this.name = this.constructor.name;\n    this.message = message;\n    Error.captureStackTrace(this, this.constructor.name);\n  }\n}\n\nexport { ExtendableError };\n","// Internal\nimport { ExtendableError } from '../commons/error';\n\nexport class LayoutNotAvailable extends ExtendableError {\n  constructor (message) {\n    super(message || 'D3.layout.listGraph.js has not been loaded yet.');\n  }\n}\n\nexport class EventDispatcherNoFunction extends ExtendableError {\n  constructor (message) {\n    super(message || 'Dispatcher needs to be a function.');\n  }\n}\n","export const CLASSNAME = 'list-graph';\n\nexport const SCROLLBAR_WIDTH = 6;\nexport const COLUMNS = 5;\nexport const ROWS = 5;\n\n// An empty path is equal to inline SVG.\nexport const ICON_PATH = '';\n\n// -1 = desc, 1 = asc\nexport const DEFAULT_SORT_ORDER = -1;\n\nexport const DEFAULT_BAR_MODE = 'one';\n\nexport const HIGHLIGHT_ACTIVE_LEVEL = true;\nexport const ACTIVE_LEVEL = 0;\nexport const NO_ROOT_ACTIVE_LEVEL_DIFF = 0;\nexport const QUERYING = false;\nexport const HIDE_OUTWARDS_LINKS = false;\nexport const SHOW_LINK_LOCATION = false;\nexport const DISABLE_DEBOUNCED_CONTEXT_MENU = false;\n\nexport const TRANSITION_LIGHTNING_FAST = 150;\nexport const TRANSITION_FAST = 200;\nexport const TRANSITION_SEMI_FAST = 250;\nexport const TRANSITION_NORMAL = 333;\nexport const TRANSITION_SLOW = 666;\nexport const TRANSITION_SLOWEST = 1;\n\n// Gradient colors\nexport const COLOR_ORANGE = '#f23e00';\nexport const COLOR_NEGATIVE_RED = '#e0001c';\nexport const COLOR_POSITIVE_GREEN = '#60bf00';\n","// External\nimport * as d3 from 'd3';  // eslint-disable-line import/no-unresolved\n\nconst TOPBAR_EL = 'div';\nconst TOPBAR_CLASS = 'top-bar';\n\nconst TOPBAR_CONTROL_EL = 'ul';\nconst TOPBAR_CONTROL_CLASS = 'controls';\nconst TOPBAR_GLOBAL_CONTROL_CLASS = 'global-controls';\n\nclass Topbar {\n  constructor (vis, selection, visData) {\n    const that = this;\n\n    this.vis = vis;\n    this.visData = visData;\n    // Add base topbar element\n    this.el = selection.select('.' + TOPBAR_CLASS);\n\n    if (this.el.empty()) {\n      this.el = selection.insert(TOPBAR_EL, ':first-child')\n        .attr('class', TOPBAR_CLASS);\n    }\n\n    this.controlSwitch = this.el.append('div')\n      .attr('title', 'Toggle global / local topbar')\n      .style('width', this.visData.global.column.padding + 'px')\n      .classed('control-switch', true)\n      .on('click', this.switch.bind(this));\n\n    this.switchArrow = this.controlSwitch.append('svg').append('use')\n      .attr('xlink:href', this.vis.iconPath + '#arrow-down')\n      .attr('class', 'switch-arrow');\n\n    this.globalControls = this.el.append(TOPBAR_CONTROL_EL)\n      .classed(TOPBAR_GLOBAL_CONTROL_CLASS, true);\n\n    // Add button for sorting by precision\n    this.globalPrecision = this.globalControls.append('li')\n      .attr('class', 'control-btn sort-precision')\n      .classed('active', function () {\n        if (that.vis.currentSorting.global.type === 'precision') {\n          // Save currently active element. Needed when when re-sorting for the\n          // first time, to be able to de-highlight this element.\n          that.vis.currentSorting.global.el = d3.select(this);\n          return true;\n        }\n        return false;\n      })\n      .on('click', function () {\n        that.sortAllColumns(this, 'precision');\n      })\n      .on('mouseenter', () => {\n        this.vis.interactionWrapper.call(this.vis, () => {\n          this.highlightBars(undefined, 'precision');\n        }, []);\n      })\n      .on('mouseleave', () => {\n        this.vis.interactionWrapper.call(this.vis, () => {\n          this.highlightBars(undefined, 'precision', true);\n        }, []);\n      });\n\n    this.globalPrecisionWrapper = this.globalPrecision.append('div')\n      .attr('class', 'wrapper');\n\n    this.globalPrecisionWrapper.append('span')\n      .attr('class', 'label')\n      .text('Precision');\n\n    this.globalPrecisionWrapper.append('svg')\n      .attr('class', 'icon-unsort invisible-default')\n      .classed('visible', this.vis.currentSorting.global.type !== 'precision')\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#unsort');\n\n    this.globalPrecisionWrapper.append('svg')\n      .attr('class', 'icon-sort-asc invisible-default')\n      .classed(\n        'visible',\n        this.vis.currentSorting.global.type === 'precision' &&\n          this.vis.currentSorting.global.order === 1\n      )\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#sort-asc');\n\n    this.globalPrecisionWrapper.append('svg')\n      .attr('class', 'icon-sort-desc invisible-default')\n      .classed(\n        'visible',\n        this.vis.currentSorting.global.type === 'precision' &&\n          this.vis.currentSorting.global.order !== 1\n        )\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#sort-desc');\n\n    // Add button for sorting by recall\n    this.globalRecall = this.globalControls.append('li')\n      .attr('class', 'control-btn sort-recall')\n      .classed('active', function () {\n        if (that.vis.currentSorting.global.type === 'recall') {\n          // See precision\n          that.vis.currentSorting.global.el = d3.select(this);\n          return true;\n        }\n        return false;\n      })\n      .on('click', function () {\n        that.sortAllColumns(this, 'recall');\n      })\n      .on('mouseenter', () => {\n        this.vis.interactionWrapper.call(this.vis, () => {\n          this.highlightBars(undefined, 'recall');\n        }, []);\n      })\n      .on('mouseleave', () => {\n        this.vis.interactionWrapper.call(this.vis, () => {\n          this.highlightBars(undefined, 'recall', true);\n        }, []);\n      });\n\n    this.globalRecallWrapper = this.globalRecall.append('div')\n      .attr('class', 'wrapper');\n\n    this.globalRecallWrapper.append('span')\n      .attr('class', 'label')\n      .text('Recall');\n\n    this.globalRecallWrapper.append('svg')\n      .attr('class', 'icon-unsort invisible-default')\n      .classed('visible', this.vis.currentSorting.global.type !== 'recall')\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#unsort');\n\n    this.globalRecallWrapper.append('svg')\n      .attr('class', 'icon-sort-asc invisible-default')\n      .classed(\n        'visible',\n        this.vis.currentSorting.global.type === 'recall' &&\n          this.vis.currentSorting.global.order === 1\n        )\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#sort-asc');\n\n    this.globalRecallWrapper.append('svg')\n      .attr('class', 'icon-sort-desc invisible-default')\n      .classed(\n        'visible',\n        this.vis.currentSorting.global.type === 'recall' &&\n          this.vis.currentSorting.global.order !== 1\n        )\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#sort-desc');\n\n    // Add button for sorting by name\n    this.globalName = this.globalControls.append('li')\n      .attr('class', 'control-btn sort-name')\n      .classed('active', function () {\n        if (that.vis.currentSorting.global.type === 'name') {\n          // See precision\n          that.vis.currentSorting.global.el = d3.select(this);\n          return true;\n        }\n        return false;\n      })\n      .on('click', function () {\n        that.sortAllColumns(this, 'name');\n      })\n      .on('mouseenter', () => {\n        this.vis.interactionWrapper.call(this.vis, () => {\n          this.highlightLabels();\n        }, []);\n      })\n      .on('mouseleave', () => {\n        this.vis.interactionWrapper.call(this.vis, () => {\n          this.highlightLabels(true);\n        }, []);\n      });\n\n    this.globalNameWrapper = this.globalName.append('div')\n      .attr('class', 'wrapper');\n\n    this.globalNameWrapper.append('span')\n      .attr('class', 'label')\n      .text('Name');\n\n    this.globalNameWrapper.append('svg')\n      .attr('class', 'icon-unsort invisible-default')\n      .classed('visible', this.vis.currentSorting.global.type !== 'name')\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#unsort');\n\n    this.globalNameWrapper.append('svg')\n      .attr('class', 'icon-sort-asc invisible-default')\n      .classed(\n        'visible',\n        this.vis.currentSorting.global.type === 'name' &&\n          this.vis.currentSorting.global.order === 1\n        )\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#sort-alpha-asc');\n\n    this.globalNameWrapper.append('svg')\n      .attr('class', 'icon-sort-desc invisible-default')\n      .classed(\n        'visible',\n        this.vis.currentSorting.global.type === 'name' &&\n          this.vis.currentSorting.global.order !== 1\n        )\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#sort-alpha-desc');\n\n    // Add button for switching to 'one bar'\n    this.globalOneBar = this.globalControls.append('li')\n      .attr('class', 'control-btn one-bar')\n      .classed('active', this.vis.barMode === 'one')\n      .on('click', function () {\n        that.switchBarMode(this, 'one');\n      });\n\n    this.globalOneBarWrapper = this.globalOneBar.append('div')\n      .attr('class', 'wrapper')\n      .text('One bar');\n\n    this.globalOneBarWrapper.append('svg')\n      .attr('class', 'icon-one-bar')\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#one-bar');\n\n    // Add button for switching to 'two bars'\n    this.globalTwoBars = this.globalControls.append('li')\n      .attr('class', 'control-btn two-bars')\n      .classed('active', this.vis.barMode === 'two')\n      .on('click', function () {\n        that.switchBarMode(this, 'two');\n      });\n\n    this.globalTwoBarsWrapper = this.globalTwoBars.append('div')\n      .attr('class', 'wrapper')\n      .text('Two bars');\n\n    this.globalTwoBarsWrapper.append('svg')\n      .attr('class', 'icon-two-bars')\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#two-bars');\n\n    // Add button for zoom-out\n    this.globalZoomOut = this.globalControls.append('li')\n      .attr('class', 'control-btn zoom-out')\n      .classed('active', this.vis.zoomedOut)\n      .on('mouseenter', () => {\n        this.vis.interactionWrapper.call(this.vis, () => {\n          this.vis.globalView.call(this.vis);\n        }, []);\n      })\n      .on('mouseleave', () => {\n        this.vis.interactionWrapper.call(this.vis, () => {\n          this.vis.zoomedView.call(this.vis);\n        }, []);\n      })\n      .on('click', function () {\n        that.vis.toggleView.call(that.vis);\n        d3.select(this).classed('active', that.vis.zoomedOut);\n      });\n\n    this.globalZoomOutWrapper = this.globalZoomOut.append('div')\n      .attr('class', 'wrapper')\n      .text('Zoom Out');\n\n    this.globalZoomOutWrapper.append('svg')\n      .attr('class', 'icon-zoom-out')\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#zoom-out');\n\n    this.localControlWrapper = this.el.append('div')\n      .classed('local-controls', true);\n\n    this.localControls = this.localControlWrapper\n      .selectAll(TOPBAR_CONTROL_CLASS)\n        .data(visData.nodes)\n        .enter()\n        .append(TOPBAR_CONTROL_EL)\n          .classed(TOPBAR_CONTROL_CLASS, true)\n          .style('width', this.visData.global.column.width + 'px');\n\n\n    this.localControls.each(function (data, index) {\n      const control = d3.select(this);\n\n      /*\n       * Order:\n       * 0 = unsorted\n       * 1 = asc\n       * -1 = desc\n       */\n      that.vis.currentSorting.local[index] = {\n        type: data.sortBy,\n        order: data.sortOrder,\n        el: undefined\n      };\n\n      control.append('li')\n        .attr('class', 'control-btn toggle')\n        .style('width', that.visData.global.column.padding + 'px')\n        .on('click', that.toggleColumn);\n\n      control.append('li')\n        .attr('class', 'control-btn sort-precision ease-all')\n        .classed('active', function () {\n          if (that.vis.currentSorting.local[index].type === 'precision') {\n            // See precision\n            that.vis.currentSorting.local[index].el = d3.select(this);\n            return true;\n          }\n          return false;\n        })\n        .style({\n          width: that.visData.global.column.contentWidth / 2 + 'px',\n          left: that.visData.global.column.padding + 'px'\n        })\n        .on('click', function (controlData) {\n          that.sortColumn(this, controlData.level, 'precision');\n        })\n        .on('mouseenter', function () {\n          that.highlightBars(this.parentNode, 'precision');\n          d3.select(this).style(\n            'width',\n            (that.visData.global.column.contentWidth - 16) + 'px'\n          );\n        })\n        .on('mouseleave', function () {\n          that.highlightBars(this.parentNode, 'precision', true);\n          d3.select(this).style(\n            'width',\n            (that.visData.global.column.contentWidth / 2) + 'px'\n          );\n        })\n        .html(\n          '<div class=\"expandable-label\">' +\n          '  <span class=\"letter abbr\">P</span>' +\n          '  <span class=\"letter abbr\">r</span>' +\n          '  <span class=\"letter\">e</span>' +\n          '  <span class=\"letter abbr\">c</span>' +\n          '  <span class=\"letter\">i</span>' +\n          '  <span class=\"letter\">s</span>' +\n          '  <span class=\"letter\">i</span>' +\n          '  <span class=\"letter\">o</span>' +\n          '  <span class=\"letter\">n</span>' +\n          '</div>' +\n          '<svg class=\"icon-unsort invisible-default ' + (that.vis.currentSorting.local[index].type !== 'precision' ? 'visible' : '') + '\">' +  // eslint-disable-line\n          '  <use xlink:href=\"' + that.vis.iconPath + '#unsort\"></use>' +\n          '</svg>' +\n          '<svg class=\"icon-sort-asc invisible-default ' + ((that.vis.currentSorting.local[index].type === 'precision' && that.vis.currentSorting.local[index].order === 1) ? 'visible' : '') + '\">' +  // eslint-disable-line\n          '  <use xlink:href=\"' + that.vis.iconPath + '#sort-asc\"></use>' +\n          '</svg>' +\n          '<svg class=\"icon-sort-desc invisible-default ' + ((that.vis.currentSorting.local[index].type === 'precision' && that.vis.currentSorting.local[index].order !== 1) ? 'visible' : '') + '\">' +  // eslint-disable-line\n          '  <use xlink:href=\"' + that.vis.iconPath + '#sort-desc\"></use>' +\n          '</svg>'\n        );\n\n      control.append('li')\n        .attr('class', 'control-btn sort-recall ease-all')\n        .classed('active', function () {\n          if (that.vis.currentSorting.local[index].type === 'recall') {\n            // See recall\n            that.vis.currentSorting.local[index].el = d3.select(this);\n            return true;\n          }\n          return false;\n        })\n        .style({\n          width: that.visData.global.column.contentWidth / 2 + 'px',\n          left: that.visData.global.column.contentWidth / 2 +\n            that.visData.global.column.padding + 'px'\n        })\n        .on('click', function (controlData) {\n          that.sortColumn(this, controlData.level, 'recall');\n        })\n        .on('mouseenter', function () {\n          that.highlightBars(this.parentNode, 'recall');\n          d3.select(this).style({\n            width: (that.visData.global.column.contentWidth - 16) + 'px',\n            left: (that.visData.global.column.padding + 16) + 'px'\n          });\n        })\n        .on('mouseleave', function () {\n          that.highlightBars(this.parentNode, 'recall', true);\n          d3.select(this).style({\n            width: (that.visData.global.column.contentWidth) / 2 + 'px',\n            left: (that.visData.global.column.contentWidth / 2 +\n              that.visData.global.column.padding) + 'px'\n          });\n        })\n        .html(\n          '<div class=\"expandable-label\">' +\n          '  <span class=\"letter abbr\">R</span>' +\n          '  <span class=\"letter\">e</span>' +\n          '  <span class=\"letter abbr\">c</span>' +\n          '  <span class=\"letter\">a</span>' +\n          '  <span class=\"letter abbr\">l</span>' +\n          '  <span class=\"letter\">l</span>' +\n          '</div>' +\n          '<svg class=\"icon-unsort invisible-default ' + (that.vis.currentSorting.local[index].type !== 'recall' ? 'visible' : '') + '\">' +  // eslint-disable-line\n          '  <use xlink:href=\"' + that.vis.iconPath + '#unsort\"></use>' +\n          '</svg>' +\n          '<svg class=\"icon-sort-asc invisible-default ' + ((that.vis.currentSorting.local[index].type === 'recall' && that.vis.currentSorting.local[index].order === 1) ? 'visible' : '') + '\">' +  // eslint-disable-line\n          '  <use xlink:href=\"' + that.vis.iconPath + '#sort-asc\"></use>' +\n          '</svg>' +\n          '<svg class=\"icon-sort-desc invisible-default ' + ((that.vis.currentSorting.local[index].type === 'recall' && that.vis.currentSorting.local[index].order !== 1) ? 'visible' : '') + '\">' +  // eslint-disable-line\n          '  <use xlink:href=\"' + that.vis.iconPath + '#sort-desc\"></use>' +\n          '</svg>'\n        );\n\n      control.append('li')\n        .attr('class', 'control-btn options')\n        .style('width', that.visData.global.column.padding + 'px')\n        .on('click', that.toggleOptions)\n        .html(\n          '<svg class=\"icon-gear\">' +\n          '  <use xlink:href=\"' + that.vis.iconPath + '#gear\"></use>' +\n          '</svg>'\n        );\n\n      if (that.vis.currentSorting.local[index].type) {\n        that.vis.currentSorting.local[index].el = control.select(\n          '.sort-' + that.vis.currentSorting.local[index].type\n        );\n      }\n    });\n  }\n\n  // toggleColumn () {\n  //   console.log('Toggle column');\n  // }\n\n  selectNodesLevel (el) {\n    return this.vis.selectByLevel(d3.select(el).datum().level, '.node');\n  }\n\n  highlightLabels (deHighlight) {\n    this.vis.baseElD3.selectAll('.node')\n      .classed('highlight-label', !deHighlight);\n  }\n\n  highlightBars (el, type, deHighlight) {\n    const nodes = el ?\n      this.selectNodesLevel(el) : this.vis.baseElD3.selectAll('.node');\n\n    nodes.classed('highlight-bar', !deHighlight)\n      .selectAll('.bar.' + type)\n      .classed('highlight', !deHighlight);\n  }\n\n  sortAllColumns (el, type) {\n    const newSortType = this.vis.currentSorting.global.type !== type;\n\n    if (newSortType) {\n      if (this.semiActiveSortingEls) {\n        this.resetSemiActiveSortingEls();\n      }\n      // Unset class of previous global sorting element\n      if (this.vis.currentSorting.global.el) {\n        this.resetSortEl(this.vis.currentSorting.global.el, type);\n      }\n    }\n\n    this.vis.currentSorting.global.el = d3.select(el);\n    this.vis.currentSorting.global.el.classed('active', true);\n    this.vis.currentSorting.global.type = type;\n\n    const columnKeys = Object.keys(this.vis.currentSorting.local);\n    for (let i = 0, len = columnKeys.length; i < len; i++) {\n      // Update local sorting properties and buttons but do **not** sort\n      // locally!\n      this.sortColumn(el, columnKeys[i], type, true);\n    }\n\n    this.vis.sortAllColumns(type, newSortType);\n  }\n\n  sortColumn (el, index, type, global) {\n    // Reset global sorting\n    if (!global) {\n      if (this.semiActiveSortingEls) {\n        this.resetSemiActiveSortingEls();\n      }\n      if (this.vis.currentSorting.global.type) {\n        this.resetSortEl(this.vis.currentSorting.global.el, type);\n      }\n      this.vis.currentSorting.global.type = undefined;\n    }\n\n    let newSortType = false;\n\n    if (this.vis.currentSorting.local[index].el) {\n      if (this.vis.currentSorting.local[index].type !== type) {\n        this.resetSortEl(this.vis.currentSorting.local[index].el, type);\n      }\n    }\n\n    if (this.vis.currentSorting.local[index].type !== type) {\n      newSortType = true;\n      // Reset sort order\n      this.vis.currentSorting.local[index].order = 0;\n    }\n\n    this.vis.currentSorting.local[index].el = d3.select(el);\n    this.vis.currentSorting.local[index].type = type;\n\n    // -1 = desc, 1 = asc\n    if (this.vis.currentSorting.local[index].order === -1) {\n      this.vis.currentSorting.local[index].order = 1;\n      this.vis.currentSorting.local[index].el.select('.icon-sort-desc')\n        .classed('visible', false);\n      this.vis.currentSorting.local[index].el.select('.icon-sort-asc')\n        .classed('visible', true);\n    } else {\n      this.vis.currentSorting.local[index].order = -1;\n      this.vis.currentSorting.local[index].el.select('.icon-sort-asc')\n        .classed('visible', false);\n      this.vis.currentSorting.local[index].el.select('.icon-sort-desc')\n        .classed('visible', true);\n    }\n\n    this.vis.currentSorting.local[index].el.select('.icon-unsort')\n      .classed('visible', false);\n\n    this.vis.currentSorting.local[index].el.classed('active', true);\n\n    if (!global) {\n      this.vis.sortColumn(\n        index,\n        type,\n        this.vis.currentSorting.local[index].order,\n        newSortType\n      );\n    }\n  }\n\n  resetSortEl (el, newType) {\n    el.classed('active', false);\n    el.select('.icon-sort-desc').classed('visible', false);\n    el.select('.icon-sort-asc').classed('visible', false);\n    el.select('.icon-unsort').classed('visible', true);\n    if (newType === 'name') {\n      el.classed('semi-active', true);\n      this.semiActiveSortingEls = true;\n    }\n  }\n\n  resetSemiActiveSortingEls () {\n    this.el.selectAll('.semi-active').classed('semi-active', false);\n  }\n\n  // toggleOptions () {\n  //   console.log('Toggle options');\n  // }\n\n  switch () {\n    this.el.classed('details', !this.el.classed('details'));\n  }\n\n  switchBarMode (el, mode) {\n    if (this.vis.nodes.barMode !== mode) {\n      if (mode === 'one') {\n        this.globalOneBar.classed('active', true);\n        this.globalTwoBars.classed('active', false);\n      } else {\n        this.globalOneBar.classed('active', false);\n        this.globalTwoBars.classed('active', true);\n      }\n      this.vis.switchBarMode(mode);\n    }\n  }\n}\n\nexport default Topbar;\n","// External\nimport * as d3 from 'd3';  // eslint-disable-line import/no-unresolved\n\nconst COLUMN_CLASS = 'column';\nconst SCROLL_CONTAINER_CLASS = 'scroll-container';\n\nclass Levels {\n  constructor (selection, vis, visData) {\n    this.vis = vis;\n    this.visData = visData;\n    this.groups = selection\n      .selectAll('g')\n      .data(this.visData.nodes)\n      .enter()\n      .append('g')\n        .attr('class', COLUMN_CLASS)\n        .classed(\n          'active',\n          (data, index) => {\n            if (this.vis.highlightActiveLevel) {\n              if (!this.vis.nodes || !this.vis.nodes.rootedNode) {\n                return index === this.vis.activeLevel -\n                  this.vis.noRootActiveLevelDiff;\n              }\n              return index === this.vis.activeLevel;\n            }\n            return false;\n          }\n        )\n        .each(data => { data.scrollTop = 0; });\n\n    // We need to add an empty rectangle that fills up the whole column to ensure\n    // that the `g`'s size is at a maximum, otherwise scrolling will be halted\n    // when the cursor leaves an actually drawn element.\n    this.groups\n      .append('rect')\n        .attr('class', SCROLL_CONTAINER_CLASS)\n        .attr('x', data => data.x)\n        .attr('y', data => data.y)\n        .attr('width', this.visData.global.column.width + 1)\n        .attr('height', this.visData.global.column.height);\n  }\n\n  scrollPreparation (vis, scrollbarWidth) {\n    this.groups.each((data, index) => {\n      const contentHeight = data.nodes.getBoundingClientRect().height +\n        2 * this.visData.global.row.padding;\n      const scrollHeight = contentHeight - this.visData.global.column.height;\n      const scrollbarHeight = scrollHeight > 0 ?\n        Math.max(\n          (\n            this.visData.global.column.height *\n            this.visData.global.column.height /\n            contentHeight\n          ),\n          10\n        ) : 0;\n\n      data.height = contentHeight;\n      data.linkSelections = {\n        incoming: index > 0 ?\n          vis.selectByLevel(index - 1, '.link') : null,\n        outgoing: vis.selectByLevel(index, '.link')\n      };\n      data.scrollHeight = scrollHeight;\n      data.scrollTop = 0;\n      data.scrollbar = {\n        el: undefined,\n        x: data.x + this.visData.global.column.width - scrollbarWidth,\n        y: 0,\n        width: scrollbarWidth,\n        height: scrollbarHeight,\n        scrollHeight: this.visData.global.column.height - scrollbarHeight,\n        scrollTop: 0,\n        heightScale: d3.scale.linear()\n          .domain([0, scrollHeight])\n          .range([0, this.visData.global.column.height - scrollbarHeight])\n      };\n      data.invertedHeightScale = data.scrollbar.heightScale.invert;\n    });\n  }\n\n  updateScrollProperties () {\n    this.groups.each(data => {\n      const contentHeight = data.nodes.getBoundingClientRect().height +\n        2 * this.visData.global.row.padding;\n      const scrollHeight = contentHeight - this.visData.global.column.height;\n      const scrollbarHeight = scrollHeight > 0 ?\n        Math.max(\n          (\n            this.visData.global.column.height *\n            this.visData.global.column.height /\n            contentHeight\n          ),\n          10\n        ) : 0;\n\n      data.height = contentHeight;\n      data.scrollHeight = scrollHeight;\n      data.scrollTop = 0;\n      data.scrollbar.y = 0;\n      data.scrollbar.height = scrollbarHeight;\n      data.scrollbar.scrollHeight = this.visData.global.column.height -\n        scrollbarHeight;\n      data.scrollbar.scrollTop = 0;\n      data.scrollbar.heightScale = d3.scale.linear()\n        .domain([0, scrollHeight])\n        .range([0, this.visData.global.column.height - scrollbarHeight]);\n    });\n  }\n\n  updateVisibility () {\n    this.groups.each(function () {\n      const group = d3.select(this);\n\n      group.classed('hidden', group.selectAll('.node')\n        .filter(data => !data.hidden).empty());\n    });\n  }\n\n  get className () {\n    return COLUMN_CLASS;\n  }\n\n  get height () {\n    return this.visData.global.column.height;\n  }\n\n  focus (level) {\n    if (this.vis.highlightActiveLevel) {\n      this.groups.filter(data => data.level === level).classed('active', true);\n    }\n  }\n\n  blur (level) {\n    if (this.vis.highlightActiveLevel) {\n      if (level) {\n        this.groups.filter(data => data.level === level).classed('active', false);\n      } else {\n        this.groups.classed('active', false);\n      }\n    }\n  }\n}\n\nexport default Levels;\n","// External\nimport * as d3 from 'd3';  // eslint-disable-line import/no-unresolved\n\n// Internal\nimport * as config from './config';\n\nconst LINKS_CLASS = 'links';\nconst LINK_CLASS = 'link';\n\nclass Links {\n  constructor (vis, levels, visData, layout) {\n    this.vis = vis;\n    this.visData = visData;\n    this.layout = layout;\n\n    this.groups = levels.append('g')\n      .attr('class', LINKS_CLASS)\n      .call(selection => {\n        selection.each(function () {\n          d3.select(this.parentNode).datum().links = this;\n        });\n      });\n\n    this.links = this.groups.selectAll(LINK_CLASS)\n      .data((data, index) => this.layout.links(index))\n      .enter()\n      .append('g')\n        .attr('class', LINK_CLASS)\n        .classed(\n          'visible',\n          !this.vis.hideOutwardsLinks || this.linkVisibility.bind(this)\n        );\n\n    this.links.append('path')\n      .attr({\n        class: LINK_CLASS + '-bg',\n        d: this.diagonal\n      });\n\n    this.links.append('path')\n      .attr({\n        class: LINK_CLASS + '-direct',\n        d: this.diagonal\n      });\n  }\n\n  get diagonal () {\n    const extraOffsetX = this.vis.showLinkLocation ? 6 : 0;\n\n    function getSourceX (source) {\n      return source.node.x + source.offsetX +\n        this.visData.global.column.contentWidth +\n        this.visData.global.column.padding;\n    }\n\n    function getTargetX (source) {\n      return source.node.x + source.offsetX +\n        this.visData.global.column.padding;\n    }\n\n    function getY (source) {\n      return source.node.y + source.offsetY +\n        this.visData.global.row.height / 2;\n    }\n\n    return data => {\n      const sourceY = getY.call(this, data.source);\n      const sourceX = getSourceX.call(this, data.source);\n      const targetY = getY.call(this, data.target);\n      const targetX = getTargetX.call(this, data.target);\n      const middleX = (sourceX + targetX) / 2;\n\n      return (\n        'M' + sourceX + ',' + sourceY +\n        'h' + extraOffsetX +\n        'C' + (middleX + extraOffsetX) + ',' + sourceY +\n        ' ' + (middleX - extraOffsetX) + ',' + targetY +\n        ' ' + (targetX - extraOffsetX) + ',' + targetY +\n        'h' + extraOffsetX\n      );\n    };\n  }\n\n  linkVisibility (data) {\n    // Cache visibility.\n    data.hidden = this.vis.pointsOutside.call(this.vis, data);\n    return data.hidden === 0;\n  }\n\n  highlight (nodeIds, highlight, className) {\n    this.links\n      .filter(data => nodeIds[data.id])\n      .classed(className, highlight);\n  }\n\n  scroll (selection, data) {\n    // Update data of `g`.\n    selection.data(data);\n\n    if (this.vis.hideOutwardsLinks) {\n      // Check if links point outwards.\n      selection.classed('visible', this.linkVisibility.bind(this));\n    }\n\n    // Next, update all paths according to the new data.\n    selection.selectAll('path')\n      .attr('d', this.diagonal);\n  }\n\n  sort (update) {\n    const start = function () { d3.select(this).classed('sorting', true); };\n    const end = function () { d3.select(this).classed('sorting', false); };\n\n    // Update data of `g`.\n    this.links.data(update, data => data.id);\n\n    // Next update all paths according to the new data.\n    this.links.selectAll('path')\n      .transition()\n      .duration(config.TRANSITION_SEMI_FAST)\n      .attr('d', this.diagonal)\n      .each('start', start)\n      .each('end', end);\n  }\n\n  updateVisibility () {\n    this.links.selectAll('path')\n      .classed(\n        'hidden', data => data.target.node.hidden || data.source.node.hidden\n      )\n      .transition()\n      .duration(config.TRANSITION_SEMI_FAST)\n      .attr('d', this.diagonal);\n  }\n}\n\nexport default Links;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\nexport default isFunction;\n","/**\n * Checks if `value` is a global object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {null|Object} Returns `value` if it's a global object, else `null`.\n */\nfunction checkGlobal(value) {\n  return (value && value.Object === Object) ? value : null;\n}\n\nexport default checkGlobal;\n","import checkGlobal from './_checkGlobal.js';\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = checkGlobal(typeof global == 'object' && global);\n\n/** Detect free variable `self`. */\nvar freeSelf = checkGlobal(typeof self == 'object' && self);\n\n/** Detect `this` as the global object. */\nvar thisGlobal = checkGlobal(typeof this == 'object' && this);\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || thisGlobal || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsFinite = root.isFinite;\n\n/**\n * Checks if `value` is a finite primitive number.\n *\n * **Note:** This method is based on\n * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a finite number,\n *  else `false`.\n * @example\n *\n * _.isFinite(3);\n * // => true\n *\n * _.isFinite(Number.MIN_VALUE);\n * // => true\n *\n * _.isFinite(Infinity);\n * // => false\n *\n * _.isFinite('3');\n * // => false\n */\nfunction isFinite(value) {\n  return typeof value == 'number' && nativeIsFinite(value);\n}\n\nexport default isFinite;\n","/**\n * Collect all cloned nodes, including the original node.\n *\n * @method  collectInclClones\n * @author  Fritz Lekschas\n * @date    2016-03-20\n * @param   {Object}   node                 Start node\n * @param   {Boolean}  onlyForOriginalNode  If `true` only collect clones when\n *   `node` is not a clone itself.\n * @return  {Array}                         Array of original and cloned nodes.\n */\nexport function collectInclClones (node, onlyForOriginalNode) {\n  let originalNode = node;\n\n  if (node.clone) {\n    originalNode = node.originalNode;\n    if (onlyForOriginalNode) {\n      return [];\n    }\n  }\n\n  let clones = [originalNode];\n\n  if (originalNode.clones.length) {\n    clones = clones.concat(originalNode.clones);\n  }\n\n  return clones;\n}\n","// External\nimport isFinite from '../../../node_modules/lodash-es/isFinite';\n\n// Internal\nimport { collectInclClones } from './utils';\n\nfunction _up (node, callback, depth, includeClones, child, visitedNodes) {\n  if (visitedNodes[node.id]) {\n    if (!visitedNodes[node.id][child.id]) {\n      callback(node, child);\n    }\n    return;\n  }\n\n  const nodes = includeClones ? collectInclClones(node) : [node];\n\n  for (let i = nodes.length; i--;) {\n    visitedNodes[nodes[i].id] = {};\n\n    if (child) {\n      callback(nodes[i], child);\n      visitedNodes[nodes[i].id][child.id] = true;\n    }\n\n    if (!isFinite(depth) || depth > 0) {\n      const parentsId = Object.keys(nodes[i].parents);\n      for (let j = parentsId.length; j--;) {\n        _up(\n          nodes[i].parents[parentsId[j]],\n          callback,\n          depth - 1,\n          includeClones,\n          nodes[i],\n          visitedNodes\n        );\n      }\n    }\n  }\n}\n\nexport function up (node, callback, depth, includeClones, child) {\n  const visitedNodes = {};\n  _up(node, callback, depth, includeClones, child, visitedNodes);\n}\n\nfunction _down (node, callback, depth, includeClones, visitedNodes) {\n  if (visitedNodes[node.id]) {\n    return;\n  }\n\n  const nodes = includeClones ? collectInclClones(node) : [node];\n\n  for (let i = nodes.length; i--;) {\n    callback(nodes[i]);\n\n    visitedNodes[nodes[i].id] = true;\n\n    // We only need to recursivly traverse the graph for the original node as\n    // the clones do not have any children (i.e. the have the same children as\n    // the original node)\n    if (i === 0 && (!isFinite(depth) || depth > 0)) {\n      for (let j = nodes[i].childRefs.length; j--;) {\n        _down(\n          nodes[i].childRefs[j],\n          callback,\n          depth - 1,\n          includeClones,\n          visitedNodes\n        );\n      }\n    }\n  }\n}\n\nexport function down (node, callback, depth, includeClones) {\n  const visitedNodes = {};\n  _down(node, callback, depth, includeClones, visitedNodes);\n}\n\nexport function upAndDown (\n  node, callbackUp, callbackDown, depth, includeClones\n) {\n  if (callbackDown) {\n    up(node, callbackUp, depth, includeClones);\n    down(node, callbackDown, depth, includeClones);\n  } else {\n    const visitedNodes = {};\n    up(node, callbackUp, depth, includeClones, visitedNodes);\n    down(node, callbackUp, depth, includeClones, visitedNodes);\n  }\n}\n\nexport function siblings (node, callback) {\n  const parentsId = Object.keys(node.parents);\n  for (let i = parentsId.length; i--;) {\n    for (let j = node.parents[parentsId[i]].childRefs.length; j--;) {\n      callback(node.parents[parentsId[i]].childRefs[j]);\n    }\n  }\n  // The root node doesn't have a `parents` property but might have `siblings`.\n  if (node.siblings) {\n    const siblingsId = Object.keys(node.siblings);\n    for (let i = siblingsId.length; i--;) {\n      callback(node.siblings[siblingsId[i]]);\n    }\n  }\n}\n","const BAR_CLASS = 'bar';\n\nclass Bar {\n  constructor (barGroup, barData, nodeData, visData, bars) {\n    this.data = barData;\n    this.nodeData = nodeData;\n    this.visData = visData;\n    this.bars = bars;\n\n    this.data.x = nodeData.x;\n    this.data.level = nodeData.depth;\n\n    this.height = this.visData.global.row.contentHeight /\n      (this.data.length * 2) -\n      this.visData.global.cell.padding * 2;\n\n    this.activeHeight = this.visData.global.row.contentHeight - 2;\n\n    this.inactiveheight = this.visData.global.cell.padding * 2 - 1;\n\n    this.selection = barGroup.selectAll(BAR_CLASS)\n      .data(this.data)\n      .enter()\n      .append('g')\n        .attr('class', data => BAR_CLASS + ' ' + data.id)\n        .classed('active', data =>\n          data.id === this.visData.nodes[this.nodeData.depth].sortBy);\n\n    // Local helper method to avoid code duplication.\n    function setupMagnitude (selection) {\n      const currentSorting = this.visData.nodes[this.nodeData.depth].sortBy;\n\n      selection\n        .attr('d', data => this.bars.generatePath(data, currentSorting))\n        .classed('bar-magnitude', true);\n    }\n\n    function setupBorder (selection) {\n      selection\n        .attr('x', 0)\n        .attr('y', this.visData.global.row.padding)\n        .attr('width', this.visData.global.column.contentWidth)\n        .attr('height', this.visData.global.row.contentHeight)\n        .attr('rx', 2)\n        .attr('ry', 2)\n        .classed('bar-border', true);\n    }\n\n    function setupIndicator (selection) {\n      selection\n        .attr({\n          class: 'bar-indicator',\n          x: 0,\n          y: this.visData.global.row.padding,\n          width: 2,\n          height: this.visData.global.row.contentHeight\n        });\n    }\n\n    this.selection\n      .append('rect')\n        .call(setupBorder.bind(this));\n\n    this.selection\n      .append('path')\n        .call(setupMagnitude.bind(this));\n\n    this.selection\n      .append('rect')\n        .call(setupIndicator.bind(this));\n  }\n}\n\nexport default Bar;\n","// Credits go to Mike Bostock: http://bl.ocks.org/mbostock/3468167\nexport function roundRect (x, y, width, height, radius) {\n  const topLeft = radius.topLeft || 0;\n  const topRight = radius.topRight || 0;\n  const bottomLeft = radius.bottomLeft || 0;\n  const bottomRight = radius.bottomRight || 0;\n\n  return 'M' + (x + topLeft) + ',' + y +\n    'h' + (width - topLeft - topRight) +\n    'a' + topRight + ',' + topRight + ' 0 0 1 ' + topRight + ',' + topRight +\n    'v' + (height - (topRight + bottomRight)) +\n    'a' + bottomRight + ',' + bottomRight + ' 0 0 1 ' + -bottomRight + ',' + bottomRight +\n    'h' + (bottomLeft - (width - bottomRight)) +\n    'a' + bottomLeft + ',' + bottomLeft + ' 0 0 1 ' + -bottomLeft + ',' + -bottomLeft +\n    'v' + (topLeft - (height - bottomLeft)) +\n    'a' + topLeft + ',' + topLeft + ' 0 0 1 ' + topLeft + ',' + -topLeft +\n    'z';\n}\n\n/**\n * Creates a path that looks like a drop menu\n *\n * @example\n * The following is an example how to create a drop menu path:\n * ```javascript\n * import { dropMenu } from './charts';\n * const dropMenuPath = dropMenu({\n *   x: 0,\n *   y: 0,\n *   width: 50,\n *   height: 100,\n *   radius: 5,\n *   arrowSize: 5\n * });\n * ```\n *\n * @method  dropMenu\n * @author  Fritz Lekschas\n * @date    2016-03-03\n * @param   {Object}  c  Config object that needs to contain the following\n *   properties: x, y, width, height, radius and arrowSize.\n */\nexport function dropMenu (c) {\n  return 'M' + (c.x + c.radius) + ',' + c.y +\n    'h' + (c.width - c.radius * 2) +\n    'a' + c.radius + ',' + c.radius + ' 0 0 1 ' + c.radius + ',' + c.radius +\n    'v' + (c.height - c.radius * 2) +\n    'a' + c.radius + ',' + c.radius + ' 0 0 1 ' + -c.radius + ',' + c.radius +\n    'h' + (-(c.width - c.radius * 2 - c.arrowSize * 2) / 2) +\n    'l' + (-c.arrowSize) + ',' + (c.arrowSize) +\n    'l' + (-c.arrowSize) + ',' + (-c.arrowSize) +\n    'h' + (-(c.width - c.radius * 2 - c.arrowSize * 2) / 2) +\n    'a' + c.radius + ',' + c.radius + ' 0 0 1 ' + -c.radius + ',' + -c.radius +\n    'v' + (c.radius - (c.height - c.radius)) +\n    'a' + c.radius + ',' + c.radius + ' 0 0 1 ' + c.radius + ',' + -c.radius +\n    'z';\n}\n","// External\nimport * as d3 from 'd3';  // eslint-disable-line import/no-unresolved\n\n// Internal\nimport Bar from './bar';\nimport * as config from './config';\nimport { roundRect } from '../commons/charts';\n\nconst BARS_CLASS = 'bars';\n\nclass Bars {\n  constructor (vis, selection, mode, visData) {\n    const that = this;\n\n    this.vis = vis;\n    this.mode = mode;\n    this.visData = visData;\n\n    this.indicatorX = d3.scale.linear()\n      .domain([0, 1])\n      .range([1, this.visData.global.column.contentWidth - 3]);\n\n    this.selection = selection.append('g').attr('class', BARS_CLASS);\n\n    this.selection.each(function (datum) {\n      new Bar(d3.select(this), datum.data.bars, datum, that.visData, that);\n    });\n  }\n\n  updateAll (update, sortBy) {\n    this.selection.selectAll('.bar-magnitude')\n      .data(update, data => data.barId)\n      .transition()\n      .duration(config.TRANSITION_SEMI_FAST)\n      .attr('d', data => this.generatePath(\n        data, this.mode, sortBy, this.visData\n      ));\n  }\n\n  update (selection, sortBy) {\n    selection.each(function (data) {\n      const el = d3.select(this);\n\n      if (data.id === sortBy && !el.classed('active')) {\n        el.classed('active', true);\n        // Ensure that the active bars we are places before any other bar,\n        // thus placing them in the background\n        this.parentNode.insertBefore(\n          this,\n          this.parentNode.children[0]\n        );\n      }\n\n      if (data.id !== sortBy) {\n        el.classed('active', false);\n      }\n    });\n\n    selection.selectAll('.bar-magnitude')\n      .transition()\n      .duration(config.TRANSITION_SEMI_FAST)\n      .attr('d', data => this.generatePath(data, sortBy));\n  }\n\n  updateIndicator (selection, referenceValue) {\n    selection\n      .attr('x', this.indicatorX(referenceValue))\n      .attr('width', 2);\n  }\n\n  switchMode (mode, currentSorting) {\n    if (this.mode !== mode) {\n      if (mode === 'one') {\n        if (currentSorting.global.type) {\n          this.selection.selectAll('.bar').selectAll('.bar-magnitude')\n            .transition()\n            .duration(config.TRANSITION_SEMI_FAST)\n            .attr('d', data => this.generateOneBarPath(\n              data, currentSorting.global.type\n            ));\n        } else {\n          // console.error(\n          //   'Switching magnitude visualization after individual sorting is ' +\n          //   'not supported yet.'\n          // );\n        }\n      }\n\n      if (mode === 'two') {\n        this.selection.selectAll('.bar.precision').selectAll('.bar-magnitude')\n          .transition()\n          .duration(config.TRANSITION_SEMI_FAST)\n          .attr('d', data => this.generateTwoBarsPath(data));\n\n        this.selection.selectAll('.bar.recall').selectAll('.bar-magnitude')\n          .transition()\n          .duration(config.TRANSITION_SEMI_FAST)\n          .attr('d', data => this.generateTwoBarsPath(data, true));\n      }\n\n      this.mode = mode;\n    }\n  }\n\n  generatePath (\n    data, currentSorting, indicator, adjustWidth, bottom\n  ) {\n    if (this.mode === 'two') {\n      return this.generateTwoBarsPath(data, bottom);\n    }\n    return this.generateOneBarPath(\n      data, currentSorting, indicator, adjustWidth\n    );\n  }\n\n  generateOneBarPath (\n    data, currentSorting, indicator, adjustWidth\n  ) {\n    const height = this.visData.global.row.contentHeight;\n    const normValue = Math.min(data.value, 1) || 0;\n    const normIndicator = Math.min(indicator, 1) || 0;\n\n    let x = 0;\n    let width = 2;\n\n    let radius = {\n      topLeft: 2,\n      bottomLeft: 2\n    };\n\n    if (indicator) {\n      radius = {};\n    }\n\n    if (data.id !== currentSorting && typeof indicator === 'undefined') {\n      x = this.indicatorX(normValue);\n      radius = {};\n    } else if (indicator) {\n      x = normIndicator * this.visData.global.column.contentWidth;\n      if (adjustWidth) {\n        if (normValue < normIndicator) {\n          x = normValue * this.visData.global.column.contentWidth;\n        }\n        width = Math.max(\n          Math.abs(normIndicator - normValue) *\n            this.visData.global.column.contentWidth\n          , 2\n        );\n      }\n    } else {\n      width = this.visData.global.column.contentWidth * normValue;\n    }\n\n    x = Math.min(x, this.visData.global.column.contentWidth - 2);\n\n    return roundRect(\n      x,\n      this.visData.global.row.padding,\n      width,\n      height,\n      radius\n    );\n  }\n\n  generateTwoBarsPath (data, bottom) {\n    const normValue = Math.min(data.value, 1);\n    const height = this.visData.global.row.contentHeight / 2;\n    const width = this.visData.global.column.contentWidth * normValue;\n\n    let y = this.visData.global.row.padding;\n    let radius = { topLeft: 2 };\n\n    if (bottom) {\n      radius = { bottomLeft: 2 };\n      y += height;\n    }\n\n    return roundRect(\n      0,\n      y,\n      width,\n      height,\n      radius\n    );\n  }\n}\n\nexport default Bars;\n","// External\nimport * as d3 from 'd3';\n\nexport function mergeSelections (selections) {\n  // Create a new empty selection\n  const mergedSelection = d3.selectAll('.d3-list-graph-not-existent');\n\n  function pushSelection (selection) {\n    selection.each(function pushDomNode () {\n      mergedSelection[0].push(this);\n    });\n  }\n\n  for (let i = selections.length; i--;) {\n    pushSelection(selections[i]);\n  }\n\n  return mergedSelection;\n}\n\nexport function allTransitionsEnded (transition, callback) {\n  if (transition.size() === 0) {\n    callback();\n  }\n  let n = 0;\n  transition\n    .each(() => ++n)\n    .each('end', function (...args) {\n      if (!--n) callback.apply(this, args);\n    });\n}\n","// External\nimport * as d3 from 'd3';  // eslint-disable-line import/no-unresolved\nimport isFunction from '../../../node_modules/lodash-es/isFunction';\n\n// Internal\nimport * as traverse from './traversal';\nimport * as config from './config';\nimport Bars from './bars';\nimport { allTransitionsEnded } from '../commons/d3-utils';\nimport { roundRect } from '../commons/charts';\n\nconst CLASS_NODES = 'nodes';\nconst CLASS_NODE = 'node';\nconst CLASS_NODE_VISIBLE = 'visible-node';\nconst CLASS_CLONE = 'clone';\nconst CLASS_LABEL_WRAPPER = 'label-wrapper';\nconst CLASS_FOCUS_CONTROLS = 'focus-controls';\nconst CLASS_ROOT = 'root';\nconst CLASS_QUERY = 'query';\nconst CLASS_LOCK = 'lock';\nconst CLASS_INACTIVE = 'inactive';\nconst CLASS_INDICATOR_BAR = 'link-indicator';\nconst CLASS_INDICATOR_LOCATION = 'link-location-indicator';\nconst CLASS_INDICATOR_INCOMING = 'incoming';\nconst CLASS_INDICATOR_OUTGOING = 'outgoing';\nconst CLASS_INDICATOR_ABOVE = 'above';\nconst CLASS_INDICATOR_BELOW = 'below';\n\nclass Nodes {\n  constructor (vis, baseSelection, visData, links, events) {\n    const that = this;\n\n    this.vis = vis;\n    this.visData = visData;\n    this.links = links;\n    this.events = events;\n    this.currentLinks = {};\n    this.iconDimension = Math.min(\n      (\n        this.visData.global.row.contentHeight / 2 -\n        this.visData.global.cell.padding * 2\n      ),\n      this.visData.global.column.padding / 2 - 4\n    );\n\n    const linkDensityBg = d3.scale.linear()\n      .domain([1, this.vis.rows])\n      .range(['#ccc', '#000']);\n\n    function drawLinkIndicator (selection, direction) {\n      const incoming = direction === 'incoming';\n\n      selection\n        .attr(\n          'class',\n          CLASS_INDICATOR_BAR + ' ' + (incoming ?\n            CLASS_INDICATOR_INCOMING : CLASS_INDICATOR_OUTGOING)\n        )\n        .attr(\n          'd',\n          roundRect(\n            incoming ? -7 : this.visData.global.column.contentWidth,\n            this.visData.global.row.height / 2 - 1,\n            7,\n            2,\n            {\n              topLeft: incoming ? 1 : 0,\n              topRight: incoming ? 0 : 1,\n              bottomLeft: incoming ? 1 : 0,\n              bottomRight: incoming ? 0 : 1\n            }\n          )\n        )\n        .attr('fill', data => linkDensityBg(data.links[direction].refs.length))\n        .classed('visible', data => data.links[direction].refs.length > 0);\n    }\n\n    function drawLinkLocationIndicator (selection, direction, position) {\n      const above = position === 'above';\n      const incoming = direction === 'incoming';\n\n      const className = CLASS_INDICATOR_LOCATION + ' ' + (\n        incoming ? CLASS_INDICATOR_INCOMING : CLASS_INDICATOR_OUTGOING\n      ) + ' ' + (\n        above ? CLASS_INDICATOR_ABOVE : CLASS_INDICATOR_BELOW\n      );\n\n      selection\n        .datum(data => data.links[direction])\n        .attr('class', className)\n        .attr('x', incoming ? -5 : this.visData.global.column.contentWidth + 2)\n        .attr(\n          'y',\n          above ?\n            this.visData.global.row.height / 2 - 1 :\n            this.visData.global.row.height / 2 + 1\n        )\n        .attr('width', 3)\n        .attr('height', 3)\n        .attr('fill', data => linkDensityBg(data.refs.length));\n    }\n\n    // Helper\n    function drawFullSizeRect (selection, className, shrinking, noRoundBorder) {\n      const shrinkingAmount = shrinking || 0;\n\n      selection\n        .attr('x', shrinkingAmount)\n        .attr('y', that.visData.global.row.padding + shrinkingAmount)\n        .attr(\n          'width',\n          that.visData.global.column.contentWidth - 2 * shrinkingAmount\n        )\n        .attr(\n          'height',\n          that.visData.global.row.contentHeight - 2 * shrinkingAmount\n        )\n        .attr('rx', noRoundBorder ? 0 : 2 - shrinkingAmount)\n        .attr('ry', noRoundBorder ? 0 : 2 - shrinkingAmount)\n        .classed(className, true);\n    }\n\n    function drawMaxSizedRect (selection) {\n      selection\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('width', that.visData.global.column.contentWidth)\n        .attr('height', that.visData.global.row.height)\n        .attr('class', 'invisible-container');\n    }\n\n    this.groups = baseSelection.append('g')\n      .attr('class', CLASS_NODES)\n      .call(selection => {\n        selection.each(function storeLinkToGroupNode () {\n          d3.select(this.parentNode).datum().nodes = this;\n        });\n      });\n\n    this.nodes = this.groups\n      .selectAll('.' + CLASS_NODE)\n      .data(data => data.rows)\n      .enter()\n      .append('g')\n        .classed(CLASS_NODE, true)\n        .classed(CLASS_CLONE, data => data.clone)\n        .attr('transform', data => 'translate(' +\n          (data.x + this.visData.global.column.padding) + ', ' + data.y + ')');\n\n    this.nodes.append('rect').call(drawMaxSizedRect);\n\n    this.visNodes = this.nodes.append('g').attr('class', CLASS_NODE_VISIBLE);\n\n    this.visNodes.append('rect').call(drawFullSizeRect, 'bg-border');\n\n    this.visNodes.append('rect').call(drawFullSizeRect, 'bg', 1, true);\n\n    if (this.vis.showLinkLocation) {\n      this.nodes.append('rect')\n          .call(drawLinkLocationIndicator.bind(this), 'incoming', 'above');\n      this.nodes.append('rect')\n          .call(drawLinkLocationIndicator.bind(this), 'incoming', 'bottom');\n      this.nodes.append('rect')\n          .call(drawLinkLocationIndicator.bind(this), 'outgoing', 'above');\n      this.nodes.append('rect')\n          .call(drawLinkLocationIndicator.bind(this), 'outgoing', 'bottom');\n\n      this.nodes.append('path').call(drawLinkIndicator.bind(this), 'incoming');\n      this.nodes.append('path').call(drawLinkIndicator.bind(this), 'outgoing');\n\n      // Set all the link location indicator bars.\n      this.groups.each((data, index) => {\n        this.calcHeightLinkLocationIndicator(index, true, true);\n      });\n    }\n\n    // Rooting icons\n    const nodeRooted = this.nodes.append('g')\n      .attr('class', `${CLASS_FOCUS_CONTROLS} ${CLASS_ROOT} ${CLASS_INACTIVE}`);\n\n    nodeRooted.append('rect')\n      .call(\n        this.setUpFocusControls.bind(this),\n        'left',\n        0.6,\n        'hover-helper',\n        'hover-helper'\n      );\n\n    nodeRooted.append('svg')\n      .call(\n        this.setUpFocusControls.bind(this),\n        'left',\n        0.6,\n        'icon',\n        'ease-all state-inactive invisible-default icon'\n      )\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#unlocked');\n\n    nodeRooted.append('svg')\n      .call(\n        this.setUpFocusControls.bind(this),\n        'left',\n        0.6,\n        'icon',\n        'ease-all state-active invisible-default icon'\n      )\n      .append('use')\n        .attr('xlink:href', this.vis.iconPath + '#locked');\n\n    // Querying icons\n    if (this.vis.querying) {\n      const nodeQuery = this.nodes.append('g')\n        .attr(\n          'class', `${CLASS_FOCUS_CONTROLS} ${CLASS_QUERY} ${CLASS_INACTIVE}`\n        );\n\n      nodeQuery.append('rect')\n        .call(\n          this.setUpFocusControls.bind(this),\n          'right',\n          0.6,\n          'hover-helper',\n          'hover-helper'\n        );\n\n      nodeQuery.append('svg')\n        .call(\n          this.setUpFocusControls.bind(this),\n          'right',\n          0.6,\n          'icon',\n          'ease-all state-and-or invisible-default icon'\n        )\n        .append('use')\n          .attr('xlink:href', this.vis.iconPath + '#union');\n\n      nodeQuery.append('svg')\n        .call(\n          this.setUpFocusControls.bind(this),\n          'right',\n          0.6,\n          'icon',\n          'ease-all state-not invisible-default icon'\n        )\n        .append('use')\n          .attr('xlink:href', this.vis.iconPath + '#not');\n    }\n\n    this.bars = new Bars(this.vis, this.visNodes, this.vis.barMode, this.visData);\n\n    this.visNodes\n      .append('rect')\n        .call(drawFullSizeRect, 'border');\n\n    // Add node label\n    this.visNodes.append('foreignObject')\n      .attr('x', this.visData.global.cell.padding)\n      .attr('y', this.visData.global.row.padding +\n        this.visData.global.cell.padding)\n      .attr('width', this.visData.global.column.contentWidth)\n      .attr('height', this.visData.global.row.contentHeight -\n        this.visData.global.cell.padding * 2)\n      .attr('class', CLASS_LABEL_WRAPPER)\n      .append('xhtml:div')\n        .attr('class', 'label')\n        .attr('title', data => data.data.name)\n        .style('line-height', (this.visData.global.row.contentHeight -\n          this.visData.global.cell.padding * 2) + 'px')\n        .append('xhtml:span')\n          .text(data => data.data.name);\n\n    if (isFunction(this.events.on)) {\n      this.events.on('d3ListGraphFocusNodes', event => this.focusNodes(event));\n\n      this.events.on('d3ListGraphBlurNodes', event => this.blurNodes(event));\n\n      this.events.on(\n        'd3ListGraphNodeEnter',\n        nodeIds => this.eventHelper(\n          nodeIds, this.highlightNodes\n        )\n      );\n\n      this.events.on(\n        'd3ListGraphNodeLeave',\n        nodeIds => this.eventHelper(\n          nodeIds, this.unhighlightNodes\n        )\n      );\n\n      this.events.on(\n        'd3ListGraphNodeLock',\n        nodeIds => this.eventHelper(\n          nodeIds, this.toggleLock, []\n        )\n      );\n\n      this.events.on(\n        'd3ListGraphNodeUnlock',\n        nodeIds => this.eventHelper(\n          nodeIds, this.toggleLock, [true]\n        )\n      );\n\n      this.events.on(\n        'd3ListGraphNodeRoot',\n        data => this.eventHelper(\n          data.nodeIds, this.toggleRoot, [false, true]\n        )\n      );\n\n      this.events.on(\n        'd3ListGraphNodeUnroot',\n        data => this.eventHelper(\n          data.nodeIds, this.toggleRoot, [true, true]\n        )\n      );\n    }\n\n    this.nodes.call(this.isInvisible.bind(this));\n  }\n\n  get classNnodes () { return CLASS_NODES; }\n  get classNode () { return CLASS_NODE; }\n  get classNodeVisible () { return CLASS_NODE_VISIBLE; }\n  get classClone () { return CLASS_CLONE; }\n  get classLabelWrapper () { return CLASS_LABEL_WRAPPER; }\n  get classFocusControls () { return CLASS_FOCUS_CONTROLS; }\n  get classRoot () { return CLASS_ROOT; }\n  get classQuery () { return CLASS_QUERY; }\n  get classLock () { return CLASS_LOCK; }\n\n  updateLinkLocationIndicators (left, right) {\n    this.calcHeightLinkLocationIndicator(left, false, true);\n    this.calcHeightLinkLocationIndicator(right, true, false);\n  }\n\n  calcHeightLinkLocationIndicator (level, incoming, outgoing) {\n    const nodes = this.nodes.filter(data => data.depth === level);\n    nodes.each(data => {\n      if (incoming) {\n        data.links.incoming.above = 0;\n        data.links.incoming.below = 0;\n        for (let i = data.links.incoming.total; i--;) {\n          // We are checking the source location of the incoming link. The\n          // source location is the location of the node of the column being\n          // scrolled.\n          if ((data.links.incoming.refs[i].hidden & 1) > 0) {\n            data.links.incoming.above++;\n          }\n          if ((data.links.incoming.refs[i].hidden & 2) > 0) {\n            data.links.incoming.below++;\n          }\n        }\n      }\n      if (outgoing) {\n        data.links.outgoing.above = 0;\n        data.links.outgoing.below = 0;\n        for (let i = data.links.outgoing.total; i--;) {\n          // We are checking the target location of the outgoing link. The\n          // source location is the location of the node of the column being\n          // scrolled.\n          if ((data.links.outgoing.refs[i].hidden & 4) > 0) {\n            data.links.outgoing.above++;\n          }\n          if ((data.links.outgoing.refs[i].hidden & 8) > 0) {\n            data.links.outgoing.below++;\n          }\n        }\n      }\n    });\n\n    if (incoming) {\n      this.updateHeightLinkLocationIndicatorBars(nodes);\n    }\n\n    if (outgoing) {\n      this.updateHeightLinkLocationIndicatorBars(nodes, true);\n    }\n  }\n\n  updateHeightLinkLocationIndicatorBars (selection, outgoing) {\n    const barRefHeight = this.visData.global.row.contentHeight / 2 - 1;\n    const barAboveRefTop = this.visData.global.row.height / 2 - 1;\n\n    const baseClassName = '.' + CLASS_INDICATOR_LOCATION +\n      '.' + (\n        outgoing ? CLASS_INDICATOR_OUTGOING : CLASS_INDICATOR_INCOMING\n      );\n\n    selection.selectAll(\n      baseClassName +\n      '.' + CLASS_INDICATOR_ABOVE\n    ).attr(\n      'y',\n      data => (data.total ?\n        barAboveRefTop - data.above / data.total * barRefHeight :\n        barAboveRefTop)\n    ).attr(\n      'height',\n      data => (data.total ? data.above / data.total * barRefHeight : 0)\n    );\n\n    selection.selectAll(\n      baseClassName +\n      '.' + CLASS_INDICATOR_BELOW\n    ).attr(\n      'height',\n      data => (data.total ? data.below / data.total * barRefHeight : 0)\n    );\n  }\n\n  enterHandler (el, data) {\n    this.highlightNodes(d3.select(el));\n\n    const eventData = {\n      id: data.id,\n      clone: false,\n      clonedFromId: undefined\n    };\n\n    if (data.clone) {\n      eventData.clone = true;\n      eventData.clonedFromId = data.originalNode.id;\n    }\n\n    this.events.broadcast('d3ListGraphNodeEnter', eventData);\n  }\n\n  leaveHandler (el, data) {\n    this.unhighlightNodes(d3.select(el));\n\n    const eventData = {\n      id: data.id,\n      clone: false,\n      clonedFromId: undefined\n    };\n\n    if (data.clone) {\n      eventData.clone = true;\n      eventData.clonedFromId = data.originalNode.id;\n    }\n\n    this.events.broadcast('d3ListGraphNodeLeave', eventData);\n  }\n\n  lockHandler (d3El) {\n    const events = this.toggleLock(d3El);\n\n    if (events.locked && events.unlocked) {\n      this.events.broadcast('d3ListGraphNodeLockChange', {\n        lock: {\n          id: events.locked.id,\n          clone: events.locked.clone,\n          clonedFromId: events.locked.clone ?\n            events.locked.originalNode.id : undefined\n        },\n        unlock: {\n          id: events.unlocked.id,\n          clone: events.unlocked.clone,\n          clonedFromId: events.unlocked.clone ?\n            events.unlocked.originalNode.id : undefined\n        }\n      });\n    } else {\n      if (events.locked) {\n        this.events.broadcast('d3ListGraphNodeLock', {\n          id: events.locked.id,\n          clone: events.locked.clone,\n          clonedFromId: events.locked.clone ?\n            events.locked.originalNode.id : undefined\n        });\n      }\n\n      if (events.unlocked) {\n        this.events.broadcast('d3ListGraphNodeUnlock', {\n          id: events.unlocked.id,\n          clone: events.unlocked.clone,\n          clonedFromId: events.unlocked.clone ?\n            events.unlocked.originalNode.id : undefined\n        });\n      }\n    }\n  }\n\n  rootHandler (d3El, unroot) {\n    if (!d3El.datum().data.state.root && unroot) {\n      // The node is not rooted so there's no point in unrooting.\n      return;\n    }\n    const events = this.toggleRoot(d3El, unroot);\n\n    if (events.rooted && events.unrooted) {\n      this.events.broadcast('d3ListGraphNodeReroot', {\n        rooted: {\n          id: events.rooted.id,\n          clone: events.rooted.clone,\n          clonedFromId: events.rooted.clone ?\n            events.rooted.originalNode.id : undefined\n        },\n        unrooted: {\n          id: events.unrooted.id,\n          clone: events.unrooted.clone,\n          clonedFromId: events.unrooted.clone ?\n            events.unrooted.originalNode.id : undefined\n        }\n      });\n    } else {\n      if (events.rooted) {\n        this.events.broadcast('d3ListGraphNodeRoot', {\n          id: events.rooted.id,\n          clone: events.rooted.clone,\n          clonedFromId: events.rooted.clone ?\n            events.rooted.originalNode.id : undefined\n        });\n      }\n\n      if (events.unrooted) {\n        this.events.broadcast('d3ListGraphNodeUnroot', {\n          id: events.unrooted.id,\n          clone: events.unrooted.clone,\n          clonedFromId: events.unrooted.clone ?\n            events.unrooted.originalNode.id : undefined\n        });\n      }\n    }\n  }\n\n  focusNodes (event) {\n    const same = this.checkNodeFocusEventSame(event.nodeIds);\n    if (this.nodeFocusId && !same) {\n      // Show unrelated nodes first before we hide them again.\n      this.blurNodes({\n        nodeIds: this.nodeFocusId\n      });\n    }\n\n    this.nodeFocusId = event.nodeIds;\n\n    this.eventHelper(\n      event.nodeIds,\n      this.highlightNodes,\n      [\n        'focus',\n        'directParentsOnly',\n        !!event.excludeClones,\n        event.zoomOut || event.hideUnrelatedNodes\n      ]\n    );\n\n    if (event.zoomOut) {\n      this.vis.globalView(this.nodes.filter(data => data.hovering > 0));\n    } else {\n      this.vis.zoomedView();\n    }\n\n    if (event.hideUnrelatedNodes) {\n      if (!same || !this.tempHidingUnrelatedNodes) {\n        this.hideUnrelatedNodes(event.nodeIds);\n      }\n    } else if (this.tempHidingUnrelatedNodes) {\n      this.showUnrelatedNodes();\n    }\n  }\n\n  blurNodes (event) {\n    this.eventHelper(\n      event.nodeIds,\n      this.unhighlightNodes,\n      ['focus', 'directParentsOnly', !!event.excludeClones]\n    );\n\n    if (event.zoomIn) {\n      this.vis.zoomedView();\n    }\n\n    if (this.tempHidingUnrelatedNodes) {\n      this.showUnrelatedNodes();\n    }\n  }\n\n  checkNodeFocusEventSame (nodeIds) {\n    if (!this.nodeFocusId) {\n      return false;\n    }\n    if (nodeIds.length !== this.nodeFocusId.length) {\n      return false;\n    }\n    for (let i = nodeIds.length; i--;) {\n      if (nodeIds[i] !== this.nodeFocusId[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  hideUnrelatedNodes (nodeIds) {\n    this.tempHidingUnrelatedNodes = nodeIds;\n\n    this.nodes\n      .filter(data => !data.hovering)\n      .classed(\n        'hidden', true\n      )\n      .each(data => {\n        // Store old value for `hidden` temporarily\n        data._hidden = data.hidden;\n        data.hidden = true;\n      });\n\n    this.updateVisibility();\n  }\n\n  showUnrelatedNodes () {\n    this.tempHidingUnrelatedNodes = undefined;\n\n    this.nodes\n      .filter(data => !data.hovering)\n      .classed(\n        'hidden', data => data._hidden\n      )\n      .each(data => {\n        data.hidden = data._hidden;\n        data._hidden = undefined;\n      });\n\n    this.updateVisibility();\n  }\n\n  eventHelper (nodeIds, callback, optionalParams, subSelectionClass) {\n    const that = this;\n\n    this.nodes\n      // Filter by node ID\n      .filter(data => !!~nodeIds.indexOf(data.id))\n      .each(function triggerCallback () {\n        let d3El = d3.select(this);\n\n        if (subSelectionClass) {\n          d3El = d3El.select(subSelectionClass);\n        }\n\n        callback.apply(\n          that,\n          [d3El].concat(optionalParams || [])\n        );\n      });\n  }\n\n  get barMode () {\n    return this.bars.mode;\n  }\n\n  toggleLock (d3El, setFalse) {\n    const data = d3El.datum();\n    const events = { locked: false, unlocked: false };\n\n    if (this.lockedNode) {\n      if (this.lockedNode.datum().id === data.id) {\n        this.unlockNode(this.lockedNode.datum().id);\n        events.unlocked = this.lockedNode.datum();\n        this.lockedNode = undefined;\n      } else {\n        // Reset previously locked node;\n        this.unlockNode(this.lockedNode.datum().id);\n        events.unlocked = this.lockedNode.datum();\n\n        if (!setFalse) {\n          this.lockNode(data.id);\n          events.locked = data;\n          this.lockedNode = d3El;\n        }\n      }\n    } else {\n      if (!setFalse) {\n        this.lockNode(data.id);\n        events.locked = data;\n        this.lockedNode = d3El;\n      }\n    }\n\n    return events;\n  }\n\n  lockNode (id) {\n    const that = this;\n    const els = this.nodes.filter(data => data.id === id);\n\n    els.each(function (data) {\n      that.highlightNodes(d3.select(this), 'lock', undefined);\n      data.data.state.lock = true;\n    });\n  }\n\n  unlockNode (id) {\n    const that = this;\n    const els = this.nodes.filter(data => data.id === id);\n\n    els.each(function (data) {\n      that.unhighlightNodes(d3.select(this), 'lock', undefined);\n      data.data.state.lock = undefined;\n    });\n  }\n\n  queryByNode (d3El, mode) {\n    d3El.datum().data.state.query = mode;\n    d3El.classed({\n      active: true,\n      inactive: false,\n      'query-and': mode === 'and',\n      'query-or': mode === 'or',\n      'query-not': mode === 'not'\n    });\n  }\n\n  unqueryByNode (d3El) {\n    const data = d3El.datum();\n\n    data.data.state.query = undefined;\n    data.data.queryBeforeRooting = undefined;\n\n    d3El.classed({\n      active: false,\n      inactive: true,\n      'query-and': false,\n      'query-or': false,\n      'query-not': false\n    });\n\n    if (this.rootedNode) {\n      this.updateVisibility();\n    }\n  }\n\n  toggleQueryByNode (d3El) {\n    const data = d3El.datum();\n    const previousMode = data.data.state.query;\n\n    if (data.data.state.root) {\n      if (previousMode !== 'or') {\n        this.queryByNode(d3El, 'or');\n      } else {\n        this.queryByNode(d3El, 'and');\n      }\n    } else {\n      switch (previousMode) {\n        case 'or':\n          this.queryByNode(d3El, 'and');\n          break;\n        case 'and':\n          this.queryByNode(d3El, 'not');\n          break;\n        case 'not':\n          this.unqueryByNode(d3El);\n          break;\n        default:\n          this.queryByNode(d3El, 'or');\n          break;\n      }\n    }\n  }\n\n  batchQueryHandler (els, noNotification) {\n    const actions = [];\n    for (let i = els.length; i--;) {\n      actions.push(this.queryHandler(\n        els[i].d3El, els[i].action, els[i].mode, true)\n      );\n    }\n\n    if (!noNotification) {\n      this.events.broadcast('d3ListGraphBatchQuery', actions);\n    }\n  }\n\n  queryHandler (d3El, action, mode, returnNoNotification) {\n    const data = d3El.datum();\n    const previousMode = data.data.state.query;\n    const event = {};\n\n    if (!previousMode && action === 'unquery') {\n      // We haven't queried anything so there's nothing to unquery.\n      return undefined;\n    }\n\n    switch (action) {\n      case 'query':\n        this.queryByNode(d3El, mode);\n        break;\n      case 'unquery':\n        this.unqueryByNode(d3El);\n        break;\n      default:\n        this.toggleQueryByNode(d3El);\n        break;\n    }\n\n    if (data.data.state.query) {\n      if (data.data.state.query !== previousMode) {\n        event.name = 'd3ListGraphNodeQuery';\n        event.data = {\n          id: data.id,\n          clone: data.clone,\n          clonedFromId: data.clone ?\n            data.originalNode.id : undefined,\n          mode: data.data.state.query\n        };\n      }\n    } else {\n      event.name = 'd3ListGraphNodeUnquery';\n      event.data = {\n        id: data.id,\n        clone: data.clone,\n        clonedFromId: data.clone ?\n          data.originalNode.id : undefined\n      };\n    }\n\n    if (event.name && !returnNoNotification) {\n      this.events.broadcast(event.name, event.data);\n    }\n\n    return event.name ? event : undefined;\n  }\n\n  toggleRoot (d3El, setFalse, noNotification) {\n    const data = d3El.datum();\n    const events = { rooted: false, unrooted: false };\n    const queries = [];\n\n    // Blur current levels\n    this.vis.levels.blur();\n\n    if (this.rootedNode) {\n      // Reset current root node\n      this.rootedNode.classed({ active: false, inactive: true });\n      events.unrooted = this.rootedNode.datum();\n      if (this.unrootNode(this.rootedNode).unquery) {\n        queries.push({\n          d3El: this.rootedNode,\n          action: 'unquery'\n        });\n      }\n\n      // Activate new root\n      if (this.rootedNode.datum().id !== data.id && !setFalse) {\n        d3El.classed({ active: true, inactive: false });\n        this.rootedNode = d3El;\n        events.rooted = d3El.datum();\n        if (this.rootNode(d3El).query) {\n          queries.push({\n            d3El,\n            action: 'query',\n            mode: 'or'\n          });\n        }\n      } else {\n        this.rootedNode = undefined;\n        // Highlight first level\n        this.vis.levels.focus(\n          this.vis.activeLevel - this.vis.noRootActiveLevelDiff\n        );\n      }\n    } else {\n      if (!setFalse) {\n        d3El.classed({ active: true, inactive: false });\n        this.rootedNode = d3El;\n        events.rooted = d3El.datum();\n        if (this.rootNode(d3El).query) {\n          queries.push({\n            d3El,\n            action: 'query',\n            mode: 'or'\n          });\n        }\n      }\n    }\n\n    if (queries.length) {\n      this.batchQueryHandler(queries, noNotification);\n    }\n\n    return events;\n  }\n\n  rootNode (d3El) {\n    const data = d3El.datum();\n\n    data.data.state.root = true;\n    d3El.classed('rooted', true);\n    this.hideNodes(data);\n\n    // Highlight level\n    this.vis.levels.focus(data.depth + this.vis.activeLevel);\n\n    if (!data.data.state.query || data.data.state.query === 'not') {\n      data.data.queryBeforeRooting = false;\n      // this.queryHandler(d3El, 'query', 'or');\n      return {\n        query: true\n      };\n    }\n\n    data.data.queryBeforeRooting = true;\n\n    return {\n      query: false\n    };\n  }\n\n  unrootNode (d3El) {\n    const data = d3El.datum();\n\n    data.data.state.root = false;\n    d3El.classed('rooted', false);\n    this.showNodes();\n\n    if (!data.data.queryBeforeRooting) {\n      // this.queryHandler(d3El, 'unquery');\n      return {\n        unquery: true\n      };\n    }\n\n    return {\n      unquery: false\n    };\n  }\n\n  setUpFocusControls (selection, location, position, mode, className) {\n    const paddedDim = this.iconDimension + 4;\n\n    let x = 0 - (paddedDim * (position + 1));\n\n    if (location === 'right') {\n      x = this.visData.global.column.contentWidth + 2 + paddedDim * position;\n    }\n\n    const y = this.visData.global.row.padding +\n      (\n        this.visData.global.row.contentHeight -\n        2 * this.visData.global.cell.padding\n      ) / 4;\n\n    if (mode === 'bg') {\n      selection\n        .attr({\n          class: className,\n          cx: x + (this.iconDimension / 2),\n          cy: y + (this.iconDimension / 2),\n          r: this.iconDimension * 3 / 4\n        });\n    } else if (mode === 'hover-helper') {\n      selection\n        .attr({\n          class: className,\n          x: x - 4,\n          y: y - 4,\n          width: this.iconDimension + 8,\n          height: this.iconDimension + 8,\n          rx: this.iconDimension,\n          ry: this.iconDimension\n        });\n    } else {\n      selection\n        .attr({\n          class: className,\n          x,\n          y,\n          width: this.iconDimension,\n          height: this.iconDimension\n        });\n    }\n  }\n\n  /**\n   * Helper method to hide nodes.\n   *\n   * @method  hideNodes\n   * @author  Fritz Lekschas\n   * @date    2016-02-21\n   * @param   {Object}   data        Node data object.\n   */\n  hideNodes (data) {\n    this.nodesVisibility(data);\n  }\n\n  /**\n   * Helper method to show nodes.\n   *\n   * @method  showNodes\n   * @author  Fritz Lekschas\n   * @date    2016-02-21\n   * @param   {Object}  data       Node data object.\n   */\n  showNodes () {\n    this.nodesVisibility(undefined, true);\n  }\n\n  /**\n   * Sets the nodes' visibility\n   *\n   * @method  nodesVisibility\n   * @author  Fritz Lekschas\n   * @date    2016-02-21\n   * @param   {Object}   data        Node data object.\n   * @param   {Boolean}  show        If `true` nodes will be shown.\n   */\n  nodesVisibility (data, show) {\n    if (show) {\n      this.nodes\n        .classed('hidden', false)\n        .each(nodeData => { nodeData.hidden = false; });\n    } else {\n      // First we set all nodes to `hidden`.\n      this.nodes.each(nodeData => { nodeData.hidden = true; });\n\n      // Then we set direct child and parent nodes of the current node visible.\n      traverse.upAndDown(data, nodeData => { nodeData.hidden = false; });\n\n      // We also show sibling nodes.\n      traverse.siblings(data, nodeData => { nodeData.hidden = false; });\n\n      this.nodes.classed(\n        'hidden',\n        nodeData => nodeData.hidden && !nodeData.data.state.query\n      );\n    }\n    this.updateVisibility();\n  }\n\n  isInvisible (selection, customScrollTop) {\n    selection.classed('invisible', data => {\n      const scrollTop = customScrollTop ||\n        this.visData.nodes[data.depth].scrollTop;\n\n      // Node is right to the visible container\n      if (data.x + this.vis.dragged.x >= this.vis.width) {\n        return (data.invisible = true);\n      }\n      // Node is below the visible container\n      if (\n        data.y + scrollTop >= this.vis.height\n      ) {\n        return (data.invisible = true);\n      }\n      // Node is above the visible container\n      if (\n        data.y + this.visData.global.row.height +\n        scrollTop <= 0\n      ) {\n        return (data.invisible = true);\n      }\n      // Node is left to the visible container\n      if (data.x + this.vis.dragged.x + this.visData.global.column.width <= 0) {\n        return (data.invisible = true);\n      }\n      return (data.invisible = false);\n    });\n  }\n\n  makeAllTempVisible (unset) {\n    if (unset) {\n      this.nodes.classed(\n        'invisible', data => {\n          const prevInvisible = data._invisible;\n          data._invisible = undefined;\n\n          return prevInvisible;\n        }\n      );\n    } else {\n      this.nodes\n        .classed(\n          'invisible', data => {\n            data._invisible = data.invisible;\n            return false;\n          }\n        );\n    }\n  }\n\n  highlightNodes (\n    d3El, className, restriction, excludeClones, noVisibilityCheck\n  ) {\n    const that = this;\n    const data = d3El.datum();\n    const nodeId = data.id;\n    const currentNodeData = data.clone ? data.originalNode : data;\n    const includeParents = true;\n    const appliedClassName = className || 'hovering';\n    const includeClones = !!!excludeClones;\n    const includeChildren = restriction !== 'directParentsOnly';\n\n    // Store link IDs\n    if (!this.currentLinks[appliedClassName]) {\n      this.currentLinks[appliedClassName] = {};\n    }\n    this.currentLinks[appliedClassName][nodeId] = {};\n\n    let currentlyActiveBar = d3El.selectAll(\n      '.bar.active .bar-magnitude'\n    );\n    if (!currentlyActiveBar.empty()) {\n      currentlyActiveBar = currentlyActiveBar.datum();\n    } else {\n      currentlyActiveBar = undefined;\n    }\n\n    const traverseCallbackUp = (nodeData, childData) => {\n      nodeData.hovering = 2;\n      for (let i = nodeData.links.outgoing.refs.length; i--;) {\n        // Only push direct parent child connections. E.g.\n        // Store: (parent)->(child)\n        // Ignore: (parent)->(siblings of child)\n        if (nodeData.links.outgoing.refs[i].target.node.id === childData.id) {\n          this.currentLinks[appliedClassName][nodeId][\n            nodeData.links.outgoing.refs[i].id\n          ] = true;\n        }\n      }\n    };\n\n    const traverseCallbackDown = nodeData => {\n      nodeData.hovering = 2;\n      for (let i = nodeData.links.outgoing.refs.length; i--;) {\n        this.currentLinks[appliedClassName][nodeId][\n          nodeData.links.outgoing.refs[i].id\n        ] = true;\n      }\n    };\n\n    if (includeParents && includeChildren) {\n      traverse.upAndDown(\n        data.clone ? data.originalNode : data,\n        traverseCallbackUp,\n        traverseCallbackDown,\n        undefined,\n        includeClones\n      );\n    }\n    if (includeParents && !includeChildren) {\n      traverse.up(data, traverseCallbackUp, undefined, includeClones);\n    }\n    if (!includeParents && includeChildren) {\n      traverse.down(\n        data.clone ? data.originalNode : data,\n        traverseCallbackUp,\n        undefined,\n        includeClones\n      );\n    }\n\n    currentNodeData.hovering = 1;\n\n    if (includeClones) {\n      for (let i = currentNodeData.clones.length; i--;) {\n        currentNodeData.clones[i].hovering = 1;\n      }\n    }\n\n    /**\n     * Helper method to assess the node visibility.\n     *\n     * @method  checkNodeVisibility\n     * @author  Fritz Lekschas\n     * @date    2016-02-25\n     * @param   {Object}  _el    [description]\n     * @param   {Object}  _data  [description]\n     * @return  {Boolean}        If `true` element is hidden.\n     */\n    function checkNodeVisibility (_el, _data) {\n      return noVisibilityCheck || (\n        !_data.hidden &&\n        !that.vis.isHidden.call(that.vis, _el)\n      );\n    }\n\n    /**\n     * Helper method to filter out directly hovered nodes.\n     *\n     * @method  checkNodeDirect\n     * @author  Fritz Lekschas\n     * @date    2016-02-25\n     * @param   {Object}  nodeData  The node's data object.\n     * @return  {Boolean}           If `true` element will not be filtered out.\n     */\n    function checkNodeDirect (nodeData) {\n      return nodeData.hovering === 1 && checkNodeVisibility(this, nodeData);\n    }\n\n    /**\n     * Helper method to filter out indirectly hovered nodes.\n     *\n     * @method  checkNodeIndirect\n     * @author  Fritz Lekschas\n     * @date    2016-02-25\n     * @param   {Object}  nodeData  The node's data object.\n     * @return  {Boolean}           If `true` element will not be filtered out.\n     */\n    function checkNodeIndirect (nodeData) {\n      return nodeData.hovering === 2 && checkNodeVisibility(this, nodeData);\n    }\n\n    /**\n     * Helper method to update bar indicators of the directly hovered node and\n     * clones.\n     *\n     * @method  updateDirectBarIndicator\n     * @author  Fritz Lekschas\n     * @date    2016-02-25\n     * @param   {Object}  selection  D3 node selection.\n     */\n    function updateDirectBarIndicator (selection) {\n      that.bars.updateIndicator(\n        selection,\n        currentlyActiveBar.value,\n        true\n      );\n    }\n\n    /**\n     * Helper method to update bar indicators of the indirectly hovered nodes.\n     *\n     * @method  updateDirectBarIndicator\n     * @author  Fritz Lekschas\n     * @date    2016-02-25\n     * @param   {Object}  selection  D3 node selection.\n     */\n    function updateIndirectBarIndicator (selection) {\n      that.bars.updateIndicator(\n        selection,\n        currentlyActiveBar.value\n      );\n    }\n\n    const barIndicatorClass = currentlyActiveBar ?\n      '.bar.' + currentlyActiveBar.id + ' .bar-indicator' : '';\n    const directNodes = this.nodes.filter(checkNodeDirect)\n      .classed(appliedClassName + '-directly', true);\n    const indirectNodes = this.nodes.filter(checkNodeIndirect)\n      .classed(appliedClassName + '-indirectly', true);\n\n    if (currentlyActiveBar) {\n      directNodes.select(barIndicatorClass).call(updateDirectBarIndicator);\n      indirectNodes.select(barIndicatorClass).call(updateIndirectBarIndicator);\n    }\n\n    this.links.highlight(\n      this.currentLinks[appliedClassName][data.id],\n      true,\n      appliedClassName\n    );\n  }\n\n  unhighlightNodes (d3El, className, restriction, excludeClones) {\n    const data = d3El.datum();\n    const traverseCallback = nodeData => { nodeData.hovering = 0; };\n    const includeParents = true;\n    const appliedClassName = className || 'hovering';\n    const includeClones = !!!excludeClones;\n    const includeChildren = restriction !== 'directParentsOnly';\n\n    data.hovering = 0;\n    if (includeParents && includeChildren) {\n      traverse.upAndDown(\n        data, traverseCallback, undefined, undefined, includeClones\n      );\n    }\n    if (includeParents && !includeChildren) {\n      traverse.up(data, traverseCallback, undefined, includeClones);\n    }\n    if (!includeParents && includeChildren) {\n      traverse.down(data, traverseCallback, undefined, includeClones);\n    }\n\n    if (data.clone) {\n      data.originalNode.hovering = 0;\n    } else {\n      if (includeClones) {\n        for (let i = data.clones.length; i--;) {\n          data.clones[i].hovering = 0;\n        }\n      }\n    }\n\n    this.nodes.classed(appliedClassName + '-directly', false);\n    this.nodes.classed(appliedClassName + '-indirectly', false);\n\n    if (\n      this.currentLinks[appliedClassName] &&\n      this.currentLinks[appliedClassName][data.id]\n    ) {\n      this.links.highlight(\n        this.currentLinks[appliedClassName][data.id],\n        false,\n        appliedClassName\n      );\n    }\n  }\n\n  sort (update, newSortType) {\n    for (let i = update.length; i--;) {\n      const selection = this.nodes.data(update[i].rows, data => data.id);\n\n      this.vis.svgD3.classed('sorting', true);\n      selection\n        .transition()\n        .duration(config.TRANSITION_SEMI_FAST)\n        .attr('transform', data => 'translate(' +\n          (data.x + this.visData.global.column.padding) + ', ' + data.y + ')')\n        .call(allTransitionsEnded, () => {\n          this.vis.svgD3.classed('sorting', false);\n          this.vis.updateLevelsVisibility();\n          this.vis.updateScrolling();\n        });\n\n      if (\n        newSortType &&\n        this.vis.currentSorting.local[update[i].level].type !== 'name'\n      ) {\n        this.bars.update(selection.selectAll('.bar'), update[i].sortBy);\n      }\n    }\n  }\n\n  /**\n   * Updates the nodes' visibility visually.\n   *\n   * @method  updateVisibility\n   * @author  Fritz Lekschas\n   * @date    2016-02-21\n   */\n  updateVisibility () {\n    // Calls the D3 list graph layout method to update the nodes position.\n    this.vis.layout.updateNodesVisibility();\n\n    // Transition to the updated position\n    this.nodes\n      .transition()\n      .duration(config.TRANSITION_SEMI_FAST)\n      .attr('transform', data => 'translate(' +\n        (data.x + this.visData.global.column.padding) + ', ' + data.y + ')')\n      .call(allTransitionsEnded, () => {\n        this.vis.updateLevelsVisibility();\n        this.vis.updateScrolling();\n        this.nodes.call(this.isInvisible.bind(this));\n      });\n\n    this.vis.links.updateVisibility();\n  }\n}\n\nexport default Nodes;\n","// External\nimport * as d3 from 'd3';  // eslint-disable-line import/no-unresolved\n\n// Internal\nimport * as config from './config';\n\nconst SCROLLBAR_CLASS = 'scrollbar';\n\nclass Scrollbars {\n  constructor (baseSelection, visData, width) {\n    this.visData = visData;\n    this.width = width;\n\n    // Add empty scrollbar element\n    this.all = baseSelection\n      .append('rect')\n        .attr('class', SCROLLBAR_CLASS)\n        .call(selection => {\n          selection.each(function setScrollBarDomElement () {\n            d3.select(this.parentNode).datum().scrollbar.el = this;\n          });\n        })\n        .attr('x', data => data.scrollbar.x - 2)\n        .attr('y', data => data.scrollbar.y)\n        .attr('width', this.width)\n        .attr('height', data => data.scrollbar.height)\n        .attr('rx', this.width / 2)\n        .attr('ry', this.width / 2)\n        .classed('ready', true);\n  }\n\n  updateVisibility () {\n    this.all\n      .transition()\n      .duration(config.TRANSITION_LIGHTNING_FAST)\n      .attr({\n        x: data => data.scrollbar.x,\n        height: data => data.scrollbar.height\n      });\n  }\n}\n\nexport default Scrollbars;\n","// External\nimport isArray from '../../../node_modules/lodash-es/isArray';\nimport isFinite from '../../../node_modules/lodash-es/isFinite';\nimport isFunction from '../../../node_modules/lodash-es/isFunction';\n\n// Internal\nimport { EventDispatcherNoFunction } from './errors';\n\nclass Events {\n  constructor (el, broadcast) {\n    if (broadcast && !isFunction(broadcast)) {\n      throw new EventDispatcherNoFunction();\n    }\n\n    this.el = el;\n    this._stack = {};\n    this.dispatch = broadcast || this._dispatchEvent;\n  }\n\n  get stack () {\n    return this._stack;\n  }\n\n  _dispatchEvent (eventName, data) {\n    const event = document.createEvent('CustomEvent');\n    event.initCustomEvent(eventName, false, false, data);\n    this.el.dispatchEvent(event);\n  }\n\n  broadcast (event, data) {\n    this.dispatch(event, data);\n  }\n\n  /**\n   * Add a callback function to an event stack.\n   *\n   * @method  on\n   * @author  Fritz Lekschas\n   * @date    2016-01-07\n   *\n   * @param   {String}    event     Event identifier.\n   * @param   {Function}  callback  Function which is called when the event\n   *   stack is triggered.\n   * @param   {Number}    times     Number of times the callback function should\n   *   be triggered before it is removed from the event stack. This is useful\n   *   when an event happens only a certain number of times.\n   * @return  {Number}              Index of callback, which is needed to\n   *   manually remove the callback from the event stack.\n   */\n  on (event, callback, times) {\n    if (!isFunction(callback)) {\n      return false;\n    }\n\n    const normTimes = isFinite(times) ? parseInt(times, 10) : Infinity;\n\n    if (isArray(this.stack[event])) {\n      return this.stack[event]\n        .push({ callback, times: normTimes }) - 1;\n    }\n    this.stack[event] = [{ callback, times: normTimes }];\n    return 0;\n  }\n\n  /**\n   * Removes a callback function from an event stack given its index.\n   *\n   * @method  off\n   * @author  Fritz Lekschas\n   * @date    2016-01-07\n   *\n   * @param   {String}   event  Event identifier.\n   * @param   {Number}   index  Index of the callback to be removed.\n   * @return  {Boolean}         Returns `true` if event callback was found and\n   *   successfully removed.\n   */\n  off (event, index) {\n    try {\n      this.stack[event].splice(index, 1);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  /**\n   * Trigger an event stack\n   *\n   * @method  trigger\n   * @author  Fritz Lekschas\n   * @date    2016-01-07\n   *\n   * @param   {String}   event  Event identifier.\n   * @return  {Boolean}         Returns `true` if an event stack was found.\n   */\n  trigger (event, data) {\n    if (isArray(this.stack[event])) {\n      // Traversing from the end to the start, which has the advantage that\n      // deletion of events, i.e. calling `Event.off()` doesn't affect the index\n      // of event listeners in the next step.\n      for (let i = this.stack[event].length; i--;) {\n        // Instead of checking whether `stack[event][i]` is a function here,\n        // we do it just once when we add the function to the stack.\n        if (this.stack[event][i].times--) {\n          this.stack[event][i].callback(data);\n        } else {\n          this.off(event, i);\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n}\n\nexport default Events;\n","export function objectOrFunction(x) {\n  return typeof x === 'function' || (typeof x === 'object' && x !== null);\n}\n\nexport function isFunction(x) {\n  return typeof x === 'function';\n}\n\nexport function isMaybeThenable(x) {\n  return typeof x === 'object' && x !== null;\n}\n\nvar _isArray;\nif (!Array.isArray) {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n} else {\n  _isArray = Array.isArray;\n}\n\nexport var isArray = _isArray;\n","var len = 0;\nvar vertxNext;\nvar customSchedulerFn;\n\nexport var asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n}\n\nexport function setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nexport function setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = (typeof window !== 'undefined') ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n  typeof importScripts !== 'undefined' &&\n  typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function() {\n    process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  return function() {\n    vertxNext(flush);\n  };\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function() {\n    node.data = (iterations = ++iterations % 2);\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  return function() {\n    setTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i+=2) {\n    var callback = queue[i];\n    var arg = queue[i+1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i+1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch(e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n","import {\n  invokeCallback,\n  subscribe,\n  FULFILLED,\n  REJECTED,\n  noop,\n  makePromise,\n  PROMISE_ID\n} from './-internal';\n\nimport { asap } from './asap';\n\nexport default function then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var state = parent._state;\n\n  if (state) {\n    var callback = arguments[state - 1];\n    asap(function(){\n      invokeCallback(state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n","import {\n  noop,\n  resolve as _resolve\n} from '../-internal';\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  var promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  var promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nexport default function resolve(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  _resolve(promise, object);\n  return promise;\n}\n","import {\n  objectOrFunction,\n  isFunction\n} from './utils';\n\nimport {\n  asap\n} from './asap';\n\nimport originalThen from './then';\nimport originalResolve from './promise/resolve';\n\nexport var PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING   = void 0;\nvar FULFILLED = 1;\nvar REJECTED  = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch(error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch(e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n   asap(function(promise) {\n    var sealed = false;\n    var error = tryThen(then, thenable, function(value) {\n      if (sealed) { return; }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function(reason) {\n      if (sealed) { return; }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function(value) {\n      resolve(promise, value);\n    }, function(reason) {\n      reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then) {\n  if (maybeThenable.constructor === promise.constructor &&\n      then === originalThen &&\n      constructor.resolve === originalResolve) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n    } else if (then === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then)) {\n      handleForeignThenable(promise, maybeThenable, then);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) { return; }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) { return; }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var subscribers = parent._subscribers;\n  var length = subscribers.length;\n\n  parent._onerror = null;\n\n  subscribers[length] = child;\n  subscribers[length + FULFILLED] = onFulfillment;\n  subscribers[length + REJECTED]  = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) { return; }\n\n  var child, callback, detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch(e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value, error, succeeded, failed;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (failed) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value){\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch(e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nexport {\n  nextId,\n  makePromise,\n  getThen,\n  noop,\n  resolve,\n  reject,\n  fulfill,\n  subscribe,\n  publish,\n  publishRejection,\n  initializePromise,\n  invokeCallback,\n  FULFILLED,\n  REJECTED,\n  PENDING,\n  handleMaybeThenable\n};\n","import {\n  isArray,\n  isMaybeThenable\n} from './utils';\n\nimport {\n  noop,\n  reject,\n  fulfill,\n  subscribe,\n  FULFILLED,\n  REJECTED,\n  PENDING,\n  getThen,\n  handleMaybeThenable\n} from './-internal';\n\nimport then from './then';\nimport Promise from './promise';\nimport originalResolve from './promise/resolve';\nimport originalThen from './then';\nimport { makePromise, PROMISE_ID } from './-internal';\n\nexport default Enumerator;\nfunction Enumerator(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this._input     = input;\n    this.length     = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate();\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n};\n\nEnumerator.prototype._enumerate = function() {\n  var length  = this.length;\n  var input   = this._input;\n\n  for (var i = 0; this._state === PENDING && i < length; i++) {\n    this._eachEntry(input[i], i);\n  }\n};\n\nEnumerator.prototype._eachEntry = function(entry, i) {\n  var c = this._instanceConstructor;\n  var resolve = c.resolve;\n\n  if (resolve === originalResolve) {\n    var then = getThen(entry);\n\n    if (then === originalThen &&\n        entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n    }\n  } else {\n    this._willSettleAt(resolve(entry), i);\n  }\n};\n\nEnumerator.prototype._settledAt = function(state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator.prototype._willSettleAt = function(promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function(value) {\n    enumerator._settledAt(FULFILLED, i, value);\n  }, function(reason) {\n    enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n","import Enumerator from '../enumerator';\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  var promise1 = resolve(1);\n  var promise2 = resolve(2);\n  var promise3 = resolve(3);\n  var promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  var promise1 = resolve(1);\n  var promise2 = reject(new Error(\"2\"));\n  var promise3 = reject(new Error(\"3\"));\n  var promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nexport default function all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n","import {\n  isArray\n} from \"../utils\";\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  var promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  var promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  var promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  var promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nexport default function race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function(resolve, reject) {\n      reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function(resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n","import {\n  noop,\n  reject as _reject\n} from '../-internal';\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  var promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  var promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nexport default function reject(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  _reject(promise, reason);\n  return promise;\n}\n","import {\n  isFunction\n} from './utils';\n\nimport {\n  noop,\n  nextId,\n  PROMISE_ID,\n  initializePromise\n} from './-internal';\n\nimport {\n  asap,\n  setAsap,\n  setScheduler\n} from './asap';\n\nimport all from './promise/all';\nimport race from './promise/race';\nimport Resolve from './promise/resolve';\nimport Reject from './promise/reject';\nimport then from './then';\n\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\nexport default Promise;\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  var promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      var xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = Resolve;\nPromise.reject = Reject;\nPromise._setScheduler = setScheduler;\nPromise._setAsap = setAsap;\nPromise._asap = asap;\n\nPromise.prototype = {\n  constructor: Promise,\n\n/**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n\n  ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n\n  Chaining\n  --------\n\n  The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n\n  ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n\n  findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n  ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n\n  Assimilation\n  ------------\n\n  Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n\n  ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n\n  If the assimliated promise rejects, then the downstream promise will also reject.\n\n  ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n\n  Simple Example\n  --------------\n\n  Synchronous Example\n\n  ```javascript\n  var result;\n\n  try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n\n  Errback Example\n\n  ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n\n  Promise Example;\n\n  ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n\n  Advanced Example\n  --------------\n\n  Synchronous Example\n\n  ```javascript\n  var author, books;\n\n  try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n\n  Errback Example\n\n  ```js\n\n  function foundBooks(books) {\n\n  }\n\n  function failure(reason) {\n\n  }\n\n  findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n\n  Promise Example;\n\n  ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n\n  @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n*/\n  then: then,\n\n/**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n\n  ```js\n  function findAuthor(){\n    throw new Error('couldn't find that author');\n  }\n\n  // synchronous\n  try {\n    findAuthor();\n  } catch(reason) {\n    // something went wrong\n  }\n\n  // async with promises\n  findAuthor().catch(function(reason){\n    // something went wrong\n  });\n  ```\n\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n*/\n  'catch': function(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n","/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nfunction now() {\n  return Date.now();\n}\n\nexport default now;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide an options object to indicate whether `func` should be invoked on\n * the leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent calls\n * to the debounced function return the result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n * on the trailing edge of the timeout only if the debounced function is\n * invoked more than once during the `wait` timeout.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","export const requestAnimationFrame = (function () {\n  let lastTime = 0;\n\n  return window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    function (callback) {\n      const currTime = new Date().getTime();\n      const timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      const id = window.setTimeout(() => {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n}());\n\nexport const cancelAnimationFrame = (function () {\n  return window.cancelAnimationFrame ||\n    window.webkitCancelAnimationFrame ||\n    window.mozCancelAnimationFrame ||\n    window.oCancelAnimationFrame ||\n    window.msCancelAnimationFrame ||\n    window.cancelAnimationFrame ||\n    window.webkitCancelAnimationFrame ||\n    window.mozCancelAnimationFrame ||\n    window.oCancelAnimationFrame ||\n    window.msCancelAnimationFrame ||\n    function (id) { window.clearTimeout(id); };\n}());\n\nconst nextAnimationFrame = (function () {\n  const ids = {};\n\n  function requestId () {\n    let id;\n    do {\n      id = Math.floor(Math.random() * 1E9);\n    } while (id in ids);\n    return id;\n  }\n\n  return {\n    request: window.requestNextAnimationFrame || function (callback, element) {\n      const id = requestId();\n\n      ids[id] = requestAnimationFrame(() => {\n        ids[id] = requestAnimationFrame(ts => {\n          delete ids[id];\n          callback(ts);\n        }, element);\n      }, element);\n\n      return id;\n    },\n    cancel: window.cancelNextAnimationFrame || function (id) {\n      if (ids[id]) {\n        cancelAnimationFrame(ids[id]);\n        delete ids[id];\n      }\n    }\n  };\n}());\n\nexport const requestNextAnimationFrame = nextAnimationFrame.request;\nexport const cancelNextAnimationFrame = nextAnimationFrame.cancel;\n","// External\nimport Promise from '../../../node_modules/es6-promise/lib/es6-promise/promise';\nimport debounce from '../../../node_modules/lodash-es/debounce';\n\n// Internal\nimport { dropMenu } from '../commons/charts';\nimport { requestNextAnimationFrame } from '../commons/shims';\nimport { allTransitionsEnded } from '../commons/d3-utils';\n\nconst CLASS_NAME = 'context-menu';\nconst CLASS_CHECKBOX = 'checkbox';\nconst ARROW_SIZE = 6;\nconst TRANSITION_SPEED = 125;\nconst BUTTON_QUERY_DEBOUNCE = 666;\nconst BUTTON_ROOT_DEBOUNCE = 500;\nconst BUTTON_DEFAULT_DEBOUNCE = 150;\nconst BUTTON_BAM_EFFECT_ANIMATION_TIME = 700;\n\nclass NodeContextMenu {\n  constructor (vis, visData, baseEl, events, querying, infoFields) {\n    const that = this;\n\n    this._x = 0;\n    this._y = 0;\n    this._yOffset = 0;\n    this._scale = 0;\n\n    this.vis = vis;\n    this.visData = visData;\n    this.baseEl = baseEl;\n    this.events = events;\n    this.querying = querying;\n    this.infoFields = infoFields;\n\n    this.numButtonRows = 1;\n    this.numButtonRows = this.querying ?\n      ++this.numButtonRows : this.numButtonRows;\n    this.numButtonRows = this.infoFields && this.infoFields.length ?\n      ++this.numButtonRows : this.numButtonRows;\n\n    this.height = this.visData.global.row.height * this.numButtonRows;\n    this.toBottom = false;\n\n    this.nodeInfoId = 0;\n\n    this.wrapper = this.baseEl.append('g')\n      .attr('class', CLASS_NAME);\n\n    this.updateAppearance();\n\n    this.bgBorder = this.wrapper.append('path')\n      .attr('class', 'bgBorder')\n      .attr('d', dropMenu({\n        x: -1,\n        y: -1,\n        width: this.visData.global.column.width + 2,\n        height: this.height + 2,\n        radius: ARROW_SIZE - 2,\n        arrowSize: ARROW_SIZE\n      }));\n\n    this.bg = this.wrapper.append('path')\n      .attr('class', 'bg')\n      .attr('d', dropMenu({\n        x: 0,\n        y: 0,\n        width: this.visData.global.column.width,\n        height: this.height,\n        radius: ARROW_SIZE - 1,\n        arrowSize: ARROW_SIZE\n      }))\n      .style('filter', 'url(#drop-shadow-context-menu)');\n\n    if (this.infoFields && this.infoFields.length) {\n      this.textNodeInfo = this.wrapper.append('g')\n        .call(this.createTextField.bind(this), {\n          alignRight: false,\n          classNames: [],\n          distanceFromCenter: this.querying ? 2 : 1,\n          fullWidth: true,\n          labels: this.infoFields\n        });\n\n      if (this.infoFields.length > 1) {\n        const toggler = this.textNodeInfo.append('g')\n          .attr('class', 'toggler')\n          .on('click', function () {\n            that.clickNodeInfo.call(that, this);\n          });\n\n        const togglerX = this.visData.global.column.width -\n          this.visData.global.row.contentHeight -\n          this.visData.global.row.padding +\n          this.visData.global.cell.padding;\n\n        const togglerY = this.visData.global.row.padding +\n          this.visData.global.cell.padding;\n\n        toggler.append('rect')\n          .attr('class', 'bg')\n          .attr('x', togglerX)\n          .attr('y', togglerY)\n          .attr('width', this.visData.global.row.contentHeight)\n          .attr('height', this.visData.global.row.contentHeight);\n\n        toggler.append('use')\n          .attr(\n            'x', togglerX + ((this.visData.global.row.contentHeight - 10) / 2)\n          )\n          .attr(\n            'y', togglerY + ((this.visData.global.row.contentHeight - 10) / 2)\n          )\n          .attr('width', 10)\n          .attr('height', 10)\n          .attr('xlink:href', this.vis.iconPath + '#arrow-right');\n      }\n    }\n\n    if (this.querying) {\n      this.buttonQuery = this.wrapper.append('g')\n        .call(this.createButton.bind(this), {\n          alignRight: false,\n          classNames: [],\n          distanceFromCenter: 1,\n          fullWidth: true,\n          label: 'Query',\n          labelTwo: true,\n          bamEffect: true\n        })\n        .on('click', function () {\n          that.clickQueryHandler.call(that, this);\n        });\n      this.buttonQueryFill = this.buttonQuery.select('.bg-fill-effect');\n      this.buttonQueryBamEffect = this.buttonQuery.select('.bg-bam-effect');\n    }\n\n    this.buttonRoot = this.wrapper.append('g')\n      .call(this.createButton.bind(this), {\n        alignRight: false,\n        classNames: [],\n        distanceFromCenter: 0,\n        fullWidth: false,\n        label: 'Root'\n      })\n      .on('click', function () {\n        that.clickRootHandler.call(that, this);\n      });\n    this.buttonRootFill = this.buttonRoot.select('.bg-fill-effect');\n    this.checkboxRoot = this.createCheckbox(this.buttonRoot);\n\n    this.buttonLock = this.wrapper.append('g')\n      .call(this.createButton.bind(this), {\n        alignRight: true,\n        classNames: [],\n        distanceFromCenter: 0,\n        fullWidth: false,\n        label: 'Lock',\n        bamEffect: true\n      })\n      .on('click', function () {\n        that.clickLockHandler.call(that, this);\n      });\n    this.buttonLockFill = this.buttonLock.select('.bg-fill-effect');\n    this.buttonLockBamEffect = this.buttonLock.select('.bg-bam-effect');\n    this.checkboxLock = this.createCheckbox(this.buttonLock);\n\n    this.components = this.wrapper.selectAll('.component');\n\n    this.debouncedQueryHandler = debounce(\n      this.queryHandler, BUTTON_QUERY_DEBOUNCE\n    );\n    this.debouncedRootHandler = debounce(\n      this.rootHandler, BUTTON_ROOT_DEBOUNCE\n    );\n  }\n\n  /* ---------------------------------------------------------------------------\n   * Getter / Setter\n   * ------------------------------------------------------------------------ */\n\n  get scale () {\n    return 'scale(' + (this.opened ? 1 : 0.5) + ')';\n  }\n\n  get translate () {\n    const y = this.toBottom ?\n      this._y + this.height + this.visData.global.row.height - ARROW_SIZE :\n      this._y;\n\n    return 'translate(' + this._x + 'px,' + (y + this._yOffset) + 'px)';\n  }\n\n  set translate (position) {\n    this._x = position.x;\n    this._y = position.y;\n  }\n\n  /* ---------------------------------------------------------------------------\n   * Methods\n   * ------------------------------------------------------------------------ */\n\n  /* ---------------------------------- A ----------------------------------- */\n\n  addLabel (selection, fullWidth, label, labelTwo) {\n    const width = this.visData.global.column.width *\n      (fullWidth ? 1 : 0.5) - this.visData.global.row.padding * 4;\n    const height = this.visData.global.row.contentHeight -\n        this.visData.global.cell.padding * 2;\n\n    const div = selection.append('foreignObject')\n      .attr('x', this.visData.global.row.padding * 2)\n      .attr('y', this.visData.global.row.padding +\n        this.visData.global.cell.padding)\n      .attr('width', width)\n      .attr('height', height)\n      .attr('class', 'label-wrapper')\n      .append('xhtml:div')\n        .style('line-height', (height - 2) + 'px')\n        .style('width', width + 'px');\n\n    div.append('xhtml:span').attr('class', 'label').text(label);\n\n    if (labelTwo) {\n      div.append('xhtml:span').attr('class', 'separator').text(':');\n      div.append('xhtml:span').attr('class', 'label-two');\n    }\n  }\n\n  /* ---------------------------------- C ----------------------------------- */\n\n  checkLock () {\n    const checked = this.node.datum().data.state.lock;\n    this.buttonLock.classed('semi-active', checked);\n    this.checkboxLock.style(\n      'transform',\n      'translateX(' + (checked ? this.checkBoxMovement : 0) + 'px)'\n    );\n    if (checked) {\n      this.fillButton(this.buttonLockFill);\n    } else {\n      this.emptyButton(this.buttonLockFill);\n    }\n    return checked;\n  }\n\n  checkOrientation () {\n    if (this._y + this._yOffset >= 0) {\n      this.toBottom = false;\n    } else {\n      this.toBottom = true;\n    }\n    this.components.call(this.positionComponent.bind(this));\n    this.bgBorder.classed('is-mirrored-horizontally', this.toBottom);\n    this.bg\n      .classed('is-mirrored-horizontally', this.toBottom)\n      .style(\n        'filter',\n        'url(#drop-shadow-context-menu' + (\n          this.toBottom ? '-inverted' : ''\n        ) + ')'\n      );\n  }\n\n  checkRoot (debounced, time) {\n    const state = this.node.datum().data.state.root;\n    let checked = state;\n\n    if (debounced) {\n      if (typeof this.currentRootState === 'undefined') {\n        this.currentRootState = !!state;\n      }\n      if (typeof this.tempRoot === 'undefined') {\n        this.tempRoot = this.currentRootState;\n      }\n      this.tempRoot = !this.tempRoot;\n      checked = this.tempRoot;\n    }\n\n    if (!state) {\n      if (debounced) {\n        if (checked) {\n          this.fillButton(this.buttonRootFill, time);\n        } else {\n          this.hideFillButton(this.buttonRootFill);\n        }\n      } else {\n        this.emptyButton(this.buttonRootFill, time);\n      }\n    } else {\n      if (debounced) {\n        if (!checked) {\n          this.emptyButton(this.buttonRootFill, time);\n        } else {\n          this.showFillButton(this.buttonRootFill);\n        }\n      } else {\n        this.fillButton(this.buttonRootFill, time);\n      }\n    }\n\n    this.buttonRoot.classed('semi-active', checked);\n    this.checkboxRoot.style(\n      'transform',\n      'translateX(' + (checked ? this.checkBoxMovement : 0) + 'px)'\n    );\n  }\n\n  clickLockHandler () {\n    this.buttonLock.classed('fill-effect', true);\n    this.vis.nodes.lockHandler(this.node);\n    const checked = this.checkLock();\n    if (checked) {\n      this.buttonLock.classed('active', true);\n    } else {\n      this.buttonLock.classed('active', false);\n    }\n    setTimeout(() => {\n      if (checked) {\n        this.triggerButtonBamEffect(this.buttonLockBamEffect);\n      }\n      this.buttonLock.classed('fill-effect', false);\n    }, BUTTON_DEFAULT_DEBOUNCE);\n  }\n\n  clickNodeInfo () {\n    this.nodeInfoId = (this.nodeInfoId + 1) % this.infoFields.length;\n\n    this.textNodeInfo.select('.label').text(\n      this.infoFields[this.nodeInfoId].label\n    );\n\n    this.textNodeInfo.select('.label-two').text(\n      this.getNodeProperty(this.infoFields[this.nodeInfoId].property)\n    );\n  }\n\n  clickQueryHandler () {\n    this.buttonQuery.classed('fill-effect', true);\n    this.updateQuery(true, BUTTON_QUERY_DEBOUNCE);\n    if (!this.vis.disableDebouncedContextMenu) {\n      this.debouncedQueryHandler(true);\n    } else {\n      this.queryHandler();\n    }\n  }\n\n  clickRootHandler () {\n    this.buttonRoot.classed('fill-effect', true);\n    this.checkRoot(true, BUTTON_ROOT_DEBOUNCE);\n    if (!this.vis.disableDebouncedContextMenu) {\n      this.debouncedRootHandler(true);\n    } else {\n      this.rootHandler();\n    }\n  }\n\n  close () {\n    if (!this.closing) {\n      this.closing = new Promise(resolve => {\n        this.opened = false;\n        this.updateAppearance();\n\n        setTimeout(() => {\n          this.visible = false;\n          this.updateAppearance();\n          resolve(this.node.datum().id);\n          this.node = undefined;\n        }, TRANSITION_SPEED);\n      });\n    }\n    return this.closing;\n  }\n\n  createButton (selection, properties) {\n    let classNames = 'component button';\n    if (properties.classNames && properties.classNames.length) {\n      classNames += ' ' + properties.classNames.join(' ');\n    }\n    selection.attr('class', classNames);\n\n    selection\n      .datum(properties)\n      .call(\n        this.createButtonBg.bind(this), {\n          bamEffect: properties.bamEffect,\n          fullWidth: properties.fullWidth\n        }\n      )\n      .call(\n        this.addLabel.bind(this),\n        properties.fullWidth,\n        properties.label,\n        properties.labelTwo\n      )\n      .call(\n        this.positionComponent.bind(this),\n        properties.distanceFromCenter,\n        properties.alignRight\n      );\n  }\n\n  createButtonBg (selection, params) {\n    selection.datum(data => {\n      data.x = this.visData.global.row.padding;\n      data.y = this.visData.global.row.padding;\n      data.width = this.visData.global.column.width *\n        (params.fullWidth ? 1 : 0.5) - this.visData.global.row.padding * 2;\n      data.height = this.visData.global.row.contentHeight;\n      data.rx = 2;\n      data.ry = 2;\n\n      return data;\n    }).append('rect')\n      .attr('class', 'bg')\n      .attr('x', data => data.x)\n      .attr('y', data => data.y)\n      .attr('width', data => data.width)\n      .attr('height', data => data.height)\n      .attr('rx', data => data.rx)\n      .attr('ry', data => data.ry);\n\n    selection.append('rect')\n      .attr('class', 'bg-fill-effect')\n      .attr('x', data => data.x)\n      .attr('y', data => data.y)\n      .attr('width', data => data.width)\n      .attr('height', 0)\n      .attr('rx', data => data.rx)\n      .attr('ry', data => data.ry);\n\n    if (params.bamEffect) {\n      selection.append('rect')\n        .attr('class', 'bg-bam-effect')\n        .attr('x', data => data.x)\n        .attr('y', data => data.y)\n        .attr('width', data => data.width)\n        .attr('height', data => data.height)\n        .attr('rx', data => data.rx)\n        .attr('ry', data => data.ry);\n    }\n  }\n\n  createCheckbox (selection) {\n    const height = Math.round(selection.datum().height / 2);\n    const x = -1.75 * height + this.visData.global.row.padding;\n\n    const container = selection.append('g').attr('class', CLASS_CHECKBOX);\n\n    container.append('rect')\n      .attr('class', 'checkbox-bg')\n      .attr('x', data => data.width + x)\n      .attr('y', height / 2 + this.visData.global.row.padding)\n      .attr('width', height * 1.5)\n      .attr('height', height)\n      .attr('rx', height / 2)\n      .attr('ry', height / 2);\n\n    this.checkBoxMovement = (height - 2) / 2;\n\n    return container.append('rect')\n      .attr('class', 'checkbox-knob')\n      .attr('x', data => data.width + x + 1)\n      .attr('y', height / 2 + this.visData.global.row.padding + 1)\n      .attr('width', height - 2)\n      .attr('height', height - 2)\n      .attr('rx', height - 2);\n  }\n\n  createTextField (selection, properties) {\n    let classNames = 'component text-field';\n    if (properties.classNames && properties.classNames.length) {\n      classNames += ' ' + properties.classNames.join(' ');\n    }\n    selection.attr('class', classNames);\n\n    selection\n      .datum(properties)\n      .call(\n        this.addLabel.bind(this),\n        true,\n        properties.labels[this.nodeInfoId].label,\n        true\n      )\n      .call(\n        this.positionComponent.bind(this),\n        properties.distanceFromCenter,\n        properties.alignRight\n      );\n  }\n\n  /* ---------------------------------- E ----------------------------------- */\n\n  emptyButton (selection, time) {\n    selection\n      .transition()\n      .duration(0)\n      .attr('y', data => data.y)\n      .attr('height', data => data.height)\n      .call(allTransitionsEnded, () => {\n        selection\n          .transition()\n          .duration(time || BUTTON_DEFAULT_DEBOUNCE)\n          .ease('linear')\n          .attr('y', data => data.height)\n          .attr('height', 0);\n      });\n  }\n\n  /* ---------------------------------- F ----------------------------------- */\n\n  fillButton (selection, time) {\n    selection\n      .transition()\n      .duration(0)\n      .attr('y', data => data.y)\n      .attr('height', 0)\n      .call(allTransitionsEnded, () => {\n        selection\n          .transition()\n          .duration(time || BUTTON_DEFAULT_DEBOUNCE)\n          .ease('linear')\n          .attr('height', data => data.height);\n      });\n  }\n\n  /* ---------------------------------- G ----------------------------------- */\n\n  getNodeProperty (property) {\n    try {\n      return property(this.node.datum());\n    } catch (e) {\n      return undefined;\n    }\n  }\n\n  /* ---------------------------------- H ----------------------------------- */\n\n  hideFillButton (selection) {\n    selection.transition().duration(0).attr('height', 0);\n  }\n\n  /* ---------------------------------- I ----------------------------------- */\n\n  isOpenSameColumn (columnNum) {\n    return this.opened && this.node.datum().depth === columnNum;\n  }\n\n  /* ---------------------------------- O ----------------------------------- */\n\n  open (node) {\n    return new Promise(resolve => {\n      this.node = node;\n      this.closing = undefined;\n\n      this.updateStates();\n\n      this._yOffset = this.visData.nodes[this.node.datum().depth].scrollTop;\n      this.translate = {\n        x: this.node.datum().x,\n        y: this.node.datum().y - this.height\n      };\n      this.checkOrientation();\n\n      this.updateAppearance();\n      this.opened = true;\n      this.visible = true;\n\n      requestNextAnimationFrame(() => {\n        this.updateAppearance();\n        setTimeout(() => { resolve(true); }, TRANSITION_SPEED);\n      });\n    });\n  }\n\n  /* ---------------------------------- P ----------------------------------- */\n\n  positionComponent (selection, distanceFromCenter, alignRight) {\n    selection.datum(data => {\n      // Lets cache some values to make our lifes easier when checking the\n      // position again in `checkOrientation`.\n      if (distanceFromCenter) {\n        data.distanceFromCenter = distanceFromCenter;\n      }\n      if (alignRight) {\n        data.alignRight = alignRight;\n      }\n      return data;\n    }).attr('transform', data => {\n      const x = data.alignRight ? this.visData.global.column.width / 2 : 0;\n      // When the buttons are created I assume that the menu is positioned\n      // above the node; i.e. `distanceFromCenter` needs to be inverted.\n      const y = (this.visData.global.row.height * (\n        this.toBottom ?\n        data.distanceFromCenter : (\n          this.numButtonRows - data.distanceFromCenter - 1\n        )\n      )) + (this.toBottom ? ARROW_SIZE : 0);\n\n      return `translate(${x}, ${y})`;\n    });\n  }\n\n  /* ---------------------------------- Q ----------------------------------- */\n\n  queryHandler (debounced) {\n    if (debounced) {\n      if (this.tempQueryMode !== this.currentQueryMode) {\n        if (this.tempQueryMode) {\n          this.vis.nodes.queryHandler(this.node, 'query', this.tempQueryMode);\n          this.triggerButtonBamEffect(this.buttonQueryBamEffect);\n          this.buttonQuery.classed('active', true);\n        } else {\n          this.vis.nodes.queryHandler(this.node, 'unquery');\n          this.buttonQuery.classed('active', false);\n        }\n      }\n    } else {\n      this.vis.nodes.queryHandler(this.node);\n    }\n\n    // Reset temporary query modes.\n    this.tempQueryMode = undefined;\n    this.currentQueryMode = undefined;\n    this.buttonQuery.classed('fill-effect', false);\n  }\n\n  /* ---------------------------------- R ----------------------------------- */\n\n  rootHandler (debounced) {\n    if (!debounced || this.tempRoot !== this.currentRootState) {\n      this.close();\n      this.vis.nodes.rootHandler(this.node);\n    }\n\n    // Reset temporary root values.\n    this.tempRoot = undefined;\n    this.currentRootState = undefined;\n    this.buttonRoot.classed('fill-effect', false);\n\n    this.buttonRoot.classed('active', this.node.datum().data.state.root);\n  }\n\n  /* ---------------------------------- S ----------------------------------- */\n\n  scrollY (offset) {\n    this._yOffset = offset;\n    this.updateAppearance();\n  }\n\n  showFillButton (selection) {\n    selection.transition().duration(0)\n      .attr('y', data => data.y)\n      .attr('height', data => data.height);\n  }\n\n  /* ---------------------------------- T ----------------------------------- */\n\n  toggle (node) {\n    return new Promise(resolve => {\n      const nodeId = node.datum().id;\n      let closed = Promise.resolve();\n\n      if (this.visible) {\n        closed = this.close();\n      }\n\n      closed.then((previousNodeId) => {\n        if (nodeId !== previousNodeId) {\n          this.open(node).then(() => { resolve(nodeId); });\n        } else {\n          resolve(nodeId);\n        }\n      });\n    });\n  }\n\n  triggerButtonBamEffect (button) {\n    button.classed('active', true);\n    setTimeout(() => {\n      button.classed('active', false);\n    }, BUTTON_BAM_EFFECT_ANIMATION_TIME);\n  }\n\n  /* ---------------------------------- U ----------------------------------- */\n\n  updateAppearance () {\n    const centerY = this.toBottom ?\n      0 : this.height + this.visData.global.row.height;\n\n    this.wrapper\n      .classed('transitionable', this.visible)\n      .classed('open', this.opened)\n      .style('transform', this.translate + ' ' + this.scale)\n      .style(\n        'transform-origin',\n        (this.visData.global.column.width / 2) + 'px ' + centerY + 'px'\n      );\n  }\n\n  updateInfoText () {\n    if (!this.infoFields || !this.infoFields.length) {\n      return;\n    }\n\n    this.textNodeInfo.select('.label').text(\n      this.infoFields[this.nodeInfoId].label\n    );\n\n    this.textNodeInfo.select('.label-two').text(\n      this.getNodeProperty(this.infoFields[this.nodeInfoId].property)\n    );\n  }\n\n  updatePosition () {\n    if (this.node && this.opened) {\n      this.open(this.node);\n    }\n  }\n\n  updateQuery (debounced, time) {\n    if (!this.querying) {\n      return;\n    }\n\n    const state = this.node.datum().data.state.query;\n    let queryMode = state;\n\n    function nextQueryMode (mode) {\n      switch (mode) {\n        case 'or':\n          return 'and';\n        case 'and':\n          return 'not';\n        case 'not':\n          return null;\n        default:\n          return 'or';\n      }\n    }\n\n    if (debounced) {\n      if (typeof this.currentQueryMode === 'undefined') {\n        this.currentQueryMode = state;\n      }\n      if (typeof this.tempQueryMode === 'undefined') {\n        this.tempQueryMode = this.currentQueryMode;\n      }\n      this.tempQueryMode = nextQueryMode(this.tempQueryMode);\n      queryMode = this.tempQueryMode;\n    }\n\n    if (debounced) {\n      if (queryMode) {\n        if (queryMode === state) {\n          this.showFillButton(this.buttonQueryFill);\n        } else {\n          this.fillButton(this.buttonQueryFill, time);\n        }\n      } else {\n        if (state) {\n          this.emptyButton(this.buttonQueryFill, time);\n        } else {\n          this.hideFillButton(this.buttonQueryFill);\n        }\n      }\n    } else {\n      this.emptyButton(this.buttonQueryFill, time);\n    }\n\n    this.buttonQuery\n      .classed('semi-active', !!queryMode)\n      .classed('active', !!state)\n      .select('.label-two')\n        .text(queryMode || 'not queried')\n        .classed('inactive', !queryMode);\n  }\n\n  updateStates () {\n    if (this.node) {\n      this.checkLock();\n      this.checkRoot();\n      this.updateQuery();\n      this.updateInfoText();\n    }\n  }\n}\n\nexport default NodeContextMenu;\n","/* eslint no-shadow: 0 */\n\n// External\nimport * as d3 from 'd3';\nimport isFunction from '../../../node_modules/lodash-es/isFunction';\n\n// Internal\nimport { ExtendableError } from './error';\nimport { mergeSelections } from './d3-utils';\n\nexport class LimitsUnsupportedFormat extends ExtendableError {\n  constructor (message) {\n    super(message || 'The limits are wrongly formatted. Please provide an ' +\n      'object of the following format: `{ x: { min: 0, max: 1 }, y: { min: ' +\n      '0, max: 1 } }`'\n    );\n  }\n}\n\n/**\n * Drap and drop event handler that works via translation.\n *\n * @method  onDragDrop\n * @author  Fritz Lekschas\n * @date    2016-04-04\n * @param   {Object}  selection        D3 selection to listen for the drag\n *   event.\n * @param   {Object}           dragMoveHandler         Handler for drag-move.\n * @param   {Object}           dropHandler             Handler for drag-end,\n *   i.e. drop.\n * @param   {Array}            elsToBeDragged          Array of D3 selections to\n *   be moved according to the drag event. If empty or undefined `selection`\n *   will be used.\n * @param   {String}           orientation             Can either be\n *   \"horizontal\", \"vertical\" or `undefined`, i.e. both directions.\n * @param   {Object|Function}  limits                  X and Y drag limits. E.g.\n *   `{ x: { min: 0, max: 10 } }`.\n * @param   {Array}             noDraggingWhenTrue     List if function\n *   returning a Boolean value which should prevent the dragMoveHandler from\n *   working.\n */\nexport function onDragDrop (\n  selection, dragStartHandler, dragMoveHandler, dropHandler, elsToBeDragged,\n  orientation, limits, noDraggingWhenTrue, dragData\n) {\n  const drag = d3.behavior.drag();\n  const checkWhenDragging = isFunction(noDraggingWhenTrue);\n\n  let appliedLimits = limits || {};  // eslint-disable-line no-param-reassign\n\n  drag.on('dragstart', () => {\n    if (checkWhenDragging && noDraggingWhenTrue()) {\n      return;\n    }\n    if (typeof limits === 'function') {\n      appliedLimits = limits();\n    }\n  });\n\n  if (dragMoveHandler) {\n    drag.on('drag', function (data) {\n      if (checkWhenDragging && noDraggingWhenTrue()) {\n        return;\n      }\n      d3.event.sourceEvent.preventDefault();\n      dragStartHandler();\n      dragMoveHandler.call(\n        this, data, elsToBeDragged, orientation, appliedLimits\n      );\n    });\n  }\n\n  if (dropHandler) {\n    drag.on('dragend', dropHandler);\n  }\n\n  selection.each(function (data) {\n    const el = d3.select(this);\n\n    // Set default data if not available.\n    if (!data) {\n      data = { drag: dragData };  // eslint-disable-line no-param-reassign\n      el.datum(data);\n    }\n\n    // Add drag event handler\n    el.call(drag);\n  });\n}\n\nexport function dragMoveHandler (\n  data, elsToBeDragged, orientation, limits\n) {\n  let els = d3.select(this);\n\n  if (elsToBeDragged && elsToBeDragged.length) {\n    els = mergeSelections(elsToBeDragged);\n  }\n\n  function withinLimits (value, applyingLimits) {\n    let restrictedValue;\n\n    if (applyingLimits) {\n      try {\n        restrictedValue = Math.min(\n          applyingLimits.max,\n          Math.max(\n            applyingLimits.min,\n            value\n          )\n        );\n      } catch (e) {\n        throw new LimitsUnsupportedFormat();\n      }\n    }\n    return restrictedValue;\n  }\n\n  if (orientation === 'horizontal' || orientation === 'vertical') {\n    if (orientation === 'horizontal') {\n      data.drag.x += d3.event.dx;\n      data.drag.x = withinLimits(data.drag.x + d3.event.dx, limits.x);\n      els.style('transform', 'translateX(' + data.drag.x + 'px)');\n    }\n    if (orientation === 'vertical') {\n      data.drag.y += d3.event.dy;\n      data.drag.x = withinLimits(data.drag.y + d3.event.dy, limits.y);\n      els.style('transform', 'translateY(' + data.drag.y + 'px)');\n    }\n  } else {\n    data.drag.x += d3.event.dx;\n    data.drag.y += d3.event.dy;\n    els.style(\n      'transform', 'translate(' + data.drag.x + 'px,' + data.drag.y + 'px)'\n    );\n  }\n}\n","// Adapted from: http://bl.ocks.org/cpbotha/5200394\nexport function dropShadow (el, name, dx, dy, blur, opacity) {\n  let defs = el.select('defs');\n\n  if (defs.empty()) {\n    defs = el.append('defs');\n  }\n\n  // create filter with id #drop-shadow\n  // height = 130% so that the shadow is not clipped\n  const filter = defs.append('filter')\n    .attr('id', 'drop-shadow' + (name ? `-${name}` : ''))\n    .attr('height', '130%');\n\n  // SourceAlpha refers to opacity of graphic that this filter will be applied to\n  // convolve that with a Gaussian with standard deviation 3 and store result\n  // in blur\n  filter.append('feGaussianBlur')\n    .attr('in', 'SourceAlpha')\n    .attr('stdDeviation', blur);\n\n  // translate output of Gaussian blur to the right and downwards with 2px\n  // store result in offsetBlur\n  filter.append('feOffset')\n    .attr('dx', dx)\n    .attr('dy', dy)\n    .attr('result', 'offsetBlur');\n\n  filter.append('feComponentTransfer').append('feFuncA')\n    .attr('type', 'linear')\n    .attr('slope', opacity || 1);\n\n  // overlay original SourceGraphic over translated blurred opacity by using\n  // feMerge filter. Order of specifying inputs is important!\n  const feMerge = filter.append('feMerge');\n\n  feMerge.append('feMergeNode');\n  feMerge.append('feMergeNode').attr('in', 'SourceGraphic');\n}\n","// External\nimport * as $ from '$';  // eslint-disable-line import/no-unresolved\nimport * as d3 from 'd3';  // eslint-disable-line import/no-unresolved\nimport isArray from '../../../node_modules/lodash-es/isArray';\n\n// Internal\nimport { LayoutNotAvailable } from './errors';\nimport * as config from './config';\nimport Topbar from './topbar';\nimport Levels from './levels';\nimport Links from './links';\nimport Nodes from './nodes';\nimport Scrollbars from './scrollbars';\nimport Events from './events';\nimport NodeContextMenu from './nodeContextMenu';\nimport { onDragDrop, dragMoveHandler } from '../commons/event-handlers';\nimport { allTransitionsEnded } from '../commons/d3-utils';\nimport { dropShadow } from '../commons/filters';\nimport { requestNextAnimationFrame } from '../commons/shims';\n\nfunction setOption (value, defaultValue, noFalsyValue) {\n  if (noFalsyValue) {\n    return value || defaultValue;\n  }\n\n  return typeof value !== 'undefined' ? value : defaultValue;\n}\n\nclass ListGraph {\n  constructor (init) {\n    if (!d3.layout.listGraph) {\n      throw new LayoutNotAvailable();\n    }\n\n    const that = this;\n\n    this.baseEl = init.element;\n    this.baseEl.__d3ListGraphBase__ = true;\n\n    this.baseElD3 = d3.select(this.baseEl);\n    this.baseElJq = $(this.baseEl);\n    this.svgD3 = this.baseElD3.select('svg.base');\n    this.svgEl = this.svgD3.node();\n    this.outsideClickHandler = {};\n    this.outsideClickClassHandler = {};\n\n    if (this.svgD3.empty()) {\n      this.svgD3 = this.baseElD3.append('svg').attr('class', 'base');\n      this.svgJq = $(this.svgD3.node());\n    } else {\n      this.svgJq = $(this.svgD3.node());\n    }\n\n    // Array of root node IDs.\n    this.rootNodes = init.rootNodes;\n\n    // Width of the vis. If `undefined` the SVG's width will be used.\n    this.width = setOption(init.width, this.svgJq.width(), true);\n\n    // Height of the vis. If `undefined` the SVG's height will be used.\n    this.height = setOption(init.height, this.svgJq.height(), true);\n\n    // Refresh top and left position of the base `svg` everytime the user enters\n    // the element with his/her mouse cursor. This will avoid relying on complex\n    // browser resize events and other layout manipulations as they most likely\n    // won't happen when the user tries to interact with the visualization.\n    this.svgD3.on('mouseenter', this.getBoundingRect.bind(this));\n\n    // With of the column's scrollbars\n    this.scrollbarWidth = setOption(\n      init.scrollbarWidth, config.SCROLLBAR_WIDTH, true\n    );\n\n    // Number of visible columns\n    this.columns = setOption(init.columns, config.COLUMNS, true);\n\n    // Number of visible rows.\n    this.rows = setOption(init.rows, config.ROWS, true);\n\n    // Path to SVG icon file.\n    this.iconPath = setOption(init.iconPath, config.ICON_PATH, true);\n\n    // If `true` query icons and controls are enabled.\n    this.querying = setOption(init.querying, config.QUERYING);\n\n    // If `true` hide links that point to invisible nodes.\n    this.hideOutwardsLinks = setOption(\n      init.hideOutwardsLinks, config.HIDE_OUTWARDS_LINKS\n    );\n\n    // If `true` and `this.hideOutwardsLinks === true` indicates the location of\n    // target nodes of invisible nodes connected via links.\n    this.showLinkLocation = setOption(\n      init.showLinkLocation, config.SHOW_LINK_LOCATION\n    );\n\n    // The visual size of a location bucket. E.g. `3` pixel.\n    this.linkLocationBucketSize = init.linkLocationBucketSize;\n\n    // If `true` the currently rooted level will softly be highlighted.\n    this.highlightActiveLevel = setOption(\n      init.highlightActiveLevel, config.HIGHLIGHT_ACTIVE_LEVEL\n    );\n\n    // Determines which level from the rooted node will be regarded as active.\n    // Zero means that the level of the rooted node is regarded.\n    this.activeLevel = setOption(init.activeLevel, config.ACTIVE_LEVEL);\n\n    // When no manually rooted node is available the active level will be\n    // `this.activeLevel` minus `this.noRootActiveLevelDiff`.\n    // WAT?\n    // In some cases it makes sense to hide the original root node just to save\n    // a column, so having no manually set root node means that the invisible\n    // root node is active. Using this option it can be assured that the\n    // approriate column is being highlighted.\n    this.noRootActiveLevelDiff = setOption(\n      init.noRootActiveLevelDiff, config.NO_ROOT_ACTIVE_LEVEL_DIFF\n    );\n\n    // Determine the level of transitions\n    // - 0 [Default]: Show all transitions\n    // - 1: Show only CSS transitions\n    // - 2: Show no transitions\n    this.lessTransitionsJs = init.lessTransitions > 0;\n    this.lessTransitionsCss = init.lessTransitions > 1;\n\n    // Enable or disable\n    this.disableDebouncedContextMenu = setOption(\n      init.disableDebouncedContextMenu,\n      config.DISABLE_DEBOUNCED_CONTEXT_MENU\n    );\n\n    this.baseElD3.classed('less-animations', this.lessTransitionsCss);\n\n    // Holds the key of the property to be sorted initially. E.g. `precision`.\n    this.sortBy = init.sortBy;\n\n    // Initial sort order. Anything other than `asc` will fall back to `desc`.\n    this.sortOrder = init.sortOrder === 'asc' ? 1 : config.DEFAULT_SORT_ORDER;\n\n    this.nodeInfoContextMenu = isArray(init.nodeInfoContextMenu) ?\n      init.nodeInfoContextMenu : [];\n\n    this.events = new Events(this.baseEl, init.dispatcher);\n\n    this.baseElJq.addClass(config.CLASSNAME);\n\n    this.dragged = { x: 0, y: 0 };\n\n    if (init.forceWidth) {\n      this.baseElJq.width(this.width);\n    }\n\n    this.layout = new d3.layout.listGraph( // eslint-disable-line new-cap\n      [\n        this.width,\n        this.height\n      ],\n      [\n        this.columns,\n        this.rows\n      ]\n    );\n\n    this.data = init.data;\n    this.visData = this.layout.process(\n      this.data,\n      this.rootNodes,\n      {\n        showLinkLocation: this.showLinkLocation,\n        linkLocationBucketSize: this.linkLocationBucketSize,\n        sortBy: this.sortBy,\n        sortOrder: this.sortOrder\n      }\n    );\n\n    /**\n     * Stores current sorting, e.g. type, order and a reference to the element.\n     *\n     * @type  {Object}\n     */\n    this.currentSorting = {\n      global: {\n        type: this.sortBy,\n        order: this.sortOrder\n      },\n      local: {}\n    };\n\n    this.barMode = init.barMode || config.DEFAULT_BAR_MODE;\n    this.svgD3.classed(this.barMode + '-bar', true);\n\n    this.topbar = new Topbar(this, this.baseElD3, this.visData);\n\n    this.svgD3.attr('viewBox', '0 0 ' + this.width + ' ' + this.height);\n\n    this.container = this.svgD3.append('g').attr('class', 'main-container');\n\n    this.levels = new Levels(this.container, this, this.visData);\n\n    this.links = new Links(this, this.levels.groups, this.visData, this.layout);\n    this.nodes = new Nodes(\n      this,\n      this.levels.groups,\n      this.visData,\n      this.links,\n      this.events\n    );\n    this.levels.scrollPreparation(this, this.scrollbarWidth);\n    this.scrollbars = new Scrollbars(\n      this.levels.groups,\n      this.visData,\n      this.scrollbarWidth\n    );\n\n    this.nodeContextMenu = new NodeContextMenu(\n      this,\n      this.visData,\n      this.container,\n      this.events,\n      this.querying,\n      this.nodeInfoContextMenu\n    );\n\n    this.nodeContextMenu.wrapper.on('mousedown', () => {\n      this.mouseDownOnContextMenu = true;\n    });\n\n    dropShadow(this.svgD3, 'context-menu', 0, 1, 2, 0.2);\n    dropShadow(this.svgD3, 'context-menu-inverted', 0, -1, 2, 0.2);\n\n    // jQuery's mousewheel plugin is much nicer than D3's half-baked zoom event.\n    // We are using delegated event listeners to provide better scaling\n    this.svgJq.on('mousewheel', '.' + this.levels.className, function (event) {\n      if (!that.zoomedOut) {\n        that.mousewheelColumn(this, event);\n      }\n    });\n\n    this.svgJq.on('click', event => {\n      that.checkGlobalClick.call(that, event.target);\n    });\n\n    // Add jQuery delegated event listeners instead of direct listeners of D3.\n    this.svgJq.on(\n      'click',\n      `.${this.nodes.classNodeVisible}`,\n      function () {\n        // Add a new global outside click listener using this node and the\n        // node context menu as the related elements.\n        requestNextAnimationFrame(() => {\n          that.registerOutSideClickHandler(\n            'nodeContextMenu',\n            [that.nodeContextMenu.wrapper.node()],\n            ['visible-node'],\n            () => {\n              // The context of this method is the context of the outer click\n              // handler.\n              that.nodeContextMenu.close();\n              that.unregisterOutSideClickHandler.call(\n                that, 'nodeContextMenu'\n              );\n            }\n          );\n        });\n\n        that.nodeContextMenu.toggle.call(\n          that.nodeContextMenu,\n          d3.select(this.parentNode)\n        );\n      }\n    );\n\n    this.svgJq.on(\n      'click',\n      `.${this.nodes.classFocusControls}.${this.nodes.classRoot}`,\n      function () {\n        that.nodes.rootHandler.call(that.nodes, d3.select(this), true);\n      }\n    );\n\n    if (this.querying) {\n      this.svgJq.on(\n        'click',\n        `.${this.nodes.classFocusControls}.${this.nodes.classQuery}`,\n        function () {\n          that.nodes.queryHandler.call(\n            that.nodes,\n            d3.select(this.parentNode),\n            'unquery'\n          );\n          that.nodeContextMenu.updateStates();\n        }\n      );\n    }\n\n    this.svgJq.on(\n      'click',\n      `.${this.nodes.classFocusControls}.${this.nodes.classLock}`,\n      function () {\n        that.nodes.lockHandler.call(that.nodes, this, d3.select(this).datum());\n      }\n    );\n\n    this.svgJq.on(\n      'mouseenter',\n      `.${this.nodes.classNodeVisible}`,\n      function () {\n        that.interactionWrapper.call(that, function (domEl, data) {\n          if (!!!this.vis.activeScrollbar) {\n            this.enterHandler.call(this, domEl, data);\n          }\n        }.bind(that.nodes), [this, d3.select(this).datum()]);\n      }\n    );\n\n    this.svgJq.on(\n      'mouseleave',\n      `.${this.nodes.classNodeVisible}`,\n      function () {\n        that.interactionWrapper.call(that, function (domEl, data) {\n          if (!!!this.vis.activeScrollbar) {\n            this.leaveHandler.call(this, domEl, data);\n          }\n        }.bind(that.nodes), [this, d3.select(this).datum()]);\n      }\n    );\n\n    // Normally we would reference a named methods but since we need to access\n    // the class' `this` property instead of the DOM element we need to use an\n    // arrow function.\n    this.scrollbars.all.on('mousedown', function () {\n      that.scrollbarMouseDown(this, d3.event);\n    });\n\n    // We need to listen to `mouseup` and `mousemove` globally otherwise\n    // scrolling will only work as long as the cursor hovers the actual\n    // scrollbar, which is super annoying.\n    d3.select(document)\n      .on('mouseup', () => { this.globalMouseUp(d3.event); })\n      .on('mousemove', () => { this.globalMouseMove(d3.event); });\n\n    // Enable dragging of the whole graph.\n    this.svgD3.call(\n      onDragDrop,\n      this.dragStartHandler.bind(this),\n      this.dragMoveHandler.bind(this),\n      this.dragEndHandler.bind(this),\n      [\n        this.container,\n        this.topbar.localControlWrapper\n      ],\n      'horizontal',\n      this.getDragLimits.bind(this),\n      this.noDragging.bind(this),\n      this.dragged\n    );\n\n    this.events.on(\n      'd3ListGraphLevelFocus',\n      levelId => this.levels.focus(levelId)\n    );\n\n    this.events.on(\n      'd3ListGraphNodeRoot',\n      () => {\n        this.nodes.bars.updateAll(\n          this.layout.updateBars(this.data), this.currentSorting.global.type\n        );\n        this.updateSorting();\n      }\n    );\n\n    this.events.on(\n      'd3ListGraphNodeUnroot',\n      () => {\n        this.nodes.bars.updateAll(\n          this.layout.updateBars(this.data), this.currentSorting.global.type\n        );\n        this.updateSorting();\n      }\n    );\n\n    this.events.on(\n      'd3ListGraphUpdateBars',\n      () => {\n        this.nodes.bars.updateAll(\n          this.layout.updateBars(this.data), this.currentSorting.global.type\n        );\n        this.updateSorting();\n      }\n    );\n\n    this.events.on(\n      'd3ListGraphActiveLevel',\n      nextLevel => {\n        const oldLevel = this.activeLevel;\n        this.activeLevel = Math.max(nextLevel, 0);\n        if (this.nodes.rootedNode) {\n          const rootNodeDepth = this.nodes.rootedNode.datum().depth;\n          this.levels.blur(rootNodeDepth + oldLevel);\n          this.levels.focus(rootNodeDepth + this.activeLevel);\n        } else {\n          this.levels.blur(oldLevel - this.noRootActiveLevelDiff);\n          this.levels.focus(\n            this.activeLevel - this.noRootActiveLevelDiff\n          );\n        }\n      }\n    );\n\n    // Initialize `this.left` and `this.top`\n    this.getBoundingRect();\n  }\n\n  dragMoveHandler (data, elsToBeDragged, orientation, limits, notWhenTrue) {\n    dragMoveHandler(\n      data, elsToBeDragged, orientation, limits, notWhenTrue\n    );\n    this.checkNodeVisibility();\n  }\n\n  checkNodeVisibility (level, customScrollTop) {\n    const nodes = level ?\n      this.nodes.nodes.filter(data => data.depth === level) : this.nodes.nodes;\n\n    nodes.call(this.nodes.isInvisible.bind(this.nodes), customScrollTop);\n  }\n\n  registerOutSideClickHandler (id, els, elClassNames, callback) {\n    // We need to register a unique property to be able to indentify that\n    // element later efficiently.\n    for (let i = els.length; i--;) {\n      if (els[i].__id__) {\n        els[i].__id__.push(id);\n      } else {\n        els[i].__id__ = [id];\n      }\n    }\n    const newLength = this.outsideClickHandler[id] = {\n      id, els, elClassNames, callback\n    };\n    for (let i = elClassNames.length; i--;) {\n      this.outsideClickClassHandler[elClassNames[i]] =\n        this.outsideClickHandler[id];\n    }\n    return newLength;\n  }\n\n  unregisterOutSideClickHandler (id) {\n    const handler = this.outsideClickHandler[id];\n\n    // Remove element `__id__` property.\n    for (let i = handler.els.length; i--;) {\n      handler.els[i].__id__ = undefined;\n      delete handler.els[i].__id__;\n    }\n\n    // Remove handler.\n    this.outsideClickHandler[id] = undefined;\n    delete this.outsideClickHandler[id];\n  }\n\n  checkGlobalClick (target) {\n    const found = {};\n    const checkClass = Object.keys(this.outsideClickClassHandler).length;\n\n    let el = target;\n    try {\n      while (!el.__d3ListGraphBase__) {\n        if (el.__id__) {\n          for (let i = el.__id__.length; i--;) {\n            found[el.__id__[i]] = true;\n          }\n        }\n        if (checkClass) {\n          const classNames = Object.keys(this.outsideClickClassHandler);\n          for (let i = classNames.length; i--;) {\n            const className = el.getAttribute('class');\n            if (className && className.indexOf(classNames[i]) >= 0) {\n              found[this.outsideClickClassHandler[classNames[i]].id] = true;\n            }\n          }\n        }\n        el = el.parentNode;\n      }\n    } catch (e) { return; }\n\n    const handlerIds = Object.keys(this.outsideClickHandler);\n    for (let i = handlerIds.length; i--;) {\n      if (!found[handlerIds[i]]) {\n        this.outsideClickHandler[handlerIds[i]].callback.call(this);\n      }\n    }\n  }\n\n  get area () {\n    return this.container.node().getBoundingClientRect();\n  }\n\n  get dragMinX () {\n    return Math.min(0, this.width - this.area.width);\n  }\n\n  getDragLimits () {\n    return {\n      x: {\n        min: this.dragMinX,\n        max: 0\n      }\n    };\n  }\n\n  /**\n   * Helper method to get the top and left position of the base `svg`.\n   *\n   * @Description\n   * Calling `getBoundingClientRect()` right at the beginning leads to errornous\n   * values, probably because the function is called because HTML has been fully\n   * rendered.\n   *\n   * @method  getBoundingRect\n   * @author  Fritz Lekschas\n   * @date    2016-02-24\n   */\n  getBoundingRect () {\n    this.left = this.svgEl.getBoundingClientRect().left;\n    this.top = this.svgEl.getBoundingClientRect().top;\n  }\n\n  interactionWrapper (callback, params) {\n    if (!this.noInteractions) {\n      callback.apply(this, params);\n    }\n  }\n\n  dragStartHandler () {\n    if (!this.dragging) {\n      this.noInteractions = (this.dragging = true);\n    }\n  }\n\n  dragEndHandler () {\n    if (this.dragging) {\n      this.noInteractions = (this.dragging = false);\n    }\n  }\n\n  static scrollElVertically (el, offset) {\n    d3.select(el).attr(\n      'transform',\n      'translate(0, ' + offset + ')'\n    );\n  }\n\n  noDragging () {\n    return !!this.activeScrollbar || this.mouseDownOnContextMenu;\n  }\n\n  globalMouseUp (event) {\n    this.noInteractions = false;\n    this.mouseDownOnContextMenu = false;\n\n    if (this.activeScrollbar) {\n      const data = this.activeScrollbar.datum();\n      const deltaY = data.scrollbar.clientY - event.clientY;\n\n      // Save final vertical position\n      // Scrollbar\n      data.scrollbar.scrollTop = Math.min(\n        Math.max(\n          data.scrollbar.scrollTop - deltaY,\n          0\n        ),\n        data.scrollbar.scrollHeight\n      );\n\n      // Content\n      data.scrollTop = Math.max(\n        Math.min(\n          data.scrollTop +\n          data.invertedHeightScale(deltaY),\n          0\n        ),\n        -data.scrollHeight\n      );\n\n      this.activeScrollbar.classed('active', false);\n\n      this.activeScrollbar = undefined;\n    }\n  }\n\n  globalMouseMove (event) {\n    if (this.activeScrollbar) {\n      event.preventDefault();\n      const data = this.activeScrollbar.datum();\n      const deltaY = data.scrollbar.clientY - event.clientY;\n\n      // Scroll scrollbar\n      ListGraph.scrollElVertically(\n        this.activeScrollbar.node(),\n        Math.min(\n          Math.max(\n            data.scrollbar.scrollTop - deltaY,\n            0\n          ),\n          data.scrollbar.scrollHeight\n        )\n      );\n\n      // Scroll content\n      const contentScrollTop = Math.max(\n        Math.min(\n          data.scrollTop +\n          data.invertedHeightScale(deltaY),\n          0\n        ),\n        -data.scrollHeight\n      );\n\n      // Check if nodes are visible.\n      this.checkNodeVisibility(data.level, contentScrollTop);\n\n      ListGraph.scrollElVertically(\n        data.nodes,\n        contentScrollTop\n      );\n\n      // Scroll Links\n      if (data.level !== this.visData.nodes.length) {\n        this.links.scroll(\n          data.linkSelections.outgoing,\n          this.layout.offsetLinks(\n            data.level,\n            contentScrollTop,\n            'source'\n          )\n        );\n      }\n\n      if (data.level > 0) {\n        this.links.scroll(\n          data.linkSelections.incoming,\n          this.layout.offsetLinks(\n            data.level - 1,\n            contentScrollTop,\n            'target'\n          )\n        );\n      }\n\n      if (this.showLinkLocation) {\n        this.nodes.updateLinkLocationIndicators(\n          data.level - 1, data.level + 1\n        );\n      }\n\n      if (this.nodeContextMenu.opened) {\n        this.nodeContextMenu.scrollY(contentScrollTop);\n      }\n    }\n  }\n\n  get barMode () {\n    if (this.bars) {\n      return this.nodes.bars.mode;\n    }\n    return this._barMode;\n  }\n\n  set barMode (mode) {\n    if (this.bars) {\n      this.nodes.bars.mode = mode;\n    }\n    this._barMode = mode;\n  }\n\n  scrollbarMouseDown (el, event) {\n    this.noInteractions = true;\n    this.activeScrollbar = d3.select(el).classed('active', true);\n    this.activeScrollbar.datum().scrollbar.clientY = event.clientY;\n  }\n\n  mousewheelColumn (el, event) {\n    event.preventDefault();\n\n    const data = d3.select(el).datum();\n\n    this.checkNodeVisibility(data.level);\n\n    if (data.scrollHeight > 0) {\n      // Scroll nodes\n      data.scrollTop = Math.max(\n        Math.min(data.scrollTop + event.deltaY, 0),\n        -data.scrollHeight\n      );\n\n      this.scrollY(data);\n    }\n  }\n\n  scrollY (columnData, scrollbarDragging) {\n    ListGraph.scrollElVertically(columnData.nodes, columnData.scrollTop);\n\n    if (!scrollbarDragging) {\n      // Scroll scrollbar\n      columnData.scrollbar.scrollTop = columnData.scrollbar.heightScale(\n        -columnData.scrollTop\n      );\n\n      ListGraph.scrollElVertically(\n        columnData.scrollbar.el,\n        columnData.scrollbar.scrollTop\n      );\n    }\n\n    // Scroll Links\n    if (columnData.level !== this.visData.nodes.length) {\n      this.links.scroll(\n        columnData.linkSelections.outgoing,\n        this.layout.offsetLinks(\n          columnData.level,\n          columnData.scrollTop,\n          'source'\n        )\n      );\n    }\n\n    if (columnData.level > 0) {\n      this.links.scroll(\n        columnData.linkSelections.incoming,\n        this.layout.offsetLinks(\n          columnData.level - 1,\n          columnData.scrollTop,\n          'target'\n        )\n      );\n    }\n\n    if (this.showLinkLocation) {\n      this.nodes.updateLinkLocationIndicators(\n        columnData.level - 1, columnData.level + 1\n      );\n    }\n\n    if (this.nodeContextMenu.isOpenSameColumn(columnData.level)) {\n      this.nodeContextMenu.scrollY(columnData.scrollTop);\n    }\n  }\n\n  scrollYTo (selection, positionY) {\n    return selection\n      .transition()\n      .duration(config.TRANSITION_SEMI_FAST)\n      .tween('scrollY', data => {\n        const scrollPositionY = d3.interpolateNumber(data.scrollTop, positionY);\n        return time => {\n          data.scrollTop = scrollPositionY(time);\n          this.scrollY(data);\n        };\n      });\n  }\n\n  resetAllScrollPositions () {\n    return this.scrollYTo(this.levels.groups, 0);\n  }\n\n  selectByLevel (level, selector) {\n    return d3.select(this.levels.groups[0][level]).selectAll(selector);\n  }\n\n  updateSorting () {\n    const levels = Object.keys(this.currentSorting.local);\n    for (let i = levels.length; i--;) {\n      this.sortColumn(\n        i,\n        this.currentSorting.local[levels[i]].type,\n        this.currentSorting.local[levels[i]].order,\n        this.currentSorting.local[levels[i]].type\n      );\n    }\n  }\n\n  sortColumn (level, property, sortOrder, newSortType) {\n    this.nodes.sort(\n      this.layout\n        .sort(level, property, sortOrder)\n        .updateNodesVisibility()\n        .nodes(level),\n      newSortType\n    );\n    this.links.sort(this.layout.links(level - 1, level + 1));\n    this.nodeContextMenu.updatePosition();\n    this.checkNodeVisibility();\n  }\n\n  sortAllColumns (property, newSortType) {\n    this.currentSorting.global.order =\n      this.currentSorting.global.order === -1 && !newSortType ? 1 : -1;\n\n    this.nodes.sort(\n      this.layout\n        .sort(undefined, property, this.currentSorting.global.order)\n        .updateNodesVisibility()\n        .nodes(),\n      newSortType\n    );\n\n    this.links.sort(this.layout.links());\n    this.nodeContextMenu.updatePosition();\n    this.checkNodeVisibility();\n  }\n\n  switchBarMode (mode) {\n    this.svgD3.classed('one-bar', mode === 'one');\n    this.svgD3.classed('two-bar', mode === 'two');\n    this.nodes.bars.switchMode(mode, this.currentSorting);\n  }\n\n  trigger (event, data) {\n    this.events.trigger(event, data);\n  }\n\n  /**\n   * Update the scroll position and scroll-bar visibility.\n   *\n   * @description\n   * This method needs to be called after hiding or showing nodes.\n   *\n   * @method  updateScrolling\n   * @author  Fritz Lekschas\n   * @date    2016-02-21\n   */\n  updateScrolling () {\n    this.resetAllScrollPositions().call(allTransitionsEnded, () => {\n      this.levels.updateScrollProperties();\n      this.scrollbars.updateVisibility();\n    });\n  }\n\n  updateLevelsVisibility () {\n    this.levels.updateVisibility();\n  }\n\n  globalView (selectionInterst) {\n    if (!this.zoomedOut) {\n      let x = 0;\n      let y = 0;\n      let width = 0;\n      let height = 0;\n      let cRect = undefined;\n      const contBBox = this.container.node().getBBox();\n\n      const globalCRect = this.svgD3.node().getBoundingClientRect();\n\n      if (selectionInterst && !selectionInterst.empty()) {\n        selectionInterst.each(function () {\n          cRect = this.getBoundingClientRect();\n          width = Math.max(width, cRect.left - globalCRect.left + cRect.width);\n          height = Math.max(height, cRect.top - globalCRect.top + cRect.height);\n        });\n        width = this.width > width ? this.width : width;\n        height = this.height > height ? this.height : height;\n      } else {\n        width = this.width > contBBox.width ? this.width : contBBox.width;\n        height = this.height > contBBox.height ? this.height : contBBox.height;\n      }\n\n      x = contBBox.x + this.dragged.x;\n      y = contBBox.y;\n\n      this.nodes.makeAllTempVisible();\n\n      this.svgD3\n        .classed('zoomedOut', true)\n        .transition()\n        .duration(config.TRANSITION_SEMI_FAST)\n        .attr('viewBox', x + ' ' + y + ' ' + width + ' ' + height);\n    }\n  }\n\n  zoomedView () {\n    if (!this.zoomedOut) {\n      this.nodes.makeAllTempVisible(true);\n\n      this.svgD3\n        .classed('zoomedOut', false)\n        .transition()\n        .duration(config.TRANSITION_SEMI_FAST)\n        .attr('viewBox', '0 0 ' + this.width + ' ' + this.height);\n    }\n  }\n\n  toggleView () {\n    if (this.zoomedOut) {\n      this.zoomedOut = false;\n      this.zoomedView();\n    } else {\n      this.globalView();\n      this.zoomedOut = true;\n    }\n  }\n\n  /**\n   * Check if an element is actually visible, i.e. within the boundaries of the\n   * SVG element.\n   *\n   * @method  isHidden\n   * @author  Fritz Lekschas\n   * @date    2016-02-24\n   * @param   {Object}    el  DOM element to be checked.\n   * @return  {Boolean}       If `true` element is not visible.\n   */\n  isHidden (el) {\n    const boundingRect = el.getBoundingClientRect();\n    return (\n      boundingRect.top + boundingRect.height <= this.top ||\n      boundingRect.left + boundingRect.width <= this.left ||\n      boundingRect.top >= this.top + this.height ||\n      boundingRect.left >= this.left + this.width\n    );\n  }\n\n  /**\n   * Assesses any of the two ends of a link points outwards.\n   *\n   * @description\n   * In order to be able to determine where a link points to the output of\n   * `linkPointsOutside` for the source and target location is shifted bitwise\n   * in such a way that this method return 9 unique numbers.\n   * - 0: link is completely inwards\n   * - 1: source is outwards to the top\n   * - 2: source is outwards to the bottom\n   * - 4: target is outwards to the top\n   * - 8: target is outwards to the bottom\n   * - 5: source and target are outwards to the top\n   * - 6: source is outwards to the bottom and target is outwards to the top\n   * - 9: source is outwards to the top and target is outwards to the bottom\n   * - 10: source and target are outwards to the bottom\n   *\n   * If you're asking yourself: \"WAT?!?!!\" Think of a 4x4 matrix:\n   * |    target    |    source    |\n   * | bottom | top | bottom | top |\n   * |    0   |  0  |    0   |  0  | (=0)\n   * |    0   |  0  |    0   |  1  | (=1)\n   * |    0   |  0  |    1   |  0  | (=2)\n   * |    0   |  1  |    0   |  0  | (=4)\n   * |    1   |  0  |    0   |  0  | (=8)\n   * |    0   |  1  |    0   |  1  | (=5)\n   * |    0   |  1  |    1   |  0  | (=6)\n   * |    1   |  0  |    0   |  1  | (=9)\n   * |    1   |  0  |    1   |  0  | (=10)\n   *\n   * Checker whether the source or target location is above, below or within the\n   * global SVG container is very simple. For example, to find out if the target\n   * location is above, all we need to do is `<VALUE> & 4 > 0`. This performs a\n   * bit-wise AND operation with only two possible outcomes: 4 and 0.\n   *\n   * @method  pointsOutside\n   * @author  Fritz Lekschas\n   * @date    2016-02-29\n   * @param   {Object}  data  Link data.\n   * @return  {Number}  Numberical represenation of the links constallation. See\n   *   description for details.\n   */\n  pointsOutside (data) {\n    const source = this.linkPointsOutside(data.source);\n    const target = this.linkPointsOutside(data.target) << 2;\n    return source | target;\n  }\n\n  /**\n   * Assesses whether a link's end points outwards\n   *\n   * @method  linkPointsOutside\n   * @author  Fritz Lekschas\n   * @date    2016-02-29\n   * @param   {Object}  data  Link data.\n   * @return  {Number}  If link ends inwards returns `0`, if it points outwards\n   *   to the top returns `1` otherwise `2`.\n   */\n  linkPointsOutside (data) {\n    const y = data.node.y + data.offsetY;\n    if (y + this.visData.global.row.height <= 0) {\n      return 1;\n    }\n    if (y >= this.height) {\n      return 2;\n    }\n    return 0;\n  }\n}\n\nListGraph.version = '0.16.1';\n\nexport default ListGraph;\n"],"names":["config.TRANSITION_SEMI_FAST","config.TRANSITION_LIGHTNING_FAST","isFunction","isArray","resolve","reject","then","originalThen","originalResolve","Promise","Resolve","Reject","objectProto","objectToString","config.SCROLLBAR_WIDTH","config.COLUMNS","config.ROWS","config.ICON_PATH","config.QUERYING","config.HIDE_OUTWARDS_LINKS","config.SHOW_LINK_LOCATION","config.HIGHLIGHT_ACTIVE_LEVEL","config.ACTIVE_LEVEL","config.NO_ROOT_ACTIVE_LEVEL_DIFF","config.DISABLE_DEBOUNCED_CONTEXT_MENU","config.DEFAULT_SORT_ORDER","config.CLASSNAME","config.DEFAULT_BAR_MODE"],"mappings":"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AAEA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;;AAEA,EAAA;;AAEA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;;AAEA,EAAA;AACA,EAAA;;AAEA,EAAA;;AAEA,EAAA;AACA,EAAA;;AAEA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;;AAEA,EAAA;;AAEA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;;AAEA,EAAA;;AAEA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;;AAEA,EAAA;AACA,EAAA;;AAEA,EAAA;;AAEA,EAAA;AACA,EAAA;;AAEA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;;AAEA,EAAA;;AAEA,EAAA;;AAEA,EAAA;;AAEA,EAAA;;AAEA,EAAA;;AAEA,EAAA;;AAEA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;;AAEA,EAAA;;AAEA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;;AAEA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA,EAAE,IAAI,EAAE,IAAI;;AAEZ,EAAA;AACA,EAAA;AACA,EAAA;;AAEA,EAAA;AACA,EAAA;AACA,EAAA;AACA,EAAA;;AAEA,EAAA;AAC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","sourceRoot":"/source/"}