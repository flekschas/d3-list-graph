{"version":3,"sources":["listGraph.min.js"],"names":["ListGraph","$","d3","isObject","value","type","up","node","callback","parent","down","i","childRefs","length","upAndDown","babelHelpers","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","SCROLLBAR_CLASS","Scrollbars","baseSelection","visData","width","_this","this","selection","append","attr","each","data","index","select","parentNode","datum","scrollbar","el","x","y","height","classed","CLASSNAME","SCROLLBAR_WIDTH","COLUMNS","ROWS","ICON_PATH","TRANSITION_SEMI_FAST","BAR_CLASS","Bar","barData","nodeData","setup","className","magnitude","that","global","column","padding","cell","row","contentHeight","contentWidth","selectAll","enter","id","BARS_CLASS","Bars","bars","NODES_CLASS","NODE_CLASS","CLONE_CLASS","Nodes","groups","nodes","rows","clone","on","mouseEnter","mouseLeave","name","text","hovering","update","start","end","transition","duration","LINKS_CLASS","LINK_CLASS","Links","layout","links","diagonal","exit","remove","get","_this2","svg","source","offsetY","offsetX","projection","COLUMN_CLASS","SCROLL_CONTAINER_CLASS","Columns","vis","scrollbarWidth","getBoundingClientRect","scrollHeight","scrollbarHeight","Math","max","linkSelections","incoming","selectByColumn","outgoing","scrollTop","undefined","heightScale","scale","linear","domain","range","invertedHeightScale","invert","TOPBAR_EL","TOPBAR_CLASS","TOPBAR_CONTROL_EL","TOPBAR_CONTROL_CLASS","Topbar","empty","insert","controls","style","toggleColumn","left","sortColumn","highlightBars","html","iconPath","toggleOptions","sorting","order","console","log","level","deHighlight","selectNodesColumn","ExtendableError","_Error","message","getPrototypeOf","Error","captureStackTrace","LayoutNotAvailable","_ExtendableError","baseEl","rootNodes","options","listGraph","baseElD3","baseElJq","svgD3","svgJq","columns","addClass","process","topbar","container","scrollPreparation","scrollbars","$levels","event","mousewheelColumn","scrollbarMouseDown","document","globalMouseUp","globalMouseMove","activeScrollbar","deltaY","clientY","min","scrollY","contentScrollTop","scroll","offsetLinks","preventDefault","selector","property","sortOrder","sort","offset"],"mappings":"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","file":"listGraph.min.js","sourcesContent":["/* Copyright Fritz Lekschas: D3 example visualization app using list-based graphs */\nvar ListGraph = (function ($,d3) { 'use strict';\n\n  var babelHelpers = {};\n\n  babelHelpers.classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  babelHelpers.createClass = (function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  })();\n\n  babelHelpers.inherits = function (subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n\n  babelHelpers.possibleConstructorReturn = function (self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  };\n\n  babelHelpers;\n  /**\n   * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // Avoid a V8 JIT bug in Chrome 19-20.\n    // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  var SCROLLBAR_CLASS = 'scrollbar';\n\n  var Scrollbars = function Scrollbars(baseSelection, visData, width) {\n    var _this = this;\n\n    babelHelpers.classCallCheck(this, Scrollbars);\n\n    this.visData = visData;\n    this.width = width;\n\n    // Add empty scrollbar element\n    this.selection = baseSelection.append('rect').attr('class', SCROLLBAR_CLASS).call(function (selection) {\n      selection.each(function (data, index) {\n        d3.select(this.parentNode).datum().scrollbar.el = this;\n      });\n    }).attr('x', function (data) {\n      return data.scrollbar.x;\n    }).attr('y', function (data) {\n      return data.scrollbar.y;\n    }).attr('width', function (data) {\n      return _this.width;\n    }).attr('height', function (data) {\n      return data.scrollbar.height;\n    }).attr('rx', this.width / 2).attr('ry', this.width / 2).classed('ready', true);\n  };\n\n  var CLASSNAME = 'list-graph';\n\n  var SCROLLBAR_WIDTH = 6;\n  var COLUMNS = 5;\n  var ROWS = 5;\n\n  // An empty path is equal to inline SVG.\n  var ICON_PATH = '';\n\n  var TRANSITION_SEMI_FAST = 250;\n\n  function up(node, callback) {\n    while (node.parent) {\n      node = node.parent;\n      callback(node);\n    }\n  }\n\n  function down(node, callback) {\n    for (var i = node.childRefs.length; i--;) {\n      callback(node.childRefs[i]);\n      down(node.childRefs[i], callback);\n    }\n  }\n\n  function upAndDown(node, callback) {\n    up(node, callback);\n    down(node, callback);\n  }\n\n  var BAR_CLASS = 'bar';\n\n  var Bar = function Bar(selection, barData, nodeData, visData) {\n    babelHelpers.classCallCheck(this, Bar);\n\n    var that = this;\n\n    this.data = barData;\n    this.nodeData = nodeData;\n    this.visData = visData;\n\n    this.height = this.visData.global.row.contentHeight / (this.data.length * 2) - this.visData.global.cell.padding * 2;\n\n    this.selection = selection.selectAll(BAR_CLASS).data(this.data).enter().append('g').attr('class', function (data) {\n      return BAR_CLASS + ' ' + data.id;\n    });\n\n    // Local helper method to avoid code duplication.\n    // Calling a class method from within the consructor is possible but `this`\n    // is not available. Thus, we need to create local function and pass in\n    // `this` as `that`, which feels very hacky but it works.\n    function setup(selection, className, magnitude) {\n      selection.attr('x', that.nodeData.x + that.visData.global.column.padding + that.visData.global.cell.padding).attr('y', function (data, i) {\n        return that.visData.global.row.padding + that.visData.global.row.contentHeight / 2 + that.height * i + that.visData.global.cell.padding * (1 + 2 * i);\n      }).attr('width', function (data) {\n        return (magnitude ? data.value : 1) * (that.visData.global.column.contentWidth - that.visData.global.cell.padding * 2);\n      }).attr('height', that.height).classed(className, true);\n    }\n\n    this.selection.append('rect').call(setup, 'bar-border');\n\n    this.selection.append('rect').call(setup, 'bar-magnitude', true);\n  };\n\n  var BARS_CLASS = 'bars';\n\n  var Bars = function Bars(selection, visData) {\n    babelHelpers.classCallCheck(this, Bars);\n\n    var that = this;\n\n    this.visData = visData;\n\n    selection.append('g').attr('class', BARS_CLASS).call(function (selection) {\n      selection.each(function (datum) {\n        new Bar(d3.select(this), datum.data.bars, datum, that.visData);\n      });\n    });\n  };\n\n  var NODES_CLASS = 'nodes';\n  var NODE_CLASS = 'node';\n  var CLONE_CLASS = 'clone';\n\n  var Nodes = (function () {\n    function Nodes(baseSelection, visData) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Nodes);\n\n      var that = this;\n\n      this.visData = visData;\n\n      this.groups = baseSelection.append('g').attr('class', NODES_CLASS).call(function (selection) {\n        selection.each(function (data, index) {\n          d3.select(this.parentNode).datum().nodes = this;\n        });\n      });\n\n      this.nodes = this.groups.selectAll('.' + NODE_CLASS).data(function (data) {\n        return data.rows;\n      }).enter().append('g').classed(NODE_CLASS, true).classed(CLONE_CLASS, function (data) {\n        return data.clone;\n      }).attr('transform', function (data) {\n        return 'translate(0, ' + data.y + ')';\n      });\n\n      this.nodes.append('rect').attr('x', function (data) {\n        return data.x + _this.visData.global.column.padding;\n      }).attr('y', function (data) {\n        return _this.visData.global.row.padding;\n      }).attr('width', this.visData.global.column.contentWidth).attr('height', this.visData.global.row.contentHeight).attr('rx', 2).attr('ry', 2).classed('bg', true);\n\n      this.nodes.on('mouseenter', function (data) {\n        that.mouseEnter(this, data);\n      });\n\n      this.nodes.on('mouseleave', function (data) {\n        that.mouseLeave(this, data);\n      });\n\n      // Add node label\n      this.nodes.call(function (selection) {\n        selection.append('foreignObject').attr('x', function (data) {\n          return data.x + _this.visData.global.column.padding + _this.visData.global.cell.padding;\n        }).attr('y', function (data) {\n          return _this.visData.global.row.padding + _this.visData.global.cell.padding;\n        }).attr('width', _this.visData.global.column.contentWidth).attr('height', _this.visData.global.row.contentHeight / 2 - _this.visData.global.cell.padding * 2).attr('class', 'label-wrapper').append('xhtml:div').attr('class', 'label').attr('title', function (data) {\n          return data.data.name;\n        }).append('xhtml:span').text(function (data) {\n          return data.data.name;\n        });\n      });\n\n      this.bars = new Bars(this.nodes, this.visData);\n    }\n\n    babelHelpers.createClass(Nodes, [{\n      key: 'mouseEnter',\n      value: function mouseEnter(el, data) {\n        data.hovering = 1;\n        upAndDown(data, function (data) {\n          return data.hovering = 2;\n        });\n\n        d3.select(el).classed('hovering-directly', true);\n        this.nodes.classed('hovering-indirectly', function (data) {\n          return data.hovering === 2;\n        });\n      }\n    }, {\n      key: 'mouseLeave',\n      value: function mouseLeave(el, data) {\n        data.hovering = 0;\n        upAndDown(data, function (data) {\n          return data.hovering = 0;\n        });\n\n        d3.select(el).classed('hovering-directly', false);\n        this.nodes.classed('hovering-indirectly', false);\n      }\n    }, {\n      key: 'sort',\n      value: function sort(update) {\n        for (var i = update.length; i--;) {\n          var start = function start() {\n            d3.select(this).classed('sorting', true);\n          };\n          var end = function end() {\n            d3.select(this).classed('sorting', false);\n          };\n\n          this.nodes.data(update[i].rows, function (data) {\n            return data.id;\n          }).transition().duration(TRANSITION_SEMI_FAST).attr('transform', function (data) {\n            return 'translate(0, ' + data.y + ')';\n          }).each('start', start).each('end', end);\n        }\n      }\n    }]);\n    return Nodes;\n  })();\n\n  var LINKS_CLASS = 'links';\n  var LINK_CLASS = 'link';\n\n  var Links = (function () {\n    function Links(selection, visData, layout) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Links);\n\n      this.visData = visData;\n      this.layout = layout;\n\n      this.groups = selection.append('g').attr('class', LINKS_CLASS).call(function (selection) {\n        selection.each(function (data, index) {\n          d3.select(this.parentNode).datum().links = this;\n        });\n      });\n\n      this.links = this.groups.selectAll(LINK_CLASS).data(function (data, index) {\n        return _this.layout.links(index);\n      }).enter().append('path').attr('class', 'link').attr('d', this.diagonal);\n    }\n\n    babelHelpers.createClass(Links, [{\n      key: 'scroll',\n      value: function scroll(selection, data) {\n        selection.data(data).attr('d', this.diagonal).exit().remove();\n      }\n    }, {\n      key: 'sort',\n      value: function sort(update) {\n        var start = function start() {\n          d3.select(this).classed('sorting', true);\n        };\n        var end = function end() {\n          d3.select(this).classed('sorting', false);\n        };\n\n        this.links.data(update, function (data) {\n          return data.id;\n        }).transition().duration(TRANSITION_SEMI_FAST).attr('d', this.diagonal).each('start', start).each('end', end);\n      }\n    }, {\n      key: 'diagonal',\n      get: function get() {\n        var _this2 = this;\n\n        return d3.svg.diagonal().source(function (data) {\n          return {\n            x: data.source.node.y + data.source.offsetY + _this2.visData.global.row.height / 2,\n            y: data.source.node.x + data.source.offsetX + _this2.visData.global.column.contentWidth + _this2.visData.global.column.padding\n          };\n        }).target(function (data) {\n          return {\n            x: data.target.node.y + data.target.offsetY + _this2.visData.global.row.height / 2,\n            y: data.target.node.x + data.target.offsetX + _this2.visData.global.column.padding\n          };\n        }).projection(function (data) {\n          return [data.y, data.x];\n        });\n      }\n    }]);\n    return Links;\n  })();\n\n  var COLUMN_CLASS = 'column';\n  var SCROLL_CONTAINER_CLASS = 'scroll-container';\n\n  var Columns = (function () {\n    function Columns(selection, visData) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Columns);\n\n      this.visData = visData;\n      this.groups = selection.selectAll('g').data(this.visData.nodes).enter().append('g').attr('class', COLUMN_CLASS);\n\n      // We need to add an empty rectangle that fills up the whole column to ensure\n      // that the `g`'s size is at a maximum, otherwise scrolling will be halted\n      // when the cursor leaves an actually drawn element.\n      this.groups.append('rect').attr('class', SCROLL_CONTAINER_CLASS).attr('x', function (data) {\n        return data.x;\n      }).attr('y', function (data) {\n        return data.y;\n      }).attr('width', function (data) {\n        return _this.visData.global.column.width;\n      }).attr('height', function (data) {\n        return _this.visData.global.column.height;\n      });\n    }\n\n    babelHelpers.createClass(Columns, [{\n      key: 'scrollPreparation',\n      value: function scrollPreparation(vis, scrollbarWidth) {\n        var _this2 = this;\n\n        this.groups.each(function (data, index) {\n          var contentHeight = data.nodes.getBoundingClientRect().height + 2 * _this2.visData.global.row.padding;\n          var scrollHeight = contentHeight - _this2.visData.global.column.height;\n          var scrollbarHeight = scrollHeight > 0 ? Math.max(_this2.visData.global.column.height * _this2.visData.global.column.height / contentHeight, 10) : 0;\n\n          data.height = contentHeight;\n          data.linkSelections = {\n            incoming: index > 0 ? vis.selectByColumn(index - 1, '.link') : null,\n            outgoing: vis.selectByColumn(index, '.link')\n          };\n          data.scrollHeight = scrollHeight;\n          data.scrollTop = 0;\n          data.scrollbar = {\n            el: undefined,\n            x: data.x + _this2.visData.global.column.width - scrollbarWidth,\n            y: 0,\n            width: scrollbarWidth,\n            height: scrollbarHeight,\n            scrollHeight: _this2.visData.global.column.height - scrollbarHeight,\n            scrollTop: 0,\n            heightScale: d3.scale.linear().domain([0, scrollHeight]).range([0, _this2.visData.global.column.height - scrollbarHeight])\n          };\n          data.invertedHeightScale = data.scrollbar.heightScale.invert;\n        });\n      }\n    }, {\n      key: 'height',\n      get: function get() {\n        return this.visData.global.column.height;\n      }\n    }]);\n    return Columns;\n  })();\n\n  var TOPBAR_EL = 'div';\n  var TOPBAR_CLASS = 'topbar';\n\n  var TOPBAR_CONTROL_EL = 'ul';\n  var TOPBAR_CONTROL_CLASS = 'controls';\n\n  var Topbar = (function () {\n    function Topbar(vis, selection, visData) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Topbar);\n\n      var that = this;\n\n      this.vis = vis;\n      this.visData = visData;\n      // Add base topbar element\n      this.el = selection.select('.topbar');\n\n      if (this.el.empty()) {\n        this.el = selection.insert(TOPBAR_EL, ':first-child').attr('class', TOPBAR_CLASS);\n      }\n\n      this.controls = this.el.selectAll(TOPBAR_CONTROL_CLASS).data(visData.nodes).enter().append(TOPBAR_CONTROL_EL).classed(TOPBAR_CONTROL_CLASS, true).style('width', this.visData.global.column.width + 'px');\n\n      this.controls.append('li').attr('class', 'toggle').style('width', this.visData.global.column.padding + 'px').on('click', this.toggleColumn);\n\n      this.controls.append('li').attr('class', 'sort-precision ease-all').style({\n        'width': this.visData.global.column.contentWidth / 2 + 'px',\n        'left': this.visData.global.column.padding + 'px'\n      }).on('click', function (data, index) {\n        that.sortColumn(this, index, 'precision');\n      }).on('mouseenter', function () {\n        that.highlightBars(this.parentNode, 'precision');\n        d3.select(this).style('width', that.visData.global.column.contentWidth - 16 + 'px');\n      }).on('mouseleave', function () {\n        that.highlightBars(this.parentNode, 'precision', true);\n        d3.select(this).style('width', that.visData.global.column.contentWidth / 2 + 'px');\n      }).html('<div class=\"expandable-label\">' + '  <span class=\"letter abbr\">P</span>' + '  <span class=\"letter abbr\">r</span>' + '  <span class=\"letter\">e</span>' + '  <span class=\"letter abbr\">c</span>' + '  <span class=\"letter\">i</span>' + '  <span class=\"letter\">s</span>' + '  <span class=\"letter\">i</span>' + '  <span class=\"letter\">o</span>' + '  <span class=\"letter\">n</span>' + '</div>' + '<svg class=\"icon-unsort invisible-default visible\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#unsort\"></use>' + '</svg>' + '<svg class=\"icon-sort-asc invisible-default\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#sort-asc\"></use>' + '</svg>' + '<svg class=\"icon-sort-desc invisible-default\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#sort-desc\"></use>' + '</svg>');\n\n      this.controls.append('li').attr('class', 'sort-recall ease-all').style({\n        'width': this.visData.global.column.contentWidth / 2 + 'px',\n        'left': this.visData.global.column.contentWidth / 2 + this.visData.global.column.padding + 'px'\n      }).on('click', function (data, index) {\n        that.sortColumn(this, index, 'recall');\n      }).on('mouseenter', function () {\n        that.highlightBars(this.parentNode, 'recall');\n        d3.select(this).style({\n          'width': that.visData.global.column.contentWidth - 16 + 'px',\n          'left': that.visData.global.column.padding + 16 + 'px'\n        });\n      }).on('mouseleave', function () {\n        that.highlightBars(this.parentNode, 'recall', true);\n        d3.select(this).style({\n          'width': that.visData.global.column.contentWidth / 2 + 'px',\n          'left': that.visData.global.column.contentWidth / 2 + that.visData.global.column.padding + 'px'\n        });\n      }).html('<div class=\"expandable-label\">' + '  <span class=\"letter abbr\">R</span>' + '  <span class=\"letter\">e</span>' + '  <span class=\"letter abbr\">c</span>' + '  <span class=\"letter\">a</span>' + '  <span class=\"letter abbr\">l</span>' + '  <span class=\"letter\">l</span>' + '</div>' + '<svg class=\"icon-unsort invisible-default visible\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#unsort\"></use>' + '</svg>' + '<svg class=\"icon-sort-asc invisible-default\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#sort-asc\"></use>' + '</svg>' + '<svg class=\"icon-sort-desc invisible-default\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#sort-desc\"></use>' + '</svg>');\n\n      this.controls.append('li').attr('class', 'options').style('width', this.visData.global.column.padding + 'px').on('click', this.toggleOptions).html('<svg class=\"icon-gear\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#gear\"></use>' + '</svg>');\n\n      /**\n       * Stores current sorting, e.g. type, order and a reference to the element.\n       *\n       * @type  {Object}\n       */\n      this.sorting = {};\n      this.controls.each(function (data, index) {\n        /*\n         * Order:\n         * 0 = unsorted\n         * 1 = asc\n         * -1 = desc\n         */\n        _this.sorting[index] = {\n          type: undefined,\n          order: 0,\n          el: undefined\n        };\n      });\n    }\n\n    babelHelpers.createClass(Topbar, [{\n      key: 'toggleColumn',\n      value: function toggleColumn() {\n        console.log('Toggle column');\n      }\n    }, {\n      key: 'selectNodesColumn',\n      value: function selectNodesColumn(el) {\n        return this.vis.selectByColumn(d3.select(el).datum().level, '.node');\n      }\n    }, {\n      key: 'highlightBars',\n      value: function highlightBars(el, type, deHighlight) {\n        var nodes = this.selectNodesColumn(el);\n        nodes.selectAll('.bar.' + type).classed('highlight', !deHighlight);\n      }\n    }, {\n      key: 'sortColumn',\n      value: function sortColumn(el, index, type) {\n        if (this.sorting[index].el) {\n          if (this.sorting[index].type !== type) {\n            this.sorting[index].el.select('.icon-sort-desc').classed('visible', false);\n            this.sorting[index].el.select('.icon-sort-asc').classed('visible', false);\n            this.sorting[index].el.select('.icon-unsort').classed('visible', true);\n          }\n        }\n\n        this.sorting[index].el = d3.select(el);\n        this.sorting[index].type = type;\n\n        // -1 = desc, 1 = asc\n        if (this.sorting[index].order === -1) {\n          this.sorting[index].order = 1;\n          this.sorting[index].el.select('.icon-sort-desc').classed('visible', false);\n          this.sorting[index].el.select('.icon-sort-asc').classed('visible', true);\n        } else {\n          this.sorting[index].order = -1;\n          this.sorting[index].el.select('.icon-sort-asc').classed('visible', false);\n          this.sorting[index].el.select('.icon-sort-desc').classed('visible', true);\n        }\n\n        this.sorting[index].el.select('.icon-unsort').classed('visible', false);\n\n        this.vis.sortColumn(index, type, this.sorting[index].order);\n      }\n    }, {\n      key: 'toggleOptions',\n      value: function toggleOptions() {\n        console.log('Toggle options');\n      }\n    }]);\n    return Topbar;\n  })();\n\n  var ExtendableError = (function (_Error) {\n    babelHelpers.inherits(ExtendableError, _Error);\n\n    function ExtendableError(message) {\n      babelHelpers.classCallCheck(this, ExtendableError);\n\n      var _this = babelHelpers.possibleConstructorReturn(this, Object.getPrototypeOf(ExtendableError).call(this, message));\n\n      _this.name = _this.constructor.name;\n      _this.message = message;\n      Error.captureStackTrace(_this, _this.constructor.name);\n      return _this;\n    }\n\n    return ExtendableError;\n  })(Error);\n\n  var LayoutNotAvailable = (function (_ExtendableError) {\n    babelHelpers.inherits(LayoutNotAvailable, _ExtendableError);\n\n    function LayoutNotAvailable(message) {\n      babelHelpers.classCallCheck(this, LayoutNotAvailable);\n      return babelHelpers.possibleConstructorReturn(this, Object.getPrototypeOf(LayoutNotAvailable).call(this, message || 'D3.layout.listGraph.js has not been loaded yet.'));\n    }\n\n    return LayoutNotAvailable;\n  })(ExtendableError);\n\n  var ListGraph = (function () {\n    function ListGraph(baseEl, data, rootNodes, options) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, ListGraph);\n\n      if (!d3.layout.listGraph) {\n        throw new LayoutNotAvailable('D3 list graph layout (d3.layout.listGraph.js) needs to be loaded ' + 'before creating the visualization.');\n      }\n\n      if (!isObject(options)) {\n        options = {};\n      }\n\n      var that = this;\n\n      this.baseEl = baseEl;\n      this.baseElD3 = d3.select(baseEl);\n      this.baseElJq = $(baseEl);\n      this.svgD3 = this.baseElD3.select('svg.base');\n\n      if (this.svgD3.empty()) {\n        this.svgD3 = this.baseElD3.append('svg').attr('class', 'base');\n        this.svgJq = $(this.svgD3[0]);\n      } else {\n        this.svgJq = $(this.svgD3[0]);\n      }\n\n      this.rootNodes = rootNodes;\n\n      this.width = options.width || this.svgJq.width();\n      this.height = options.height || this.svgJq.height();\n      this.scrollbarWidth = options.scrollbarWidth || SCROLLBAR_WIDTH;\n      this.columns = options.columns || COLUMNS;\n      this.rows = options.rows || ROWS;\n      this.iconPath = options.iconPath || ICON_PATH;\n\n      this.baseElJq.width(this.width).addClass(CLASSNAME);\n\n      this.layout = new d3.layout.listGraph([this.width, this.height], [this.columns, this.rows]);\n\n      this.data = data;\n      this.visData = this.layout.process(this.data, this.rootNodes);\n\n      this.topbar = new Topbar(this, this.baseElD3, this.visData);\n\n      this.svgD3.attr('viewBox', '0 0 ' + this.width + ' ' + this.height);\n\n      this.container = this.svgD3.append('g');\n\n      this.columns = new Columns(this.container, this.visData);\n\n      this.links = new Links(this.columns.groups, this.visData, this.layout);\n      this.nodes = new Nodes(this.columns.groups, this.visData);\n      this.columns.scrollPreparation(this, this.scrollbarWidth);\n      this.scrollbars = new Scrollbars(this.columns.groups, this.visData, this.scrollbarWidth);\n\n      // jQuery's mousewheel plugin is much nicer than D3's half-baked zoom event.\n      this.$levels = $(this.columns.groups[0]).on('mousewheel', function (event) {\n        that.mousewheelColumn(this, event);\n      });\n\n      // Normally we would reference a named methods but since we need to aceess\n      // the class' `this` property instead of the DOM element we need to use an\n      // arrow function.\n      this.scrollbars.selection.on('mousedown', function () {\n        that.scrollbarMouseDown(this, d3.event);\n      });\n\n      // We need to listen to `mouseup` and `mousemove` globally otherwise scrolling\n      // will only work as long as the cursor hovers the actual scrollbar, which is\n      // super annoying.\n      d3.select(document).on('mouseup', function () {\n        _this.globalMouseUp(d3.event);\n      }).on('mousemove', function () {\n        _this.globalMouseMove(d3.event);\n      });\n    }\n\n    babelHelpers.createClass(ListGraph, [{\n      key: 'globalMouseUp',\n      value: function globalMouseUp(event) {\n        if (this.activeScrollbar) {\n          var data = this.activeScrollbar.datum();\n          var deltaY = data.scrollbar.clientY - event.clientY;\n\n          // Save final vertical position\n          // Scrollbar\n          data.scrollbar.scrollTop = Math.min(Math.max(data.scrollbar.scrollTop - deltaY, 0), data.scrollbar.scrollHeight);\n\n          // Content\n          data.scrollTop = Math.max(Math.min(data.scrollTop + data.invertedHeightScale(deltaY), 0), -data.scrollHeight);\n\n          this.activeScrollbar.classed('active', false);\n\n          this.activeScrollbar = undefined;\n        }\n      }\n    }, {\n      key: 'globalMouseMove',\n      value: function globalMouseMove(event) {\n        if (this.activeScrollbar) {\n          var data = this.activeScrollbar.datum();\n          var deltaY = data.scrollbar.clientY - event.clientY;\n\n          // Scroll scrollbar\n          ListGraph.scrollY(this.activeScrollbar.node(), Math.min(Math.max(data.scrollbar.scrollTop - deltaY, 0), data.scrollbar.scrollHeight));\n\n          // Scroll content\n          var contentScrollTop = Math.max(Math.min(data.scrollTop + data.invertedHeightScale(deltaY), 0), -data.scrollHeight);\n\n          ListGraph.scrollY(data.nodes, contentScrollTop);\n\n          // Scroll Links\n          this.links.scroll(data.linkSelections.outgoing, this.layout.offsetLinks(data.level, contentScrollTop, 'source'));\n\n          this.links.scroll(data.linkSelections.incoming, this.layout.offsetLinks(data.level - 1, contentScrollTop, 'target'));\n        }\n      }\n    }, {\n      key: 'scrollbarMouseDown',\n      value: function scrollbarMouseDown(el, event) {\n        this.activeScrollbar = d3.select(el).classed('active', true);\n        this.activeScrollbar.datum().scrollbar.clientY = event.clientY;\n      }\n    }, {\n      key: 'mousewheelColumn',\n      value: function mousewheelColumn(el, event) {\n        event.preventDefault();\n\n        var data = d3.select(el).datum();\n\n        if (data.scrollHeight > 0) {\n          // Scroll nodes\n          data.scrollTop = Math.max(Math.min(data.scrollTop + event.deltaY, 0), -data.scrollHeight);\n\n          ListGraph.scrollY(data.nodes, data.scrollTop);\n\n          // Scroll scrollbar\n          data.scrollbar.scrollTop = data.scrollbar.heightScale(-data.scrollTop);\n\n          ListGraph.scrollY(data.scrollbar.el, data.scrollbar.scrollTop);\n\n          // Scroll Links\n          this.links.scroll(data.linkSelections.outgoing, this.layout.offsetLinks(data.level, data.scrollTop, 'source'));\n\n          this.links.scroll(data.linkSelections.incoming, this.layout.offsetLinks(data.level - 1, data.scrollTop, 'target'));\n        }\n      }\n    }, {\n      key: 'selectByColumn',\n      value: function selectByColumn(index, selector) {\n        return d3.select(this.columns.groups[0][index]).selectAll(selector);\n      }\n    }, {\n      key: 'sortColumn',\n      value: function sortColumn(level, property, sortOrder) {\n        this.nodes.sort(this.layout.sort(level, property, sortOrder).nodes(level));\n        this.links.sort(this.layout.links(level - 1, level + 1));\n      }\n    }], [{\n      key: 'scrollY',\n      value: function scrollY(el, offset) {\n        d3.select(el).attr('transform', 'translate(0, ' + offset + ')');\n      }\n    }]);\n    return ListGraph;\n  })();\n\n  return ListGraph;\n\n})($,d3);"],"sourceRoot":"/source/"}