{"version":3,"sources":["listGraph.min.js"],"names":["ListGraph","$","d3","isObject","value","type","up","node","callback","parent","down","i","childRefs","length","upAndDown","babelHelpers","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","SCROLLBAR_CLASS","Scrollbars","baseSelection","visData","width","_this","this","selection","append","attr","each","data","index","select","parentNode","datum","scrollbar","el","x","y","height","classed","CLASSNAME","WIDTH","HEIGHT","SCROLLBAR_WIDTH","COLUMNS","ROWS","ICON_PATH","TRANSITION_SEMI_FAST","BAR_CLASS","Bar","barData","nodeData","setup","className","magnitude","that","global","column","padding","cell","row","contentHeight","contentWidth","selectAll","enter","id","BARS_CLASS","Bars","bars","NODES_CLASS","NODE_CLASS","CLONE_CLASS","Nodes","groups","nodes","rows","clone","on","mouseEnter","mouseLeave","name","text","hovering","update","start","end","transition","duration","LINKS_CLASS","LINK_CLASS","Links","layout","links","diagonal","exit","remove","get","_this2","svg","source","offsetY","offsetX","projection","COLUMN_CLASS","SCROLL_CONTAINER_CLASS","Columns","vis","scrollbarWidth","getBoundingClientRect","scrollHeight","scrollbarHeight","Math","max","linkSelections","incoming","selectByColumn","outgoing","scrollTop","undefined","heightScale","scale","linear","domain","range","invertedHeightScale","invert","TOPBAR_EL","TOPBAR_CLASS","TOPBAR_CONTROL_EL","TOPBAR_CONTROL_CLASS","Topbar","controls","style","toggleColumn","left","sortColumn","highlightBars","html","iconPath","toggleOptions","sorting","order","console","log","level","deHighlight","selectNodesColumn","ExtendableError","_Error","message","getPrototypeOf","Error","captureStackTrace","LayoutNotAvailable","_ExtendableError","baseEl","rootNodes","options","listGraph","baseElD3","baseElJq","columns","addClass","process","topbar","container","scrollPreparation","scrollbars","$levels","event","mousewheelColumn","scrollbarMouseDown","document","globalMouseUp","globalMouseMove","activeScrollbar","deltaY","clientY","min","scrollY","contentScrollTop","scroll","offsetLinks","preventDefault","selector","property","sortOrder","sort","offset"],"mappings":"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","file":"listGraph.min.js","sourcesContent":["/* Copyright Fritz Lekschas: D3 example visualization app using list-based graphs */\nvar ListGraph = (function ($,d3) { 'use strict';\n\n  var babelHelpers = {};\n\n  babelHelpers.classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  babelHelpers.createClass = (function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  })();\n\n  babelHelpers.inherits = function (subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n\n  babelHelpers.possibleConstructorReturn = function (self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  };\n\n  babelHelpers;\n  /**\n   * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // Avoid a V8 JIT bug in Chrome 19-20.\n    // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  var SCROLLBAR_CLASS = 'scrollbar';\n\n  var Scrollbars = function Scrollbars(baseSelection, visData, width) {\n    var _this = this;\n\n    babelHelpers.classCallCheck(this, Scrollbars);\n\n    this.visData = visData;\n    this.width = width;\n\n    // Add empty scrollbar element\n    this.selection = baseSelection.append('rect').attr('class', SCROLLBAR_CLASS).call(function (selection) {\n      selection.each(function (data, index) {\n        d3.select(this.parentNode).datum().scrollbar.el = this;\n      });\n    }).attr('x', function (data) {\n      return data.scrollbar.x;\n    }).attr('y', function (data) {\n      return data.scrollbar.y;\n    }).attr('width', function (data) {\n      return _this.width;\n    }).attr('height', function (data) {\n      return data.scrollbar.height;\n    }).attr('rx', this.width / 2).attr('ry', this.width / 2).classed('ready', true);\n  };\n\n  var CLASSNAME = 'list-graph';\n\n  var WIDTH = 800;\n  var HEIGHT = 200;\n  var SCROLLBAR_WIDTH = 6;\n  var COLUMNS = 5;\n  var ROWS = 5;\n\n  // An empty path is equal to inline SVG.\n  var ICON_PATH = '';\n\n  var TRANSITION_SEMI_FAST = 250;\n\n  function up(node, callback) {\n    while (node.parent) {\n      node = node.parent;\n      callback(node);\n    }\n  }\n\n  function down(node, callback) {\n    for (var i = node.childRefs.length; i--;) {\n      callback(node.childRefs[i]);\n      down(node.childRefs[i], callback);\n    }\n  }\n\n  function upAndDown(node, callback) {\n    up(node, callback);\n    down(node, callback);\n  }\n\n  var BAR_CLASS = 'bar';\n\n  var Bar = function Bar(selection, barData, nodeData, visData) {\n    babelHelpers.classCallCheck(this, Bar);\n\n    var that = this;\n\n    this.data = barData;\n    this.nodeData = nodeData;\n    this.visData = visData;\n\n    this.height = this.visData.global.row.contentHeight / (this.data.length * 2) - this.visData.global.cell.padding * 2;\n\n    this.selection = selection.selectAll(BAR_CLASS).data(this.data).enter().append('g').attr('class', function (data) {\n      return BAR_CLASS + ' ' + data.id;\n    });\n\n    // Local helper method to avoid code duplication.\n    // Calling a class method from within the consructor is possible but `this`\n    // is not available. Thus, we need to create local function and pass in\n    // `this` as `that`, which feels very hacky but it works.\n    function setup(selection, className, magnitude) {\n      selection.attr('x', that.nodeData.x + that.visData.global.column.padding + that.visData.global.cell.padding).attr('y', function (data, i) {\n        return that.visData.global.row.padding + that.visData.global.row.contentHeight / 2 + that.height * i + that.visData.global.cell.padding * (1 + 2 * i);\n      }).attr('width', function (data) {\n        return (magnitude ? data.value : 1) * (that.visData.global.column.contentWidth - that.visData.global.cell.padding * 2);\n      }).attr('height', that.height).classed(className, true);\n    }\n\n    this.selection.append('rect').call(setup, 'bar-border');\n\n    this.selection.append('rect').call(setup, 'bar-magnitude', true);\n  };\n\n  var BARS_CLASS = 'bars';\n\n  var Bars = function Bars(selection, visData) {\n    babelHelpers.classCallCheck(this, Bars);\n\n    var that = this;\n\n    this.visData = visData;\n\n    selection.append('g').attr('class', BARS_CLASS).call(function (selection) {\n      selection.each(function (datum) {\n        new Bar(d3.select(this), datum.data.bars, datum, that.visData);\n      });\n    });\n  };\n\n  var NODES_CLASS = 'nodes';\n  var NODE_CLASS = 'node';\n  var CLONE_CLASS = 'clone';\n\n  var Nodes = (function () {\n    function Nodes(baseSelection, visData) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Nodes);\n\n      var that = this;\n\n      this.visData = visData;\n\n      this.groups = baseSelection.append('g').attr('class', NODES_CLASS).call(function (selection) {\n        selection.each(function (data, index) {\n          d3.select(this.parentNode).datum().nodes = this;\n        });\n      });\n\n      this.nodes = this.groups.selectAll('.' + NODE_CLASS).data(function (data) {\n        return data.rows;\n      }).enter().append('g').classed(NODE_CLASS, true).classed(CLONE_CLASS, function (data) {\n        return data.clone;\n      }).attr('transform', function (data) {\n        return 'translate(0, ' + data.y + ')';\n      });\n\n      this.nodes.append('rect').attr('x', function (data) {\n        return data.x + _this.visData.global.column.padding;\n      }).attr('y', function (data) {\n        return _this.visData.global.row.padding;\n      }).attr('width', this.visData.global.column.contentWidth).attr('height', this.visData.global.row.contentHeight).attr('rx', 2).attr('ry', 2).classed('bg', true);\n\n      this.nodes.on('mouseenter', function (data) {\n        that.mouseEnter(this, data);\n      });\n\n      this.nodes.on('mouseleave', function (data) {\n        that.mouseLeave(this, data);\n      });\n\n      // Add node label\n      this.nodes.call(function (selection) {\n        selection.append('foreignObject').attr('x', function (data) {\n          return data.x + _this.visData.global.column.padding + _this.visData.global.cell.padding;\n        }).attr('y', function (data) {\n          return _this.visData.global.row.padding + _this.visData.global.cell.padding;\n        }).attr('width', _this.visData.global.column.contentWidth).attr('height', _this.visData.global.row.contentHeight / 2 - _this.visData.global.cell.padding * 2).attr('class', 'label-wrapper').append('xhtml:div').attr('class', 'label').attr('title', function (data) {\n          return data.data.name;\n        }).append('xhtml:span').text(function (data) {\n          return data.data.name;\n        });\n      });\n\n      this.bars = new Bars(this.nodes, this.visData);\n    }\n\n    babelHelpers.createClass(Nodes, [{\n      key: 'mouseEnter',\n      value: function mouseEnter(el, data) {\n        data.hovering = 1;\n        upAndDown(data, function (data) {\n          return data.hovering = 2;\n        });\n\n        d3.select(el).classed('hovering-directly', true);\n        this.nodes.classed('hovering-indirectly', function (data) {\n          return data.hovering === 2;\n        });\n      }\n    }, {\n      key: 'mouseLeave',\n      value: function mouseLeave(el, data) {\n        data.hovering = 0;\n        upAndDown(data, function (data) {\n          return data.hovering = 0;\n        });\n\n        d3.select(el).classed('hovering-directly', false);\n        this.nodes.classed('hovering-indirectly', false);\n      }\n    }, {\n      key: 'sort',\n      value: function sort(update) {\n        for (var i = update.length; i--;) {\n          var start = function start() {\n            d3.select(this).classed('sorting', true);\n          };\n          var end = function end() {\n            d3.select(this).classed('sorting', false);\n          };\n\n          this.nodes.data(update[i].rows, function (data) {\n            return data.id;\n          }).transition().duration(TRANSITION_SEMI_FAST).attr('transform', function (data) {\n            return 'translate(0, ' + data.y + ')';\n          }).each('start', start).each('end', end);\n        }\n      }\n    }]);\n    return Nodes;\n  })();\n\n  var LINKS_CLASS = 'links';\n  var LINK_CLASS = 'link';\n\n  var Links = (function () {\n    function Links(selection, visData, layout) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Links);\n\n      this.visData = visData;\n      this.layout = layout;\n\n      this.groups = selection.append('g').attr('class', LINKS_CLASS).call(function (selection) {\n        selection.each(function (data, index) {\n          d3.select(this.parentNode).datum().links = this;\n        });\n      });\n\n      this.links = this.groups.selectAll(LINK_CLASS).data(function (data, index) {\n        return _this.layout.links(index);\n      }).enter().append('path').attr('class', 'link').attr('d', this.diagonal);\n    }\n\n    babelHelpers.createClass(Links, [{\n      key: 'scroll',\n      value: function scroll(selection, data) {\n        selection.data(data).attr('d', this.diagonal).exit().remove();\n      }\n    }, {\n      key: 'sort',\n      value: function sort(update) {\n        var start = function start() {\n          d3.select(this).classed('sorting', true);\n        };\n        var end = function end() {\n          d3.select(this).classed('sorting', false);\n        };\n\n        this.links.data(update, function (data) {\n          return data.id;\n        }).transition().duration(TRANSITION_SEMI_FAST).attr('d', this.diagonal).each('start', start).each('end', end);\n      }\n    }, {\n      key: 'diagonal',\n      get: function get() {\n        var _this2 = this;\n\n        return d3.svg.diagonal().source(function (data) {\n          return {\n            x: data.source.node.y + data.source.offsetY + _this2.visData.global.row.height / 2,\n            y: data.source.node.x + data.source.offsetX + _this2.visData.global.column.contentWidth + _this2.visData.global.column.padding\n          };\n        }).target(function (data) {\n          return {\n            x: data.target.node.y + data.target.offsetY + _this2.visData.global.row.height / 2,\n            y: data.target.node.x + data.target.offsetX + _this2.visData.global.column.padding\n          };\n        }).projection(function (data) {\n          return [data.y, data.x];\n        });\n      }\n    }]);\n    return Links;\n  })();\n\n  var COLUMN_CLASS = 'column';\n  var SCROLL_CONTAINER_CLASS = 'scroll-container';\n\n  var Columns = (function () {\n    function Columns(selection, visData) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Columns);\n\n      this.visData = visData;\n      this.groups = selection.selectAll('g').data(this.visData.nodes).enter().append('g').attr('class', COLUMN_CLASS);\n\n      // We need to add an empty rectangle that fills up the whole column to ensure\n      // that the `g`'s size is at a maximum, otherwise scrolling will be halted\n      // when the cursor leaves an actually drawn element.\n      this.groups.append('rect').attr('class', SCROLL_CONTAINER_CLASS).attr('x', function (data) {\n        return data.x;\n      }).attr('y', function (data) {\n        return data.y;\n      }).attr('width', function (data) {\n        return _this.visData.global.column.width;\n      }).attr('height', function (data) {\n        return _this.visData.global.column.height;\n      });\n    }\n\n    babelHelpers.createClass(Columns, [{\n      key: 'scrollPreparation',\n      value: function scrollPreparation(vis, scrollbarWidth) {\n        var _this2 = this;\n\n        this.groups.each(function (data, index) {\n          var contentHeight = data.nodes.getBoundingClientRect().height + 2 * _this2.visData.global.row.padding;\n          var scrollHeight = contentHeight - _this2.visData.global.column.height;\n          var scrollbarHeight = scrollHeight > 0 ? Math.max(_this2.visData.global.column.height * _this2.visData.global.column.height / contentHeight, 10) : 0;\n\n          data.height = contentHeight;\n          data.linkSelections = {\n            incoming: index > 0 ? vis.selectByColumn(index - 1, '.link') : null,\n            outgoing: vis.selectByColumn(index, '.link')\n          };\n          data.scrollHeight = scrollHeight;\n          data.scrollTop = 0;\n          data.scrollbar = {\n            el: undefined,\n            x: data.x + _this2.visData.global.column.width - scrollbarWidth,\n            y: 0,\n            width: scrollbarWidth,\n            height: scrollbarHeight,\n            scrollHeight: _this2.visData.global.column.height - scrollbarHeight,\n            scrollTop: 0,\n            heightScale: d3.scale.linear().domain([0, scrollHeight]).range([0, _this2.visData.global.column.height - scrollbarHeight])\n          };\n          data.invertedHeightScale = data.scrollbar.heightScale.invert;\n        });\n      }\n    }, {\n      key: 'height',\n      get: function get() {\n        return this.visData.global.column.height;\n      }\n    }]);\n    return Columns;\n  })();\n\n  var TOPBAR_EL = 'div';\n  var TOPBAR_CLASS = 'topbar';\n\n  var TOPBAR_CONTROL_EL = 'ul';\n  var TOPBAR_CONTROL_CLASS = 'controls';\n\n  var Topbar = (function () {\n    function Topbar(vis, selection, visData) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Topbar);\n\n      var that = this;\n\n      this.vis = vis;\n      this.visData = visData;\n      // Add base topbar element\n      this.el = selection.append(TOPBAR_EL).attr('class', TOPBAR_CLASS);\n\n      this.controls = this.el.selectAll(TOPBAR_CONTROL_CLASS).data(visData.nodes).enter().append(TOPBAR_CONTROL_EL).classed(TOPBAR_CONTROL_CLASS, true).style('width', this.visData.global.column.width + 'px');\n\n      this.controls.append('li').attr('class', 'toggle').style('width', this.visData.global.column.padding + 'px').on('click', this.toggleColumn);\n\n      this.controls.append('li').attr('class', 'sort-precision ease-all').style({\n        'width': this.visData.global.column.contentWidth / 2 + 'px',\n        'left': this.visData.global.column.padding + 'px'\n      }).on('click', function (data, index) {\n        that.sortColumn(this, index, 'precision');\n      }).on('mouseenter', function () {\n        that.highlightBars(this.parentNode, 'precision');\n        d3.select(this).style('width', that.visData.global.column.contentWidth - 16 + 'px');\n      }).on('mouseleave', function () {\n        that.highlightBars(this.parentNode, 'precision', true);\n        d3.select(this).style('width', that.visData.global.column.contentWidth / 2 + 'px');\n      }).html('<div class=\"expandable-label\">' + '  <span class=\"letter abbr\">P</span>' + '  <span class=\"letter abbr\">r</span>' + '  <span class=\"letter\">e</span>' + '  <span class=\"letter abbr\">c</span>' + '  <span class=\"letter\">i</span>' + '  <span class=\"letter\">s</span>' + '  <span class=\"letter\">i</span>' + '  <span class=\"letter\">o</span>' + '  <span class=\"letter\">n</span>' + '</div>' + '<svg class=\"icon-unsort invisible-default visible\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#unsort\"></use>' + '</svg>' + '<svg class=\"icon-sort-asc invisible-default\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#sort-asc\"></use>' + '</svg>' + '<svg class=\"icon-sort-desc invisible-default\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#sort-desc\"></use>' + '</svg>');\n\n      this.controls.append('li').attr('class', 'sort-recall ease-all').style({\n        'width': this.visData.global.column.contentWidth / 2 + 'px',\n        'left': this.visData.global.column.contentWidth / 2 + this.visData.global.column.padding + 'px'\n      }).on('click', function (data, index) {\n        that.sortColumn(this, index, 'recall');\n      }).on('mouseenter', function () {\n        that.highlightBars(this.parentNode, 'recall');\n        d3.select(this).style({\n          'width': that.visData.global.column.contentWidth - 16 + 'px',\n          'left': that.visData.global.column.padding + 16 + 'px'\n        });\n      }).on('mouseleave', function () {\n        that.highlightBars(this.parentNode, 'recall', true);\n        d3.select(this).style({\n          'width': that.visData.global.column.contentWidth / 2 + 'px',\n          'left': that.visData.global.column.contentWidth / 2 + that.visData.global.column.padding + 'px'\n        });\n      }).html('<div class=\"expandable-label\">' + '  <span class=\"letter abbr\">R</span>' + '  <span class=\"letter\">e</span>' + '  <span class=\"letter abbr\">c</span>' + '  <span class=\"letter\">a</span>' + '  <span class=\"letter abbr\">l</span>' + '  <span class=\"letter\">l</span>' + '</div>' + '<svg class=\"icon-unsort invisible-default visible\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#unsort\"></use>' + '</svg>' + '<svg class=\"icon-sort-asc invisible-default\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#sort-asc\"></use>' + '</svg>' + '<svg class=\"icon-sort-desc invisible-default\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#sort-desc\"></use>' + '</svg>');\n\n      this.controls.append('li').attr('class', 'options').style('width', this.visData.global.column.padding + 'px').on('click', this.toggleOptions).html('<svg class=\"icon-gear\">' + '  <use xlink:href=\"' + this.vis.iconPath + '#gear\"></use>' + '</svg>');\n\n      /**\n       * Stores current sorting, e.g. type, order and a reference to the element.\n       *\n       * @type  {Object}\n       */\n      this.sorting = {};\n      this.controls.each(function (data, index) {\n        /*\n         * Order:\n         * 0 = unsorted\n         * 1 = asc\n         * -1 = desc\n         */\n        _this.sorting[index] = {\n          type: undefined,\n          order: 0,\n          el: undefined\n        };\n      });\n    }\n\n    babelHelpers.createClass(Topbar, [{\n      key: 'toggleColumn',\n      value: function toggleColumn() {\n        console.log('Toggle column');\n      }\n    }, {\n      key: 'selectNodesColumn',\n      value: function selectNodesColumn(el) {\n        return this.vis.selectByColumn(d3.select(el).datum().level, '.node');\n      }\n    }, {\n      key: 'highlightBars',\n      value: function highlightBars(el, type, deHighlight) {\n        var nodes = this.selectNodesColumn(el);\n        nodes.selectAll('.bar.' + type).classed('highlight', !deHighlight);\n      }\n    }, {\n      key: 'sortColumn',\n      value: function sortColumn(el, index, type) {\n        if (this.sorting[index].el) {\n          if (this.sorting[index].type !== type) {\n            this.sorting[index].el.select('.icon-sort-desc').classed('visible', false);\n            this.sorting[index].el.select('.icon-sort-asc').classed('visible', false);\n            this.sorting[index].el.select('.icon-unsort').classed('visible', true);\n          }\n        }\n\n        this.sorting[index].el = d3.select(el);\n        this.sorting[index].type = type;\n\n        // -1 = desc, 1 = asc\n        if (this.sorting[index].order === -1) {\n          this.sorting[index].order = 1;\n          this.sorting[index].el.select('.icon-sort-desc').classed('visible', false);\n          this.sorting[index].el.select('.icon-sort-asc').classed('visible', true);\n        } else {\n          this.sorting[index].order = -1;\n          this.sorting[index].el.select('.icon-sort-asc').classed('visible', false);\n          this.sorting[index].el.select('.icon-sort-desc').classed('visible', true);\n        }\n\n        this.sorting[index].el.select('.icon-unsort').classed('visible', false);\n\n        this.vis.sortColumn(index, type, this.sorting[index].order);\n      }\n    }, {\n      key: 'toggleOptions',\n      value: function toggleOptions() {\n        console.log('Toggle options');\n      }\n    }]);\n    return Topbar;\n  })();\n\n  var ExtendableError = (function (_Error) {\n    babelHelpers.inherits(ExtendableError, _Error);\n\n    function ExtendableError(message) {\n      babelHelpers.classCallCheck(this, ExtendableError);\n\n      var _this = babelHelpers.possibleConstructorReturn(this, Object.getPrototypeOf(ExtendableError).call(this, message));\n\n      _this.name = _this.constructor.name;\n      _this.message = message;\n      Error.captureStackTrace(_this, _this.constructor.name);\n      return _this;\n    }\n\n    return ExtendableError;\n  })(Error);\n\n  var LayoutNotAvailable = (function (_ExtendableError) {\n    babelHelpers.inherits(LayoutNotAvailable, _ExtendableError);\n\n    function LayoutNotAvailable(message) {\n      babelHelpers.classCallCheck(this, LayoutNotAvailable);\n      return babelHelpers.possibleConstructorReturn(this, Object.getPrototypeOf(LayoutNotAvailable).call(this, message || 'D3.layout.listGraph.js has not been loaded yet.'));\n    }\n\n    return LayoutNotAvailable;\n  })(ExtendableError);\n\n  var ListGraph = (function () {\n    function ListGraph(baseEl, data, rootNodes, options) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, ListGraph);\n\n      if (!d3.layout.listGraph) {\n        throw new LayoutNotAvailable('D3 list graph layout (d3.layout.listGraph.js) needs to be loaded ' + 'before creating the visualization.');\n      }\n\n      if (!isObject(options)) {\n        options = {};\n      }\n\n      var that = this;\n\n      this.baseEl = baseEl;\n      this.baseElD3 = d3.select(baseEl);\n      this.baseElJq = $(baseEl);\n\n      this.rootNodes = rootNodes;\n\n      this.width = options.width || WIDTH;\n      this.height = options.height || HEIGHT;\n      this.scrollbarWidth = options.scrollbarWidth || SCROLLBAR_WIDTH;\n      this.columns = options.columns || COLUMNS;\n      this.rows = options.rows || ROWS;\n      this.iconPath = options.iconPath || ICON_PATH;\n\n      this.baseElJq.width(this.width).addClass(CLASSNAME);\n\n      this.layout = new d3.layout.listGraph([this.width, this.height], [this.columns, this.rows]);\n\n      this.data = data;\n      this.visData = this.layout.process(this.data, this.rootNodes);\n\n      this.topbar = new Topbar(this, this.baseElD3, this.visData);\n\n      this.svg = d3.select('.list-graph').append('svg').attr('width', this.width).attr('height', this.height);\n\n      this.container = this.svg.append('g');\n\n      this.columns = new Columns(this.container, this.visData);\n\n      this.links = new Links(this.columns.groups, this.visData, this.layout);\n      this.nodes = new Nodes(this.columns.groups, this.visData);\n      this.columns.scrollPreparation(this, this.scrollbarWidth);\n      this.scrollbars = new Scrollbars(this.columns.groups, this.visData, this.scrollbarWidth);\n\n      // jQuery's mousewheel plugin is much nicer than D3's half-baked zoom event.\n      this.$levels = $(this.columns.groups[0]).on('mousewheel', function (event) {\n        that.mousewheelColumn(this, event);\n      });\n\n      // Normally we would reference a named methods but since we need to aceess\n      // the class' `this` property instead of the DOM element we need to use an\n      // arrow function.\n      this.scrollbars.selection.on('mousedown', function () {\n        that.scrollbarMouseDown(this, d3.event);\n      });\n\n      // We need to listen to `mouseup` and `mousemove` globally otherwise scrolling\n      // will only work as long as the cursor hovers the actual scrollbar, which is\n      // super annoying.\n      d3.select(document).on('mouseup', function () {\n        _this.globalMouseUp(d3.event);\n      }).on('mousemove', function () {\n        _this.globalMouseMove(d3.event);\n      });\n    }\n\n    babelHelpers.createClass(ListGraph, [{\n      key: 'globalMouseUp',\n      value: function globalMouseUp(event) {\n        if (this.activeScrollbar) {\n          var data = this.activeScrollbar.datum();\n          var deltaY = data.scrollbar.clientY - event.clientY;\n\n          // Save final vertical position\n          // Scrollbar\n          data.scrollbar.scrollTop = Math.min(Math.max(data.scrollbar.scrollTop - deltaY, 0), data.scrollbar.scrollHeight);\n\n          // Content\n          data.scrollTop = Math.max(Math.min(data.scrollTop + data.invertedHeightScale(deltaY), 0), -data.scrollHeight);\n\n          this.activeScrollbar.classed('active', false);\n\n          this.activeScrollbar = undefined;\n        }\n      }\n    }, {\n      key: 'globalMouseMove',\n      value: function globalMouseMove(event) {\n        if (this.activeScrollbar) {\n          var data = this.activeScrollbar.datum();\n          var deltaY = data.scrollbar.clientY - event.clientY;\n\n          // Scroll scrollbar\n          ListGraph.scrollY(this.activeScrollbar.node(), Math.min(Math.max(data.scrollbar.scrollTop - deltaY, 0), data.scrollbar.scrollHeight));\n\n          // Scroll content\n          var contentScrollTop = Math.max(Math.min(data.scrollTop + data.invertedHeightScale(deltaY), 0), -data.scrollHeight);\n\n          ListGraph.scrollY(data.nodes, contentScrollTop);\n\n          // Scroll Links\n          this.links.scroll(data.linkSelections.outgoing, this.layout.offsetLinks(data.level, contentScrollTop, 'source'));\n\n          this.links.scroll(data.linkSelections.incoming, this.layout.offsetLinks(data.level - 1, contentScrollTop, 'target'));\n        }\n      }\n    }, {\n      key: 'scrollbarMouseDown',\n      value: function scrollbarMouseDown(el, event) {\n        this.activeScrollbar = d3.select(el).classed('active', true);\n        this.activeScrollbar.datum().scrollbar.clientY = event.clientY;\n      }\n    }, {\n      key: 'mousewheelColumn',\n      value: function mousewheelColumn(el, event) {\n        event.preventDefault();\n\n        var data = d3.select(el).datum();\n\n        if (data.scrollHeight > 0) {\n          // Scroll nodes\n          data.scrollTop = Math.max(Math.min(data.scrollTop + event.deltaY, 0), -data.scrollHeight);\n\n          ListGraph.scrollY(data.nodes, data.scrollTop);\n\n          // Scroll scrollbar\n          data.scrollbar.scrollTop = data.scrollbar.heightScale(-data.scrollTop);\n\n          ListGraph.scrollY(data.scrollbar.el, data.scrollbar.scrollTop);\n\n          // Scroll Links\n          this.links.scroll(data.linkSelections.outgoing, this.layout.offsetLinks(data.level, data.scrollTop, 'source'));\n\n          this.links.scroll(data.linkSelections.incoming, this.layout.offsetLinks(data.level - 1, data.scrollTop, 'target'));\n        }\n      }\n    }, {\n      key: 'selectByColumn',\n      value: function selectByColumn(index, selector) {\n        return d3.select(this.columns.groups[0][index]).selectAll(selector);\n      }\n    }, {\n      key: 'sortColumn',\n      value: function sortColumn(level, property, sortOrder) {\n        this.nodes.sort(this.layout.sort(level, property, sortOrder).nodes(level));\n        this.links.sort(this.layout.links(level - 1, level + 1));\n      }\n    }], [{\n      key: 'scrollY',\n      value: function scrollY(el, offset) {\n        d3.select(el).attr('transform', 'translate(0, ' + offset + ')');\n      }\n    }]);\n    return ListGraph;\n  })();\n\n  return ListGraph;\n\n})($,d3);"],"sourceRoot":"/source/"}