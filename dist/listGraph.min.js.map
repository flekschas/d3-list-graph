{"version":3,"sources":["listGraph.min.js"],"names":["ListGraph","$","d3","isObject","value","type","up","node","callback","parent","down","i","childRefs","length","upAndDown","babelHelpers","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","SCROLLBAR_CLASS","Scrollbars","baseSelection","visData","width","_this","this","selection","append","attr","each","data","index","select","parentNode","datum","scrollbar","el","x","y","height","classed","CLASSNAME","WIDTH","HEIGHT","SCROLLBAR_WIDTH","COLUMNS","ROWS","TRANSITION_SEMI_FAST","BAR_CLASS","Bar","barData","nodeData","setup","className","magnitude","that","global","column","padding","cell","row","contentHeight","contentWidth","bars","selectAll","enter","id","BARS_CLASS","Bars","NODES_CLASS","NODE_CLASS","CLONE_CLASS","Nodes","groups","nodes","rows","clone","on","mouseEnter","mouseLeave","name","text","hovering","update","start","end","transition","duration","LINKS_CLASS","LINK_CLASS","Links","layout","links","diagonal","exit","remove","get","_this2","svg","source","offsetY","offsetX","projection","COLUMN_CLASS","SCROLL_CONTAINER_CLASS","Columns","vis","scrollbarWidth","getBoundingClientRect","scrollHeight","scrollbarHeight","Math","max","linkSelections","incoming","selectByColumn","outgoing","scrollTop","undefined","heightScale","scale","linear","domain","range","invertedHeightScale","invert","TOPBAR_EL","TOPBAR_CLASS","TOPBAR_CONTROL_EL","TOPBAR_CONTROL_CLASS","Topbar","controls","style","toggleColumn","left","sortColumn","highlightBars","html","toggleOptions","sorting","order","console","log","level","deHighlight","selectNodesColumn","ExtendableError","_Error","message","getPrototypeOf","Error","captureStackTrace","LayoutNotAvailable","_ExtendableError","baseEl","rootNodes","options","listGraph","baseElD3","baseElJq","columns","addClass","process","topbar","container","scrollPreparation","scrollbars","$levels","event","mousewheelColumn","scrollbarMouseDown","document","globalMouseUp","globalMouseMove","activeScrollbar","deltaY","clientY","min","scrollY","contentScrollTop","scroll","offsetLinks","preventDefault","selector","property","sortOrder","sort","offset"],"mappings":"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","file":"listGraph.min.js","sourcesContent":["/* Copyright Fritz Lekschas: D3 example visualization app using list-based graphs */\nvar ListGraph = (function ($,d3) { 'use strict';\n\n  var babelHelpers = {};\n\n  babelHelpers.classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  babelHelpers.createClass = (function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  })();\n\n  babelHelpers.inherits = function (subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n\n  babelHelpers.possibleConstructorReturn = function (self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  };\n\n  babelHelpers;\n  /**\n   * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // Avoid a V8 JIT bug in Chrome 19-20.\n    // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  var SCROLLBAR_CLASS = 'scrollbar';\n\n  var Scrollbars = function Scrollbars(baseSelection, visData, width) {\n    var _this = this;\n\n    babelHelpers.classCallCheck(this, Scrollbars);\n\n    this.visData = visData;\n    this.width = width;\n\n    // Add empty scrollbar element\n    this.selection = baseSelection.append('rect').attr('class', SCROLLBAR_CLASS).call(function (selection) {\n      selection.each(function (data, index) {\n        d3.select(this.parentNode).datum().scrollbar.el = this;\n      });\n    }).attr('x', function (data) {\n      return data.scrollbar.x;\n    }).attr('y', function (data) {\n      return data.scrollbar.y;\n    }).attr('width', function (data) {\n      return _this.width;\n    }).attr('height', function (data) {\n      return data.scrollbar.height;\n    }).attr('rx', this.width / 2).attr('ry', this.width / 2).classed('ready', true);\n  };\n\n  var CLASSNAME = 'list-graph';\n\n  var WIDTH = 800;\n  var HEIGHT = 200;\n  var SCROLLBAR_WIDTH = 6;\n  var COLUMNS = 5;\n  var ROWS = 5;\n\n  var TRANSITION_SEMI_FAST = 250;\n\n  function up(node, callback) {\n    while (node.parent) {\n      node = node.parent;\n      callback(node);\n    }\n  }\n\n  function down(node, callback) {\n    for (var i = node.childRefs.length; i--;) {\n      callback(node.childRefs[i]);\n      down(node.childRefs[i], callback);\n    }\n  }\n\n  function upAndDown(node, callback) {\n    up(node, callback);\n    down(node, callback);\n  }\n\n  var BAR_CLASS = 'bar';\n\n  var Bar = function Bar(selection, barData, nodeData, visData) {\n    babelHelpers.classCallCheck(this, Bar);\n\n    var that = this;\n\n    this.data = barData;\n    this.nodeData = nodeData;\n    this.visData = visData;\n\n    this.height = this.visData.global.row.contentHeight / (this.nodeData.data.bars.length * 2) - this.visData.global.cell.padding * 2;\n\n    this.selection = selection.selectAll(BAR_CLASS).data(this.data).enter().append('g').attr('class', function (data) {\n      return BAR_CLASS + ' ' + data.id;\n    });\n\n    // Local helper method to avoid code duplication.\n    // Calling a class method from within the consructor is possible but `this`\n    // is not available. Thus, we need to create local function and pass in\n    // `this` as `that`, which feels very hacky but it works.\n    function setup(selection, className, magnitude) {\n      selection.attr('x', that.nodeData.x + that.visData.global.column.padding + that.visData.global.cell.padding).attr('y', function (data, i) {\n        return that.visData.global.row.padding + that.visData.global.row.contentHeight / 2 + that.height * i + that.visData.global.cell.padding * (1 + 2 * i);\n      }).attr('width', function (data) {\n        return (magnitude ? data.value : 1) * (that.visData.global.column.contentWidth - that.visData.global.cell.padding * 2);\n      }).attr('height', that.height).classed(className, true);\n    }\n\n    this.selection.append('rect').call(setup, 'bar-border');\n\n    this.selection.append('rect').call(setup, 'bar-magnitude', true);\n  };\n\n  var BARS_CLASS = 'bars';\n\n  var Bars = function Bars(selection, visData) {\n    babelHelpers.classCallCheck(this, Bars);\n\n    var that = this;\n\n    this.visData = visData;\n\n    selection.append('g').attr('class', BARS_CLASS).call(function (selection) {\n      selection.each(function (datum) {\n        new Bar(d3.select(this), datum.data.bars, datum, that.visData);\n      });\n    });\n  };\n\n  var NODES_CLASS = 'nodes';\n  var NODE_CLASS = 'node';\n  var CLONE_CLASS = 'clone';\n\n  var Nodes = (function () {\n    function Nodes(baseSelection, visData) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Nodes);\n\n      var that = this;\n\n      this.visData = visData;\n\n      this.groups = baseSelection.append('g').attr('class', NODES_CLASS).call(function (selection) {\n        selection.each(function (data, index) {\n          d3.select(this.parentNode).datum().nodes = this;\n        });\n      });\n\n      this.nodes = this.groups.selectAll('.' + NODE_CLASS).data(function (data) {\n        return data.rows;\n      }).enter().append('g').classed(NODE_CLASS, true).classed(CLONE_CLASS, function (data) {\n        return data.clone;\n      }).attr('transform', function (data) {\n        return 'translate(0, ' + data.y + ')';\n      });\n\n      this.nodes.append('rect').attr('x', function (data) {\n        return data.x + _this.visData.global.column.padding;\n      }).attr('y', function (data) {\n        return _this.visData.global.row.padding;\n      }).attr('width', this.visData.global.column.contentWidth).attr('height', this.visData.global.row.contentHeight).attr('rx', 2).attr('ry', 2).classed('bg', true);\n\n      this.nodes.on('mouseenter', function (data) {\n        that.mouseEnter(this, data);\n      });\n\n      this.nodes.on('mouseleave', function (data) {\n        that.mouseLeave(this, data);\n      });\n\n      // Add node label\n      this.nodes.call(function (selection) {\n        selection.append('foreignObject').attr('x', function (data) {\n          return data.x + _this.visData.global.column.padding + _this.visData.global.cell.padding;\n        }).attr('y', function (data) {\n          return _this.visData.global.row.padding + _this.visData.global.cell.padding;\n        }).attr('width', _this.visData.global.column.contentWidth).attr('height', _this.visData.global.row.contentHeight / 2 - _this.visData.global.cell.padding * 2).attr('class', 'label-wrapper').append('xhtml:div').attr('class', 'label').attr('title', function (data) {\n          return data.data.name;\n        }).append('xhtml:span').text(function (data) {\n          return data.data.name;\n        });\n      });\n\n      this.bars = new Bars(this.nodes, this.visData);\n    }\n\n    babelHelpers.createClass(Nodes, [{\n      key: 'mouseEnter',\n      value: function mouseEnter(el, data) {\n        data.hovering = 1;\n        upAndDown(data, function (data) {\n          return data.hovering = 2;\n        });\n\n        d3.select(el).classed('hovering-directly', true);\n        this.nodes.classed('hovering-indirectly', function (data) {\n          return data.hovering === 2;\n        });\n      }\n    }, {\n      key: 'mouseLeave',\n      value: function mouseLeave(el, data) {\n        data.hovering = 0;\n        upAndDown(data, function (data) {\n          return data.hovering = 0;\n        });\n\n        d3.select(el).classed('hovering-directly', false);\n        this.nodes.classed('hovering-indirectly', false);\n      }\n    }, {\n      key: 'sort',\n      value: function sort(update) {\n        for (var i = update.length; i--;) {\n          var start = function start() {\n            d3.select(this).classed('sorting', true);\n          };\n          var end = function end() {\n            d3.select(this).classed('sorting', false);\n          };\n\n          this.nodes.data(update[i].rows, function (data) {\n            return data.id;\n          }).transition().duration(TRANSITION_SEMI_FAST).attr('transform', function (data) {\n            return 'translate(0, ' + data.y + ')';\n          }).each('start', start).each('end', end);\n        }\n      }\n    }]);\n    return Nodes;\n  })();\n\n  var LINKS_CLASS = 'links';\n  var LINK_CLASS = 'link';\n\n  var Links = (function () {\n    function Links(selection, visData, layout) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Links);\n\n      this.visData = visData;\n      this.layout = layout;\n\n      this.groups = selection.append('g').attr('class', LINKS_CLASS).call(function (selection) {\n        selection.each(function (data, index) {\n          d3.select(this.parentNode).datum().links = this;\n        });\n      });\n\n      this.links = this.groups.selectAll(LINK_CLASS).data(function (data, index) {\n        return _this.layout.links(index);\n      }).enter().append('path').attr('class', 'link').attr('d', this.diagonal);\n    }\n\n    babelHelpers.createClass(Links, [{\n      key: 'scroll',\n      value: function scroll(selection, data) {\n        selection.data(data).attr('d', this.diagonal).exit().remove();\n      }\n    }, {\n      key: 'sort',\n      value: function sort(update) {\n        var start = function start() {\n          d3.select(this).classed('sorting', true);\n        };\n        var end = function end() {\n          d3.select(this).classed('sorting', false);\n        };\n\n        this.links.data(update, function (data) {\n          return data.id;\n        }).transition().duration(TRANSITION_SEMI_FAST).attr('d', this.diagonal).each('start', start).each('end', end);\n      }\n    }, {\n      key: 'diagonal',\n      get: function get() {\n        var _this2 = this;\n\n        return d3.svg.diagonal().source(function (data) {\n          return {\n            x: data.source.node.y + data.source.offsetY + _this2.visData.global.row.height / 2,\n            y: data.source.node.x + data.source.offsetX + _this2.visData.global.column.contentWidth + _this2.visData.global.column.padding\n          };\n        }).target(function (data) {\n          return {\n            x: data.target.node.y + data.target.offsetY + _this2.visData.global.row.height / 2,\n            y: data.target.node.x + data.target.offsetX + _this2.visData.global.column.padding\n          };\n        }).projection(function (data) {\n          return [data.y, data.x];\n        });\n      }\n    }]);\n    return Links;\n  })();\n\n  var COLUMN_CLASS = 'column';\n  var SCROLL_CONTAINER_CLASS = 'scroll-container';\n\n  var Columns = (function () {\n    function Columns(selection, visData) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Columns);\n\n      this.visData = visData;\n      this.groups = selection.selectAll('g').data(this.visData.nodes).enter().append('g').attr('class', COLUMN_CLASS);\n\n      // We need to add an empty rectangle that fills up the whole column to ensure\n      // that the `g`'s size is at a maximum, otherwise scrolling will be halted\n      // when the cursor leaves an actually drawn element.\n      this.groups.append('rect').attr('class', SCROLL_CONTAINER_CLASS).attr('x', function (data) {\n        return data.x;\n      }).attr('y', function (data) {\n        return data.y;\n      }).attr('width', function (data) {\n        return _this.visData.global.column.width;\n      }).attr('height', function (data) {\n        return _this.visData.global.column.height;\n      });\n    }\n\n    babelHelpers.createClass(Columns, [{\n      key: 'scrollPreparation',\n      value: function scrollPreparation(vis, scrollbarWidth) {\n        var _this2 = this;\n\n        this.groups.each(function (data, index) {\n          var contentHeight = data.nodes.getBoundingClientRect().height + 2 * _this2.visData.global.row.padding;\n          var scrollHeight = contentHeight - _this2.visData.global.column.height;\n          var scrollbarHeight = scrollHeight > 0 ? Math.max(_this2.visData.global.column.height * _this2.visData.global.column.height / contentHeight, 10) : 0;\n\n          data.height = contentHeight;\n          data.linkSelections = {\n            incoming: index > 0 ? vis.selectByColumn(index - 1, '.link') : null,\n            outgoing: vis.selectByColumn(index, '.link')\n          };\n          data.scrollHeight = scrollHeight;\n          data.scrollTop = 0;\n          data.scrollbar = {\n            el: undefined,\n            x: data.x + _this2.visData.global.column.width - scrollbarWidth,\n            y: 0,\n            width: scrollbarWidth,\n            height: scrollbarHeight,\n            scrollHeight: _this2.visData.global.column.height - scrollbarHeight,\n            scrollTop: 0,\n            heightScale: d3.scale.linear().domain([0, scrollHeight]).range([0, _this2.visData.global.column.height - scrollbarHeight])\n          };\n          data.invertedHeightScale = data.scrollbar.heightScale.invert;\n        });\n      }\n    }, {\n      key: 'height',\n      get: function get() {\n        return this.visData.global.column.height;\n      }\n    }]);\n    return Columns;\n  })();\n\n  var TOPBAR_EL = 'div';\n  var TOPBAR_CLASS = 'topbar';\n\n  var TOPBAR_CONTROL_EL = 'ul';\n  var TOPBAR_CONTROL_CLASS = 'controls';\n\n  var Topbar = (function () {\n    function Topbar(vis, selection, visData) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Topbar);\n\n      var that = this;\n\n      this.vis = vis;\n      this.visData = visData;\n      // Add base topbar element\n      this.el = selection.append(TOPBAR_EL).attr('class', TOPBAR_CLASS);\n\n      this.controls = this.el.selectAll(TOPBAR_CONTROL_CLASS).data(visData.nodes).enter().append(TOPBAR_CONTROL_EL).classed(TOPBAR_CONTROL_CLASS, true).style('width', this.visData.global.column.width + 'px');\n\n      this.controls.append('li').attr('class', 'toggle').style('width', this.visData.global.column.padding + 'px').on('click', this.toggleColumn);\n\n      this.controls.append('li').attr('class', 'sort-precision ease-all').style({\n        'width': this.visData.global.column.contentWidth / 2 + 'px',\n        'left': this.visData.global.column.padding + 'px'\n      }).on('click', function (data, index) {\n        that.sortColumn(this, index, 'precision');\n      }).on('mouseenter', function () {\n        that.highlightBars(this.parentNode, 'precision');\n        d3.select(this).style('width', that.visData.global.column.contentWidth - 16 + 'px');\n      }).on('mouseleave', function () {\n        that.highlightBars(this.parentNode, 'precision', true);\n        d3.select(this).style('width', that.visData.global.column.contentWidth / 2 + 'px');\n      }).html('<div class=\"expandable-label\">' + '  <span class=\"letter abbr\">P</span>' + '  <span class=\"letter abbr\">r</span>' + '  <span class=\"letter\">e</span>' + '  <span class=\"letter abbr\">c</span>' + '  <span class=\"letter\">i</span>' + '  <span class=\"letter\">s</span>' + '  <span class=\"letter\">i</span>' + '  <span class=\"letter\">o</span>' + '  <span class=\"letter\">n</span>' + '</div>' + '<svg class=\"icon-unsort invisible-default visible\">' + '  <use xlink:href=\"/dist/icons.svg#unsort\"></use>' + '</svg>' + '<svg class=\"icon-sort-asc invisible-default\">' + '  <use xlink:href=\"/dist/icons.svg#sort-asc\"></use>' + '</svg>' + '<svg class=\"icon-sort-desc invisible-default\">' + '  <use xlink:href=\"/dist/icons.svg#sort-desc\"></use>' + '</svg>');\n\n      this.controls.append('li').attr('class', 'sort-recall ease-all').style({\n        'width': this.visData.global.column.contentWidth / 2 + 'px',\n        'left': this.visData.global.column.contentWidth / 2 + this.visData.global.column.padding + 'px'\n      }).on('click', function (data, index) {\n        that.sortColumn(this, index, 'recall');\n      }).on('mouseenter', function () {\n        that.highlightBars(this.parentNode, 'recall');\n        d3.select(this).style({\n          'width': that.visData.global.column.contentWidth - 16 + 'px',\n          'left': that.visData.global.column.padding + 16 + 'px'\n        });\n      }).on('mouseleave', function () {\n        that.highlightBars(this.parentNode, 'recall', true);\n        d3.select(this).style({\n          'width': that.visData.global.column.contentWidth / 2 + 'px',\n          'left': that.visData.global.column.contentWidth / 2 + that.visData.global.column.padding + 'px'\n        });\n      }).html('<div class=\"expandable-label\">' + '  <span class=\"letter abbr\">R</span>' + '  <span class=\"letter\">e</span>' + '  <span class=\"letter abbr\">c</span>' + '  <span class=\"letter\">a</span>' + '  <span class=\"letter abbr\">l</span>' + '  <span class=\"letter\">l</span>' + '</div>' + '<svg class=\"icon-unsort invisible-default visible\">' + '  <use xlink:href=\"/dist/icons.svg#unsort\"></use>' + '</svg>' + '<svg class=\"icon-sort-asc invisible-default\">' + '  <use xlink:href=\"/dist/icons.svg#sort-asc\"></use>' + '</svg>' + '<svg class=\"icon-sort-desc invisible-default\">' + '  <use xlink:href=\"/dist/icons.svg#sort-desc\"></use>' + '</svg>');\n\n      this.controls.append('li').attr('class', 'options').style('width', this.visData.global.column.padding + 'px').on('click', this.toggleOptions).html('<svg class=\"icon-gear\">' + '  <use xlink:href=\"/dist/icons.svg#gear\"></use>' + '</svg>');\n\n      /**\n       * Stores current sorting, e.g. type, order and a reference to the element.\n       *\n       * @type  {Object}\n       */\n      this.sorting = {};\n      this.controls.each(function (data, index) {\n        /*\n         * Order:\n         * 0 = unsorted\n         * 1 = asc\n         * -1 = desc\n         */\n        _this.sorting[index] = {\n          type: undefined,\n          order: 0,\n          el: undefined\n        };\n      });\n    }\n\n    babelHelpers.createClass(Topbar, [{\n      key: 'toggleColumn',\n      value: function toggleColumn() {\n        console.log('Toggle column');\n      }\n    }, {\n      key: 'selectNodesColumn',\n      value: function selectNodesColumn(el) {\n        return this.vis.selectByColumn(d3.select(el).datum().level, '.node');\n      }\n    }, {\n      key: 'highlightBars',\n      value: function highlightBars(el, type, deHighlight) {\n        var nodes = this.selectNodesColumn(el);\n        nodes.selectAll('.bar.' + type).classed('highlight', !deHighlight);\n      }\n    }, {\n      key: 'sortColumn',\n      value: function sortColumn(el, index, type) {\n        if (this.sorting[index].el) {\n          if (this.sorting[index].type !== type) {\n            this.sorting[index].el.select('.icon-sort-desc').classed('visible', false);\n            this.sorting[index].el.select('.icon-sort-asc').classed('visible', false);\n            this.sorting[index].el.select('.icon-unsort').classed('visible', true);\n          }\n        }\n\n        this.sorting[index].el = d3.select(el);\n        this.sorting[index].type = type;\n\n        // -1 = desc, 1 = asc\n        if (this.sorting[index].order === -1) {\n          this.sorting[index].order = 1;\n          this.sorting[index].el.select('.icon-sort-desc').classed('visible', false);\n          this.sorting[index].el.select('.icon-sort-asc').classed('visible', true);\n        } else {\n          this.sorting[index].order = -1;\n          this.sorting[index].el.select('.icon-sort-asc').classed('visible', false);\n          this.sorting[index].el.select('.icon-sort-desc').classed('visible', true);\n        }\n\n        this.sorting[index].el.select('.icon-unsort').classed('visible', false);\n\n        this.vis.sortColumn(index, type, this.sorting[index].order);\n      }\n    }, {\n      key: 'toggleOptions',\n      value: function toggleOptions() {\n        console.log('Toggle options');\n      }\n    }]);\n    return Topbar;\n  })();\n\n  var ExtendableError = (function (_Error) {\n    babelHelpers.inherits(ExtendableError, _Error);\n\n    function ExtendableError(message) {\n      babelHelpers.classCallCheck(this, ExtendableError);\n\n      var _this = babelHelpers.possibleConstructorReturn(this, Object.getPrototypeOf(ExtendableError).call(this, message));\n\n      _this.name = _this.constructor.name;\n      _this.message = message;\n      Error.captureStackTrace(_this, _this.constructor.name);\n      return _this;\n    }\n\n    return ExtendableError;\n  })(Error);\n\n  var LayoutNotAvailable = (function (_ExtendableError) {\n    babelHelpers.inherits(LayoutNotAvailable, _ExtendableError);\n\n    function LayoutNotAvailable(message) {\n      babelHelpers.classCallCheck(this, LayoutNotAvailable);\n      return babelHelpers.possibleConstructorReturn(this, Object.getPrototypeOf(LayoutNotAvailable).call(this, message || 'D3.layout.listGraph.js has not been loaded yet.'));\n    }\n\n    return LayoutNotAvailable;\n  })(ExtendableError);\n\n  var ListGraph = (function () {\n    function ListGraph(baseEl, data, rootNodes, options) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, ListGraph);\n\n      if (!d3.layout.listGraph) {\n        throw new LayoutNotAvailable('D3 list graph layout (d3.layout.listGraph.js) needs to be loaded ' + 'before creating the visualization.');\n      }\n\n      if (!isObject(options)) {\n        options = {};\n      }\n\n      var that = this;\n\n      this.baseEl = baseEl;\n      this.baseElD3 = d3.select(baseEl);\n      this.baseElJq = $(baseEl);\n\n      this.rootNodes = rootNodes;\n\n      this.width = options.width || WIDTH;\n      this.height = options.height || HEIGHT;\n      this.scrollbarWidth = options.scrollbarWidth || SCROLLBAR_WIDTH;\n      this.columns = options.columns || COLUMNS;\n      this.rows = options.rows || ROWS;\n\n      this.baseElJq.width(this.width).addClass(CLASSNAME);\n\n      this.layout = new d3.layout.listGraph([this.width, this.height], [this.columns, this.rows]);\n\n      this.data = data;\n      this.visData = this.layout.process(this.data, this.rootNodes);\n\n      this.topbar = new Topbar(this, this.baseElD3, this.visData);\n\n      this.svg = d3.select('.list-graph').append('svg').attr('width', this.width).attr('height', this.height);\n\n      this.container = this.svg.append('g');\n\n      this.columns = new Columns(this.container, this.visData);\n\n      this.links = new Links(this.columns.groups, this.visData, this.layout);\n      this.nodes = new Nodes(this.columns.groups, this.visData);\n      this.columns.scrollPreparation(this, this.scrollbarWidth);\n      this.scrollbars = new Scrollbars(this.columns.groups, this.visData, this.scrollbarWidth);\n\n      // jQuery's mousewheel plugin is much nicer than D3's half-baked zoom event.\n      this.$levels = $(this.columns.groups[0]).on('mousewheel', function (event) {\n        that.mousewheelColumn(this, event);\n      });\n\n      // Normally we would reference a named methods but since we need to aceess\n      // the class' `this` property instead of the DOM element we need to use an\n      // arrow function.\n      this.scrollbars.selection.on('mousedown', function () {\n        that.scrollbarMouseDown(this, d3.event);\n      });\n\n      // We need to listen to `mouseup` and `mousemove` globally otherwise scrolling\n      // will only work as long as the cursor hovers the actual scrollbar, which is\n      // super annoying.\n      d3.select(document).on('mouseup', function () {\n        _this.globalMouseUp(d3.event);\n      }).on('mousemove', function () {\n        _this.globalMouseMove(d3.event);\n      });\n    }\n\n    babelHelpers.createClass(ListGraph, [{\n      key: 'globalMouseUp',\n      value: function globalMouseUp(event) {\n        if (this.activeScrollbar) {\n          var data = this.activeScrollbar.datum();\n          var deltaY = data.scrollbar.clientY - event.clientY;\n\n          // Save final vertical position\n          // Scrollbar\n          data.scrollbar.scrollTop = Math.min(Math.max(data.scrollbar.scrollTop - deltaY, 0), data.scrollbar.scrollHeight);\n\n          // Content\n          data.scrollTop = Math.max(Math.min(data.scrollTop + data.invertedHeightScale(deltaY), 0), -data.scrollHeight);\n\n          this.activeScrollbar.classed('active', false);\n\n          this.activeScrollbar = undefined;\n        }\n      }\n    }, {\n      key: 'globalMouseMove',\n      value: function globalMouseMove(event) {\n        if (this.activeScrollbar) {\n          var data = this.activeScrollbar.datum();\n          var deltaY = data.scrollbar.clientY - event.clientY;\n\n          // Scroll scrollbar\n          ListGraph.scrollY(this.activeScrollbar.node(), Math.min(Math.max(data.scrollbar.scrollTop - deltaY, 0), data.scrollbar.scrollHeight));\n\n          // Scroll content\n          var contentScrollTop = Math.max(Math.min(data.scrollTop + data.invertedHeightScale(deltaY), 0), -data.scrollHeight);\n\n          ListGraph.scrollY(data.nodes, contentScrollTop);\n\n          // Scroll Links\n          this.links.scroll(data.linkSelections.outgoing, this.layout.offsetLinks(data.level, contentScrollTop, 'source'));\n\n          this.links.scroll(data.linkSelections.incoming, this.layout.offsetLinks(data.level - 1, contentScrollTop, 'target'));\n        }\n      }\n    }, {\n      key: 'scrollbarMouseDown',\n      value: function scrollbarMouseDown(el, event) {\n        this.activeScrollbar = d3.select(el).classed('active', true);\n        this.activeScrollbar.datum().scrollbar.clientY = event.clientY;\n      }\n    }, {\n      key: 'mousewheelColumn',\n      value: function mousewheelColumn(el, event) {\n        event.preventDefault();\n\n        var data = d3.select(el).datum();\n\n        if (data.scrollHeight > 0) {\n          // Scroll nodes\n          data.scrollTop = Math.max(Math.min(data.scrollTop + event.deltaY, 0), -data.scrollHeight);\n\n          ListGraph.scrollY(data.nodes, data.scrollTop);\n\n          // Scroll scrollbar\n          data.scrollbar.scrollTop = data.scrollbar.heightScale(-data.scrollTop);\n\n          ListGraph.scrollY(data.scrollbar.el, data.scrollbar.scrollTop);\n\n          // Scroll Links\n          this.links.scroll(data.linkSelections.outgoing, this.layout.offsetLinks(data.level, data.scrollTop, 'source'));\n\n          this.links.scroll(data.linkSelections.incoming, this.layout.offsetLinks(data.level - 1, data.scrollTop, 'target'));\n        }\n      }\n    }, {\n      key: 'selectByColumn',\n      value: function selectByColumn(index, selector) {\n        return d3.select(this.columns.groups[0][index]).selectAll(selector);\n      }\n    }, {\n      key: 'sortColumn',\n      value: function sortColumn(level, property, sortOrder) {\n        this.nodes.sort(this.layout.sort(level, property, sortOrder).nodes(level));\n        this.links.sort(this.layout.links(level - 1, level + 1));\n      }\n    }], [{\n      key: 'scrollY',\n      value: function scrollY(el, offset) {\n        d3.select(el).attr('transform', 'translate(0, ' + offset + ')');\n      }\n    }]);\n    return ListGraph;\n  })();\n\n  return ListGraph;\n\n})($,d3);"],"sourceRoot":"/source/"}