{"version":3,"sources":["listGraph.min.js"],"names":["ListGraph","$","d3","isObject","value","type","up","node","callback","parent","down","i","childRefs","length","upAndDown","babelHelpers","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","SCROLLBAR_CLASS","Scrollbars","baseSelection","visData","width","_this","this","selection","append","attr","each","data","index","select","parentNode","datum","scrollbar","el","x","y","height","classed","BAR_CLASS","Bar","barData","nodeData","setup","className","magnitude","that","global","column","padding","cell","row","contentHeight","contentWidth","bars","selectAll","enter","id","BARS_CLASS","Bars","NODES_CLASS","NODE_CLASS","CLONE_CLASS","Nodes","groups","nodes","rows","clone","on","mouseEnter","mouseLeave","name","text","hovering","LINKS_CLASS","LINK_CLASS","Links","layout","links","diagonal","exit","remove","get","_this2","svg","source","offsetY","offsetX","projection","COLUMN_CLASS","SCROLL_CONTAINER_CLASS","Columns","vis","scrollbarWidth","getBoundingClientRect","scrollHeight","scrollbarHeight","Math","max","linkSelections","incoming","selectByColumn","outgoing","scrollTop","undefined","heightScale","scale","linear","domain","range","invertedHeightScale","invert","CLASSNAME","WIDTH","HEIGHT","SCROLLBAR_WIDTH","COLUMNS","ROWS","TRANSITION_SEMI_FAST","TOPBAR_EL","TOPBAR_CLASS","TOPBAR_CONTROL_EL","TOPBAR_CONTROL_CLASS","Topbar","controls","style","toggleColumn","left","sortColumn","highlightBars","html","toggleOptions","console","log","level","deHighlight","selectNodesColumn","d3El","sorting","sortStatus","dataset","sort","a","b","valueA","barRefs","valueB","start","end","transition","duration","ExtendableError","_Error","message","getPrototypeOf","Error","captureStackTrace","LayoutNotAvailable","_ExtendableError","baseEl","rootNodes","options","listGraph","baseElD3","baseElJq","columns","addClass","process","topbar","container","scrollPreparation","scrollbars","$levels","event","mousewheelColumn","scrollbarMouseDown","document","globalMouseUp","globalMouseMove","activeScrollbar","deltaY","clientY","min","scrollY","contentScrollTop","scroll","offsetLinks","preventDefault","selector","offset"],"mappings":";AACA,GAAIA,WAAY,SAAWC,EAAEC,GAAM,YAyEjC,SAASC,GAASC,GAGhB,GAAIC,SAAcD,EAClB,SAASA,IAAkB,UAARC,GAA4B,YAARA,GA6BzC,QAASC,GAAGC,EAAMC,GAChB,KAAOD,EAAKE,QACVF,EAAOA,EAAKE,OACZD,EAASD,GAIb,QAASG,GAAKH,EAAMC,GAClB,IAAK,GAAIG,GAAIJ,EAAKK,UAAUC,OAAQF,KAClCH,EAASD,EAAKK,UAAUD,IACxBD,EAAKH,EAAKK,UAAUD,GAAIH,GAI5B,QAASM,GAAUP,EAAMC,GACvBF,EAAGC,EAAMC,GACTE,EAAKH,EAAMC,GAxHb,GAAIO,KAEJA,GAAaC,eAAiB,SAAUC,EAAUC,GAChD,KAAMD,YAAoBC,IACxB,KAAM,IAAIC,WAAU,sCAIxBJ,EAAaK,YAAc,WACzB,QAASC,GAAiBC,EAAQC,GAChC,IAAK,GAAIZ,GAAI,EAAGA,EAAIY,EAAMV,OAAQF,IAAK,CACrC,GAAIa,GAAaD,EAAMZ,EACvBa,GAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,SAAWF,KAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeP,EAAQE,EAAWM,IAAKN,IAIlD,MAAO,UAAUN,EAAaa,EAAYC,GAGxC,MAFID,IAAYV,EAAiBH,EAAYe,UAAWF,GACpDC,GAAaX,EAAiBH,EAAac,GACxCd,MAIXH,EAAamB,SAAW,SAAUC,EAAUC,GAC1C,GAA0B,kBAAfA,IAA4C,OAAfA,EACtC,KAAM,IAAIjB,WAAU,iEAAoEiB,GAG1FD,GAASF,UAAYL,OAAOS,OAAOD,GAAcA,EAAWH,WAC1DK,aACElC,MAAO+B,EACPV,YAAY,EACZE,UAAU,EACVD,cAAc,KAGdU,IAAYR,OAAOW,eAAiBX,OAAOW,eAAeJ,EAAUC,GAAcD,EAASK,UAAYJ,IAG7GrB,EAAa0B,0BAA4B,SAAUC,EAAMC,GACvD,IAAKD,EACH,KAAM,IAAIE,gBAAe,4DAG3B,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EA+B5E,IAAIE,GAAkB,YAElBC,EAAa,QAASA,GAAWC,EAAeC,EAASC,GAC3D,GAAIC,GAAQC,IAEZpC,GAAaC,eAAemC,KAAML,GAElCK,KAAKH,QAAUA,EACfG,KAAKF,MAAQA,EAGbE,KAAKC,UAAYL,EAAcM,OAAO,QAAQC,KAAK,QAAST,GAAiBF,KAAK,SAAUS,GAC1FA,EAAUG,KAAK,SAAUC,EAAMC,GAC7BvD,EAAGwD,OAAOP,KAAKQ,YAAYC,QAAQC,UAAUC,GAAKX,SAEnDG,KAAK,IAAK,SAAUE,GACrB,MAAOA,GAAKK,UAAUE,IACrBT,KAAK,IAAK,SAAUE,GACrB,MAAOA,GAAKK,UAAUG,IACrBV,KAAK,QAAS,SAAUE,GACzB,MAAON,GAAMD,QACZK,KAAK,SAAU,SAAUE,GAC1B,MAAOA,GAAKK,UAAUI,SACrBX,KAAK,KAAMH,KAAKF,MAAQ,GAAGK,KAAK,KAAMH,KAAKF,MAAQ,GAAGiB,QAAQ,SAAS,IAsBxEC,EAAY,MAEZC,EAAM,QAASA,GAAIhB,EAAWiB,EAASC,EAAUtB,GAmBnD,QAASuB,GAAMnB,EAAWoB,EAAWC,GACnCrB,EAAUE,KAAK,IAAKoB,EAAKJ,SAASP,EAAIW,EAAK1B,QAAQ2B,OAAOC,OAAOC,QAAUH,EAAK1B,QAAQ2B,OAAOG,KAAKD,SAASvB,KAAK,IAAK,SAAUE,EAAM7C,GACrI,MAAO+D,GAAKJ,SAASN,EAAIU,EAAK1B,QAAQ2B,OAAOI,IAAIF,QAAUH,EAAK1B,QAAQ2B,OAAOI,IAAIC,cAAgB,EAAIN,EAAKT,OAAStD,EAAI+D,EAAK1B,QAAQ2B,OAAOG,KAAKD,SAAW,EAAI,EAAIlE,KACpK2C,KAAK,QAAS,SAAUE,GACzB,OAAQiB,EAAYjB,EAAKpD,MAAQ,IAAMsE,EAAK1B,QAAQ2B,OAAOC,OAAOK,aAAkD,EAAnCP,EAAK1B,QAAQ2B,OAAOG,KAAKD,WACzGvB,KAAK,SAAUoB,EAAKT,QAAQC,QAAQM,GAAW,GAvBpDzD,EAAaC,eAAemC,KAAMiB,EAElC,IAAIM,GAAOvB,IAEXA,MAAKK,KAAOa,EACZlB,KAAKmB,SAAWA,EAChBnB,KAAKH,QAAUA,EAEfG,KAAKc,OAASd,KAAKH,QAAQ2B,OAAOI,IAAIC,eAAkD,EAAjC7B,KAAKmB,SAASd,KAAK0B,KAAKrE,QAAiD,EAAnCsC,KAAKH,QAAQ2B,OAAOG,KAAKD,QAEtH1B,KAAKC,UAAYA,EAAU+B,UAAUhB,GAAWX,KAAKL,KAAKK,MAAM4B,QAAQ/B,OAAO,KAAKC,KAAK,QAAS,SAAUE,GAC1G,MAAOW,GAAY,IAAMX,EAAK6B,KAehClC,KAAKC,UAAUC,OAAO,QAAQV,KAAK4B,EAAO,cAE1CpB,KAAKC,UAAUC,OAAO,QAAQV,KAAK4B,EAAO,iBAAiB,IAGzDe,EAAa,OAEbC,EAAO,QAASA,GAAKnC,EAAWJ,GAClCjC,EAAaC,eAAemC,KAAMoC,EAElC,IAAIb,GAAOvB,IAEXA,MAAKH,QAAUA,EAEfI,EAAUC,OAAO,KAAKC,KAAK,QAASgC,GAAY3C,KAAK,SAAUS,GAC7DA,EAAUG,KAAK,SAAUK,GACvB,GAAIQ,GAAIlE,EAAGwD,OAAOP,MAAOS,EAAMJ,KAAK0B,KAAMtB,EAAOc,EAAK1B,cAKxDwC,EAAc,QACdC,EAAa,OACbC,EAAc,QAEdC,EAAQ,WACV,QAASA,GAAM5C,EAAeC,GAC5B,GAAIE,GAAQC,IAEZpC,GAAaC,eAAemC,KAAMwC,EAElC,IAAIjB,GAAOvB,IAEXA,MAAKH,QAAUA,EAEfG,KAAKyC,OAAS7C,EAAcM,OAAO,KAAKC,KAAK,QAASkC,GAAa7C,KAAK,SAAUS,GAChFA,EAAUG,KAAK,SAAUC,EAAMC,GAC7BvD,EAAGwD,OAAOP,KAAKQ,YAAYC,QAAQiC,MAAQ1C,SAI/CA,KAAK0C,MAAQ1C,KAAKyC,OAAOT,UAAU,IAAMM,GAAYjC,KAAK,SAAUA,GAClE,MAAOA,GAAKsC,OACXV,QAAQ/B,OAAO,KAAKa,QAAQuB,GAAY,GAAMvB,QAAQwB,EAAa,SAAUlC,GAC9E,MAAOA,GAAKuC,QAGd5C,KAAK0C,MAAMxC,OAAO,QAAQC,KAAK,IAAK,SAAUE,GAC5C,MAAOA,GAAKO,EAAIb,EAAMF,QAAQ2B,OAAOC,OAAOC,UAC3CvB,KAAK,IAAK,SAAUE,GACrB,MAAOA,GAAKQ,EAAId,EAAMF,QAAQ2B,OAAOI,IAAIF,UACxCvB,KAAK,QAASH,KAAKH,QAAQ2B,OAAOC,OAAOK,cAAc3B,KAAK,SAAUH,KAAKH,QAAQ2B,OAAOI,IAAIC,eAAe1B,KAAK,KAAM,GAAGA,KAAK,KAAM,GAAGY,QAAQ,MAAM,GAE1Jf,KAAK0C,MAAMG,GAAG,aAAc,SAAUxC,GACpCkB,EAAKuB,WAAW9C,KAAMK,KAGxBL,KAAK0C,MAAMG,GAAG,aAAc,SAAUxC,GACpCkB,EAAKwB,WAAW/C,KAAMK,KAIxBL,KAAK0C,MAAMlD,KAAK,SAAUS,GACxBA,EAAUC,OAAO,iBAAiBC,KAAK,IAAK,SAAUE,GACpD,MAAOA,GAAKO,EAAIb,EAAMF,QAAQ2B,OAAOC,OAAOC,QAAU3B,EAAMF,QAAQ2B,OAAOG,KAAKD,UAC/EvB,KAAK,IAAK,SAAUE,GACrB,MAAOA,GAAKQ,EAAId,EAAMF,QAAQ2B,OAAOI,IAAIF,QAAU3B,EAAMF,QAAQ2B,OAAOG,KAAKD,UAC5EvB,KAAK,QAASJ,EAAMF,QAAQ2B,OAAOC,OAAOK,cAAc3B,KAAK,SAAUJ,EAAMF,QAAQ2B,OAAOI,IAAIC,cAAgB,EAAwC,EAApC9B,EAAMF,QAAQ2B,OAAOG,KAAKD,SAAavB,KAAK,QAAS,iBAAiBD,OAAO,aAAaC,KAAK,QAAS,SAASA,KAAK,QAAS,SAAUE,GAC9P,MAAOA,GAAKA,KAAK2C,OAChB9C,OAAO,cAAc+C,KAAK,SAAU5C,GACrC,MAAOA,GAAKA,KAAK2C,SAIrBhD,KAAK+B,KAAO,GAAIK,GAAKpC,KAAK0C,MAAO1C,KAAKH,SA4BxC,MAzBAjC,GAAaK,YAAYuE,IACvB7D,IAAK,aACL1B,MAAO,SAAoB0D,EAAIN,GAC7BA,EAAK6C,SAAW,EAChBvF,EAAU0C,EAAM,SAAUA,GACxB,MAAOA,GAAK6C,SAAW,IAGzBnG,EAAGwD,OAAOI,GAAII,QAAQ,qBAAqB,GAC3Cf,KAAK0C,MAAM3B,QAAQ,sBAAuB,SAAUV,GAClD,MAAyB,KAAlBA,EAAK6C,cAIhBvE,IAAK,aACL1B,MAAO,SAAoB0D,EAAIN,GAC7BA,EAAK6C,SAAW,EAChBvF,EAAU0C,EAAM,SAAUA,GACxB,MAAOA,GAAK6C,SAAW,IAGzBnG,EAAGwD,OAAOI,GAAII,QAAQ,qBAAqB,GAC3Cf,KAAK0C,MAAM3B,QAAQ,uBAAuB,OAGvCyB,KAGLW,EAAc,QACdC,EAAa,OAEbC,EAAQ,WACV,QAASA,GAAMpD,EAAWJ,EAASyD,GACjC,GAAIvD,GAAQC,IAEZpC,GAAaC,eAAemC,KAAMqD,GAElCrD,KAAKH,QAAUA,EACfG,KAAKsD,OAASA,EAEdtD,KAAKyC,OAASxC,EAAUC,OAAO,KAAKC,KAAK,QAASgD,GAAa3D,KAAK,SAAUS,GAC5EA,EAAUG,KAAK,SAAUC,EAAMC,GAC7BvD,EAAGwD,OAAOP,KAAKQ,YAAYC,QAAQ8C,MAAQvD,SAI/CA,KAAKuD,MAAQvD,KAAKyC,OAAOT,UAAUoB,GAAY/C,KAAK,SAAUA,EAAMC,GAClE,MAAOP,GAAMuD,OAAOC,MAAMjD,KACzB2B,QAAQ/B,OAAO,QAAQC,KAAK,QAAS,QAAQA,KAAK,IAAKH,KAAKwD,UA4BjE,MAzBA5F,GAAaK,YAAYoF,IACvB1E,IAAK,SACL1B,MAAO,SAAgBgD,EAAWI,GAChCJ,EAAUI,KAAKA,GAAMF,KAAK,IAAKH,KAAKwD,UAAUC,OAAOC,YAGvD/E,IAAK,WACLgF,IAAK,WACH,GAAIC,GAAS5D,IAEb,OAAOjD,GAAG8G,IAAIL,WAAWM,OAAO,SAAUzD,GACxC,OACEO,EAAGP,EAAKyD,OAAOjD,EAAIR,EAAKyD,OAAOC,QAAUH,EAAO/D,QAAQ2B,OAAOI,IAAId,OAAS,EAC5ED,EAAGR,EAAKyD,OAAOlD,EAAIP,EAAKyD,OAAOE,QAAUJ,EAAO/D,QAAQ2B,OAAOC,OAAOK,aAAe8B,EAAO/D,QAAQ2B,OAAOC,OAAOC,WAEnHvD,OAAO,SAAUkC,GAClB,OACEO,EAAGP,EAAKlC,OAAO0C,EAAIR,EAAKlC,OAAO4F,QAAUH,EAAO/D,QAAQ2B,OAAOI,IAAId,OAAS,EAC5ED,EAAGR,EAAKlC,OAAOyC,EAAIP,EAAKlC,OAAO6F,QAAUJ,EAAO/D,QAAQ2B,OAAOC,OAAOC,WAEvEuC,WAAW,SAAU5D,GACtB,OAAQA,EAAKQ,EAAGR,EAAKO,SAIpByC,KAGLa,EAAe,SACfC,EAAyB,mBAEzBC,EAAU,WACZ,QAASA,GAAQnE,EAAWJ,GAC1B,GAAIE,GAAQC,IAEZpC,GAAaC,eAAemC,KAAMoE,GAElCpE,KAAKH,QAAUA,EACfG,KAAKyC,OAASxC,EAAU+B,UAAU,KAAK3B,KAAKL,KAAKH,QAAQ6C,OAAOT,QAAQ/B,OAAO,KAAKC,KAAK,QAAS+D,GAKlGlE,KAAKyC,OAAOvC,OAAO,QAAQC,KAAK,QAASgE,GAAwBhE,KAAK,IAAK,SAAUE,GACnF,MAAOA,GAAKO,IACXT,KAAK,IAAK,SAAUE,GACrB,MAAOA,GAAKQ,IACXV,KAAK,QAAS,SAAUE,GACzB,MAAON,GAAMF,QAAQ2B,OAAOC,OAAO3B,QAClCK,KAAK,SAAU,SAAUE,GAC1B,MAAON,GAAMF,QAAQ2B,OAAOC,OAAOX,SAwCvC,MApCAlD,GAAaK,YAAYmG,IACvBzF,IAAK,oBACL1B,MAAO,SAA2BoH,EAAKC,GACrC,GAAIV,GAAS5D,IAEbA,MAAKyC,OAAOrC,KAAK,SAAUC,EAAMC,GAC/B,GAAIuB,GAAgBxB,EAAKqC,MAAM6B,wBAAwBzD,OAAS,EAAI8C,EAAO/D,QAAQ2B,OAAOI,IAAIF,QAC1F8C,EAAe3C,EAAgB+B,EAAO/D,QAAQ2B,OAAOC,OAAOX,OAC5D2D,EAAkBD,EAAe,EAAIE,KAAKC,IAAIf,EAAO/D,QAAQ2B,OAAOC,OAAOX,OAAS8C,EAAO/D,QAAQ2B,OAAOC,OAAOX,OAASe,EAAe,IAAM,CAEnJxB,GAAKS,OAASe,EACdxB,EAAKuE,gBACHC,SAAUvE,EAAQ,EAAI+D,EAAIS,eAAexE,EAAQ,EAAG,SAAW,KAC/DyE,SAAUV,EAAIS,eAAexE,EAAO,UAEtCD,EAAKmE,aAAeA,EACpBnE,EAAK2E,UAAY,EACjB3E,EAAKK,WACHC,GAAIsE,OACJrE,EAAGP,EAAKO,EAAIgD,EAAO/D,QAAQ2B,OAAOC,OAAO3B,MAAQwE,EACjDzD,EAAG,EACHf,MAAOwE,EACPxD,OAAQ2D,EACRD,aAAcZ,EAAO/D,QAAQ2B,OAAOC,OAAOX,OAAS2D,EACpDO,UAAW,EACXE,YAAanI,EAAGoI,MAAMC,SAASC,QAAQ,EAAGb,IAAec,OAAO,EAAG1B,EAAO/D,QAAQ2B,OAAOC,OAAOX,OAAS2D,KAE3GpE,EAAKkF,oBAAsBlF,EAAKK,UAAUwE,YAAYM,YAI1D7G,IAAK,SACLgF,IAAK,WACH,MAAO3D,MAAKH,QAAQ2B,OAAOC,OAAOX,WAG/BsD,KAGLqB,EAAY,aAEZC,EAAQ,IACRC,EAAS,IACTC,EAAkB,EAClBC,EAAU,EACVC,EAAO,EAEPC,EAAuB,IAEvBC,EAAY,MACZC,EAAe,SAEfC,EAAoB,KACpBC,EAAuB,WAEvBC,EAAS,WACX,QAASA,GAAO/B,EAAKpE,EAAWJ,GAC9BjC,EAAaC,eAAemC,KAAMoG,EAElC,IAAI7E,GAAOvB,IAEXA,MAAKqE,IAAMA,EACXrE,KAAKH,QAAUA,EAEfG,KAAKW,GAAKV,EAAUC,OAAO8F,GAAW7F,KAAK,QAAS8F,GAEpDjG,KAAKqG,SAAWrG,KAAKW,GAAGqB,UAAUmE,GAAsB9F,KAAKR,EAAQ6C,OAAOT,QAAQ/B,OAAOgG,GAAmBnF,QAAQoF,GAAsB,GAAMG,MAAM,QAAStG,KAAKH,QAAQ2B,OAAOC,OAAO3B,MAAQ,MAEpME,KAAKqG,SAASnG,OAAO,MAAMC,KAAK,QAAS,UAAUmG,MAAM,QAAStG,KAAKH,QAAQ2B,OAAOC,OAAOC,QAAU,MAAMmB,GAAG,QAAS7C,KAAKuG,cAE9HvG,KAAKqG,SAASnG,OAAO,MAAMC,KAAK,QAAS,2BAA2BmG,OAClExG,MAASE,KAAKH,QAAQ2B,OAAOC,OAAOK,aAAe,EAAI,KACvD0E,KAAQxG,KAAKH,QAAQ2B,OAAOC,OAAOC,QAAU,OAC5CmB,GAAG,QAAS,WACbtB,EAAKkF,WAAWzG,KAAM,eACrB6C,GAAG,aAAc,WAClBtB,EAAKmF,cAAc1G,KAAKQ,WAAY,aACpCzD,EAAGwD,OAAOP,MAAMsG,MAAM,QAAS/E,EAAK1B,QAAQ2B,OAAOC,OAAOK,aAAe,GAAK,QAC7Ee,GAAG,aAAc,WAClBtB,EAAKmF,cAAc1G,KAAKQ,WAAY,aAAa,GACjDzD,EAAGwD,OAAOP,MAAMsG,MAAM,QAAS/E,EAAK1B,QAAQ2B,OAAOC,OAAOK,aAAe,EAAI,QAC5E6E,KAAK,soBAER3G,KAAKqG,SAASnG,OAAO,MAAMC,KAAK,QAAS,wBAAwBmG,OAC/DxG,MAASE,KAAKH,QAAQ2B,OAAOC,OAAOK,aAAe,EAAI,KACvD0E,KAAQxG,KAAKH,QAAQ2B,OAAOC,OAAOK,aAAe,EAAI9B,KAAKH,QAAQ2B,OAAOC,OAAOC,QAAU,OAC1FmB,GAAG,QAAS,WACbtB,EAAKkF,WAAWzG,KAAM,YACrB6C,GAAG,aAAc,WAClBtB,EAAKmF,cAAc1G,KAAKQ,WAAY,UACpCzD,EAAGwD,OAAOP,MAAMsG,OACdxG,MAASyB,EAAK1B,QAAQ2B,OAAOC,OAAOK,aAAe,GAAK,KACxD0E,KAAQjF,EAAK1B,QAAQ2B,OAAOC,OAAOC,QAAU,GAAK,SAEnDmB,GAAG,aAAc,WAClBtB,EAAKmF,cAAc1G,KAAKQ,WAAY,UAAU,GAC9CzD,EAAGwD,OAAOP,MAAMsG,OACdxG,MAASyB,EAAK1B,QAAQ2B,OAAOC,OAAOK,aAAe,EAAI,KACvD0E,KAAQjF,EAAK1B,QAAQ2B,OAAOC,OAAOK,aAAe,EAAIP,EAAK1B,QAAQ2B,OAAOC,OAAOC,QAAU,SAE5FiF,KAAK,yiBAER3G,KAAKqG,SAASnG,OAAO,MAAMC,KAAK,QAAS,WAAWmG,MAAM,QAAStG,KAAKH,QAAQ2B,OAAOC,OAAOC,QAAU,MAAMmB,GAAG,QAAS7C,KAAK4G,eAAeD,KAAK,gFAoFrJ,MAjFA/I,GAAaK,YAAYmI,IACvBzH,IAAK,eACL1B,MAAO,WACL4J,QAAQC,IAAI,oBAGdnI,IAAK,oBACL1B,MAAO,SAA2B0D,GAChC,MAAOX,MAAKqE,IAAIS,eAAe/H,EAAGwD,OAAOI,GAAIF,QAAQsG,MAAO,YAG9DpI,IAAK,gBACL1B,MAAO,SAAuB0D,EAAIzD,EAAM8J,GACtC,GAAItE,GAAQ1C,KAAKiH,kBAAkBtG,EACnC+B,GAAMV,UAAU,QAAU9E,GAAM6D,QAAQ,aAAciG,MAGxDrI,IAAK,aACL1B,MAAO,SAAoB0D,EAAIzD,GAC7B,GAAI6C,GAAQC,KAERkH,EAAOnK,EAAGwD,OAAOI,GACjBwG,EAAUD,EAAKzG,QAAQ2G,UAO3B,QAAQD,GACN,IAAK,GACHA,EAAU,EACVD,EAAK3G,OAAO,kBAAkBQ,QAAQ,WAAW,GACjDmG,EAAK3G,OAAO,gBAAgBQ,QAAQ,WAAW,EAC/C,MACF,KAAK,GACHoG,EAAU,EACVD,EAAK3G,OAAO,mBAAmBQ,QAAQ,WAAW,GAClDmG,EAAK3G,OAAO,kBAAkBQ,QAAQ,WAAW,EACjD,MACF,SACEoG,EAAU,GACVD,EAAK3G,OAAO,gBAAgBQ,QAAQ,WAAW,GAC/CmG,EAAK3G,OAAO,mBAAmBQ,QAAQ,WAAW,GAItDmG,EAAKzG,QAAQ2G,WAAaD,CAE1B,IAAIzE,GAAQ1C,KAAKiH,kBAAkBtG,EAAGH,YAClC6G,EAAU3E,EAAMrC,MAEpBgH,GAAQC,KAAK,SAAUC,EAAGC,GACxB,GAAIC,GAASF,EAAElH,KAAKqH,QAAQxK,GACxByK,EAASH,EAAEnH,KAAKqH,QAAQxK,EAC5B,OAAOuK,GAASE,EAASR,EAAmBQ,EAATF,GAAmBN,EAAU,GAGlE,IAAIS,GAAQ,WACV7K,EAAGwD,OAAOP,MAAMe,QAAQ,WAAW,IAEjC8G,EAAM,WACR9K,EAAGwD,OAAOP,MAAMe,QAAQ,WAAW,GAGjCoG,GACFzE,EAAMrC,KAAKgH,EAAS,SAAUhH,GAC5B,MAAOA,GAAKA,KAAK2C,OAChB8E,aAAaC,SAAShC,GAAsB5F,KAAK,YAAa,SAAUE,EAAM7C,GAC/E,MAAO,iBAAmBA,EAAIuC,EAAMF,QAAQ2B,OAAOI,IAAId,OAAST,EAAKQ,GAAK,MACzET,KAAK,QAASwH,GAAOxH,KAAK,MAAOyH,GAEpCnF,EAAMoF,aAAaC,SAAShC,GAAsB5F,KAAK,YAAa,mBAAmBC,KAAK,QAASwH,GAAOxH,KAAK,MAAOyH,MAI5HlJ,IAAK,gBACL1B,MAAO,WACL4J,QAAQC,IAAI,sBAGTV,KAGL4B,EAAkB,SAAWC,GAG/B,QAASD,GAAgBE,GACvBtK,EAAaC,eAAemC,KAAMgI,EAElC,IAAIjI,GAAQnC,EAAa0B,0BAA0BU,KAAMvB,OAAO0J,eAAeH,GAAiBxI,KAAKQ,KAAMkI,GAK3G,OAHAnI,GAAMiD,KAAOjD,EAAMZ,YAAY6D,KAC/BjD,EAAMmI,QAAUA,EAChBE,MAAMC,kBAAkBtI,EAAOA,EAAMZ,YAAY6D,MAC1CjD,EAGT,MAbAnC,GAAamB,SAASiJ,EAAiBC,GAahCD,GACNI,OAECE,EAAqB,SAAWC,GAGlC,QAASD,GAAmBJ,GAE1B,MADAtK,GAAaC,eAAemC,KAAMsI,GAC3B1K,EAAa0B,0BAA0BU,KAAMvB,OAAO0J,eAAeG,GAAoB9I,KAAKQ,KAAMkI,GAAW,oDAGtH,MAPAtK,GAAamB,SAASuJ,EAAoBC,GAOnCD,GACNN,GAECnL,EAAY,WACd,QAASA,GAAU2L,EAAQnI,EAAMoI,EAAWC,GAC1C,GAAI3I,GAAQC,IAIZ,IAFApC,EAAaC,eAAemC,KAAMnD,IAE7BE,EAAGuG,OAAOqF,UACb,KAAM,IAAIL,GAAmB,sGAG1BtL,GAAS0L,KACZA,KAGF,IAAInH,GAAOvB,IAEXA,MAAKwI,OAASA,EACdxI,KAAK4I,SAAW7L,EAAGwD,OAAOiI,GAC1BxI,KAAK6I,SAAW/L,EAAE0L,GAElBxI,KAAKyI,UAAYA,EAEjBzI,KAAKF,MAAQ4I,EAAQ5I,OAAS4F,EAC9B1F,KAAKc,OAAS4H,EAAQ5H,QAAU6E,EAChC3F,KAAKsE,eAAiBoE,EAAQpE,gBAAkBsB,EAChD5F,KAAK8I,QAAUJ,EAAQI,SAAWjD,EAClC7F,KAAK2C,KAAO+F,EAAQ/F,MAAQmD,EAE5B9F,KAAK6I,SAAS/I,MAAME,KAAKF,OAAOiJ,SAAStD,GAEzCzF,KAAKsD,OAAS,GAAIvG,GAAGuG,OAAOqF,WAAW3I,KAAKF,MAAOE,KAAKc,SAAUd,KAAK8I,QAAS9I,KAAK2C,OAErF3C,KAAKK,KAAOA,EACZL,KAAKH,QAAUG,KAAKsD,OAAO0F,QAAQhJ,KAAKK,KAAML,KAAKyI,WAEnDzI,KAAKiJ,OAAS,GAAI7C,GAAOpG,KAAMA,KAAK4I,SAAU5I,KAAKH,SAEnDG,KAAK6D,IAAM9G,EAAGwD,OAAO,eAAeL,OAAO,OAAOC,KAAK,QAASH,KAAKF,OAAOK,KAAK,SAAUH,KAAKc,QAEhGd,KAAKkJ,UAAYlJ,KAAK6D,IAAI3D,OAAO,KAEjCF,KAAK8I,QAAU,GAAI1E,GAAQpE,KAAKkJ,UAAWlJ,KAAKH,SAEhDG,KAAKuD,MAAQ,GAAIF,GAAMrD,KAAK8I,QAAQrG,OAAQzC,KAAKH,QAASG,KAAKsD,QAC/DtD,KAAK0C,MAAQ,GAAIF,GAAMxC,KAAK8I,QAAQrG,OAAQzC,KAAKH,SACjDG,KAAK8I,QAAQK,kBAAkBnJ,KAAMA,KAAKsE,gBAC1CtE,KAAKoJ,WAAa,GAAIzJ,GAAWK,KAAK8I,QAAQrG,OAAQzC,KAAKH,QAASG,KAAKsE,gBAGzEtE,KAAKqJ,QAAUvM,EAAEkD,KAAK8I,QAAQrG,OAAO,IAAII,GAAG,aAAc,SAAUyG,GAClE/H,EAAKgI,iBAAiBvJ,KAAMsJ,KAM9BtJ,KAAKoJ,WAAWnJ,UAAU4C,GAAG,YAAa,WACxCtB,EAAKiI,mBAAmBxJ,KAAMjD,EAAGuM,SAMnCvM,EAAGwD,OAAOkJ,UAAU5G,GAAG,UAAW,WAChC9C,EAAM2J,cAAc3M,EAAGuM,SACtBzG,GAAG,YAAa,WACjB9C,EAAM4J,gBAAgB5M,EAAGuM,SAqF7B,MAjFA1L,GAAaK,YAAYpB,IACvB8B,IAAK,gBACL1B,MAAO,SAAuBqM,GAC5B,GAAItJ,KAAK4J,gBAAiB,CACxB,GAAIvJ,GAAOL,KAAK4J,gBAAgBnJ,QAC5BoJ,EAASxJ,EAAKK,UAAUoJ,QAAUR,EAAMQ,OAI5CzJ,GAAKK,UAAUsE,UAAYN,KAAKqF,IAAIrF,KAAKC,IAAItE,EAAKK,UAAUsE,UAAY6E,EAAQ,GAAIxJ,EAAKK,UAAU8D,cAGnGnE,EAAK2E,UAAYN,KAAKC,IAAID,KAAKqF,IAAI1J,EAAK2E,UAAY3E,EAAKkF,oBAAoBsE,GAAS,IAAKxJ,EAAKmE,cAEhGxE,KAAK4J,gBAAgB7I,QAAQ,UAAU,GAEvCf,KAAK4J,gBAAkB3E,WAI3BtG,IAAK,kBACL1B,MAAO,SAAyBqM,GAC9B,GAAItJ,KAAK4J,gBAAiB,CACxB,GAAIvJ,GAAOL,KAAK4J,gBAAgBnJ,QAC5BoJ,EAASxJ,EAAKK,UAAUoJ,QAAUR,EAAMQ,OAG5CjN,GAAUmN,QAAQhK,KAAK4J,gBAAgBxM,OAAQsH,KAAKqF,IAAIrF,KAAKC,IAAItE,EAAKK,UAAUsE,UAAY6E,EAAQ,GAAIxJ,EAAKK,UAAU8D,cAGvH,IAAIyF,GAAmBvF,KAAKC,IAAID,KAAKqF,IAAI1J,EAAK2E,UAAY3E,EAAKkF,oBAAoBsE,GAAS,IAAKxJ,EAAKmE,aAEtG3H,GAAUmN,QAAQ3J,EAAKqC,MAAOuH,GAG9BjK,KAAKuD,MAAM2G,OAAO7J,EAAKuE,eAAeG,SAAU/E,KAAKsD,OAAO6G,YAAY9J,EAAK0G,MAAOkD,EAAkB,WAEtGjK,KAAKuD,MAAM2G,OAAO7J,EAAKuE,eAAeC,SAAU7E,KAAKsD,OAAO6G,YAAY9J,EAAK0G,MAAQ,EAAGkD,EAAkB,eAI9GtL,IAAK,qBACL1B,MAAO,SAA4B0D,EAAI2I,GACrCtJ,KAAK4J,gBAAkB7M,EAAGwD,OAAOI,GAAII,QAAQ,UAAU,GACvDf,KAAK4J,gBAAgBnJ,QAAQC,UAAUoJ,QAAUR,EAAMQ,WAGzDnL,IAAK,mBACL1B,MAAO,SAA0B0D,EAAI2I,GACnCA,EAAMc,gBAEN,IAAI/J,GAAOtD,EAAGwD,OAAOI,GAAIF,OAErBJ,GAAKmE,aAAe,IAEtBnE,EAAK2E,UAAYN,KAAKC,IAAID,KAAKqF,IAAI1J,EAAK2E,UAAYsE,EAAMO,OAAQ,IAAKxJ,EAAKmE,cAE5E3H,EAAUmN,QAAQ3J,EAAKqC,MAAOrC,EAAK2E,WAGnC3E,EAAKK,UAAUsE,UAAY3E,EAAKK,UAAUwE,aAAa7E,EAAK2E,WAE5DnI,EAAUmN,QAAQ3J,EAAKK,UAAUC,GAAIN,EAAKK,UAAUsE,WAGpDhF,KAAKuD,MAAM2G,OAAO7J,EAAKuE,eAAeG,SAAU/E,KAAKsD,OAAO6G,YAAY9J,EAAK0G,MAAO1G,EAAK2E,UAAW,WAEpGhF,KAAKuD,MAAM2G,OAAO7J,EAAKuE,eAAeC,SAAU7E,KAAKsD,OAAO6G,YAAY9J,EAAK0G,MAAQ,EAAG1G,EAAK2E,UAAW,eAI5GrG,IAAK,iBACL1B,MAAO,SAAwBqD,EAAO+J,GACpC,MAAOtN,GAAGwD,OAAOP,KAAK8I,QAAQrG,OAAO,GAAGnC,IAAQ0B,UAAUqI,QAG5D1L,IAAK,UACL1B,MAAO,SAAiB0D,EAAI2J,GAC1BvN,EAAGwD,OAAOI,GAAIR,KAAK,YAAa,gBAAkBmK,EAAS,SAGxDzN,IAGT,OAAOA,IAENC,EAAEC","file":"listGraph.min.js","sourcesContent":["/* Copyright Fritz Lekschas: D3 example visualization app using list-based graphs */\nvar ListGraph = (function ($,d3) { 'use strict';\n\n  var babelHelpers = {};\n\n  babelHelpers.classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  babelHelpers.createClass = (function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  })();\n\n  babelHelpers.inherits = function (subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n\n  babelHelpers.possibleConstructorReturn = function (self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  };\n\n  babelHelpers;\n  /**\n   * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // Avoid a V8 JIT bug in Chrome 19-20.\n    // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n\n  var SCROLLBAR_CLASS = 'scrollbar';\n\n  var Scrollbars = function Scrollbars(baseSelection, visData, width) {\n    var _this = this;\n\n    babelHelpers.classCallCheck(this, Scrollbars);\n\n    this.visData = visData;\n    this.width = width;\n\n    // Add empty scrollbar element\n    this.selection = baseSelection.append('rect').attr('class', SCROLLBAR_CLASS).call(function (selection) {\n      selection.each(function (data, index) {\n        d3.select(this.parentNode).datum().scrollbar.el = this;\n      });\n    }).attr('x', function (data) {\n      return data.scrollbar.x;\n    }).attr('y', function (data) {\n      return data.scrollbar.y;\n    }).attr('width', function (data) {\n      return _this.width;\n    }).attr('height', function (data) {\n      return data.scrollbar.height;\n    }).attr('rx', this.width / 2).attr('ry', this.width / 2).classed('ready', true);\n  };\n\n  function up(node, callback) {\n    while (node.parent) {\n      node = node.parent;\n      callback(node);\n    }\n  }\n\n  function down(node, callback) {\n    for (var i = node.childRefs.length; i--;) {\n      callback(node.childRefs[i]);\n      down(node.childRefs[i], callback);\n    }\n  }\n\n  function upAndDown(node, callback) {\n    up(node, callback);\n    down(node, callback);\n  }\n\n  var BAR_CLASS = 'bar';\n\n  var Bar = function Bar(selection, barData, nodeData, visData) {\n    babelHelpers.classCallCheck(this, Bar);\n\n    var that = this;\n\n    this.data = barData;\n    this.nodeData = nodeData;\n    this.visData = visData;\n\n    this.height = this.visData.global.row.contentHeight / (this.nodeData.data.bars.length * 2) - this.visData.global.cell.padding * 2;\n\n    this.selection = selection.selectAll(BAR_CLASS).data(this.data).enter().append('g').attr('class', function (data) {\n      return BAR_CLASS + ' ' + data.id;\n    });\n\n    // Local helper method to avoid code duplication.\n    // Calling a class method from within the consructor is possible but `this`\n    // is not available. Thus, we need to create local function and pass in\n    // `this` as `that`, which feels very hacky but it works.\n    function setup(selection, className, magnitude) {\n      selection.attr('x', that.nodeData.x + that.visData.global.column.padding + that.visData.global.cell.padding).attr('y', function (data, i) {\n        return that.nodeData.y + that.visData.global.row.padding + that.visData.global.row.contentHeight / 2 + that.height * i + that.visData.global.cell.padding * (1 + 2 * i);\n      }).attr('width', function (data) {\n        return (magnitude ? data.value : 1) * (that.visData.global.column.contentWidth - that.visData.global.cell.padding * 2);\n      }).attr('height', that.height).classed(className, true);\n    }\n\n    this.selection.append('rect').call(setup, 'bar-border');\n\n    this.selection.append('rect').call(setup, 'bar-magnitude', true);\n  };\n\n  var BARS_CLASS = 'bars';\n\n  var Bars = function Bars(selection, visData) {\n    babelHelpers.classCallCheck(this, Bars);\n\n    var that = this;\n\n    this.visData = visData;\n\n    selection.append('g').attr('class', BARS_CLASS).call(function (selection) {\n      selection.each(function (datum) {\n        new Bar(d3.select(this), datum.data.bars, datum, that.visData);\n      });\n    });\n  };\n\n  var NODES_CLASS = 'nodes';\n  var NODE_CLASS = 'node';\n  var CLONE_CLASS = 'clone';\n\n  var Nodes = (function () {\n    function Nodes(baseSelection, visData) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Nodes);\n\n      var that = this;\n\n      this.visData = visData;\n\n      this.groups = baseSelection.append('g').attr('class', NODES_CLASS).call(function (selection) {\n        selection.each(function (data, index) {\n          d3.select(this.parentNode).datum().nodes = this;\n        });\n      });\n\n      this.nodes = this.groups.selectAll('.' + NODE_CLASS).data(function (data) {\n        return data.rows;\n      }).enter().append('g').classed(NODE_CLASS, true).classed(CLONE_CLASS, function (data) {\n        return data.clone;\n      });\n\n      this.nodes.append('rect').attr('x', function (data) {\n        return data.x + _this.visData.global.column.padding;\n      }).attr('y', function (data) {\n        return data.y + _this.visData.global.row.padding;\n      }).attr('width', this.visData.global.column.contentWidth).attr('height', this.visData.global.row.contentHeight).attr('rx', 2).attr('ry', 2).classed('bg', true);\n\n      this.nodes.on('mouseenter', function (data) {\n        that.mouseEnter(this, data);\n      });\n\n      this.nodes.on('mouseleave', function (data) {\n        that.mouseLeave(this, data);\n      });\n\n      // Add node label\n      this.nodes.call(function (selection) {\n        selection.append('foreignObject').attr('x', function (data) {\n          return data.x + _this.visData.global.column.padding + _this.visData.global.cell.padding;\n        }).attr('y', function (data) {\n          return data.y + _this.visData.global.row.padding + _this.visData.global.cell.padding;\n        }).attr('width', _this.visData.global.column.contentWidth).attr('height', _this.visData.global.row.contentHeight / 2 - _this.visData.global.cell.padding * 2).attr('class', 'label-wrapper').append('xhtml:div').attr('class', 'label').attr('title', function (data) {\n          return data.data.name;\n        }).append('xhtml:span').text(function (data) {\n          return data.data.name;\n        });\n      });\n\n      this.bars = new Bars(this.nodes, this.visData);\n    }\n\n    babelHelpers.createClass(Nodes, [{\n      key: 'mouseEnter',\n      value: function mouseEnter(el, data) {\n        data.hovering = 1;\n        upAndDown(data, function (data) {\n          return data.hovering = 2;\n        });\n\n        d3.select(el).classed('hovering-directly', true);\n        this.nodes.classed('hovering-indirectly', function (data) {\n          return data.hovering === 2;\n        });\n      }\n    }, {\n      key: 'mouseLeave',\n      value: function mouseLeave(el, data) {\n        data.hovering = 0;\n        upAndDown(data, function (data) {\n          return data.hovering = 0;\n        });\n\n        d3.select(el).classed('hovering-directly', false);\n        this.nodes.classed('hovering-indirectly', false);\n      }\n    }]);\n    return Nodes;\n  })();\n\n  var LINKS_CLASS = 'links';\n  var LINK_CLASS = 'link';\n\n  var Links = (function () {\n    function Links(selection, visData, layout) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Links);\n\n      this.visData = visData;\n      this.layout = layout;\n\n      this.groups = selection.append('g').attr('class', LINKS_CLASS).call(function (selection) {\n        selection.each(function (data, index) {\n          d3.select(this.parentNode).datum().links = this;\n        });\n      });\n\n      this.links = this.groups.selectAll(LINK_CLASS).data(function (data, index) {\n        return _this.layout.links(index);\n      }).enter().append('path').attr('class', 'link').attr('d', this.diagonal);\n    }\n\n    babelHelpers.createClass(Links, [{\n      key: 'scroll',\n      value: function scroll(selection, data) {\n        selection.data(data).attr('d', this.diagonal).exit().remove();\n      }\n    }, {\n      key: 'diagonal',\n      get: function get() {\n        var _this2 = this;\n\n        return d3.svg.diagonal().source(function (data) {\n          return {\n            x: data.source.y + data.source.offsetY + _this2.visData.global.row.height / 2,\n            y: data.source.x + data.source.offsetX + _this2.visData.global.column.contentWidth + _this2.visData.global.column.padding\n          };\n        }).target(function (data) {\n          return {\n            x: data.target.y + data.target.offsetY + _this2.visData.global.row.height / 2,\n            y: data.target.x + data.target.offsetX + _this2.visData.global.column.padding\n          };\n        }).projection(function (data) {\n          return [data.y, data.x];\n        });\n      }\n    }]);\n    return Links;\n  })();\n\n  var COLUMN_CLASS = 'column';\n  var SCROLL_CONTAINER_CLASS = 'scroll-container';\n\n  var Columns = (function () {\n    function Columns(selection, visData) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, Columns);\n\n      this.visData = visData;\n      this.groups = selection.selectAll('g').data(this.visData.nodes).enter().append('g').attr('class', COLUMN_CLASS);\n\n      // We need to add an empty rectangle that fills up the whole column to ensure\n      // that the `g`'s size is at a maximum, otherwise scrolling will be halted\n      // when the cursor leaves an actually drawn element.\n      this.groups.append('rect').attr('class', SCROLL_CONTAINER_CLASS).attr('x', function (data) {\n        return data.x;\n      }).attr('y', function (data) {\n        return data.y;\n      }).attr('width', function (data) {\n        return _this.visData.global.column.width;\n      }).attr('height', function (data) {\n        return _this.visData.global.column.height;\n      });\n    }\n\n    babelHelpers.createClass(Columns, [{\n      key: 'scrollPreparation',\n      value: function scrollPreparation(vis, scrollbarWidth) {\n        var _this2 = this;\n\n        this.groups.each(function (data, index) {\n          var contentHeight = data.nodes.getBoundingClientRect().height + 2 * _this2.visData.global.row.padding;\n          var scrollHeight = contentHeight - _this2.visData.global.column.height;\n          var scrollbarHeight = scrollHeight > 0 ? Math.max(_this2.visData.global.column.height * _this2.visData.global.column.height / contentHeight, 10) : 0;\n\n          data.height = contentHeight;\n          data.linkSelections = {\n            incoming: index > 0 ? vis.selectByColumn(index - 1, '.link') : null,\n            outgoing: vis.selectByColumn(index, '.link')\n          };\n          data.scrollHeight = scrollHeight;\n          data.scrollTop = 0;\n          data.scrollbar = {\n            el: undefined,\n            x: data.x + _this2.visData.global.column.width - scrollbarWidth,\n            y: 0,\n            width: scrollbarWidth,\n            height: scrollbarHeight,\n            scrollHeight: _this2.visData.global.column.height - scrollbarHeight,\n            scrollTop: 0,\n            heightScale: d3.scale.linear().domain([0, scrollHeight]).range([0, _this2.visData.global.column.height - scrollbarHeight])\n          };\n          data.invertedHeightScale = data.scrollbar.heightScale.invert;\n        });\n      }\n    }, {\n      key: 'height',\n      get: function get() {\n        return this.visData.global.column.height;\n      }\n    }]);\n    return Columns;\n  })();\n\n  var CLASSNAME = 'list-graph';\n\n  var WIDTH = 800;\n  var HEIGHT = 200;\n  var SCROLLBAR_WIDTH = 6;\n  var COLUMNS = 5;\n  var ROWS = 5;\n\n  var TRANSITION_SEMI_FAST = 250;\n\n  var TOPBAR_EL = 'div';\n  var TOPBAR_CLASS = 'topbar';\n\n  var TOPBAR_CONTROL_EL = 'ul';\n  var TOPBAR_CONTROL_CLASS = 'controls';\n\n  var Topbar = (function () {\n    function Topbar(vis, selection, visData) {\n      babelHelpers.classCallCheck(this, Topbar);\n\n      var that = this;\n\n      this.vis = vis;\n      this.visData = visData;\n      // Add base topbar element\n      this.el = selection.append(TOPBAR_EL).attr('class', TOPBAR_CLASS);\n\n      this.controls = this.el.selectAll(TOPBAR_CONTROL_CLASS).data(visData.nodes).enter().append(TOPBAR_CONTROL_EL).classed(TOPBAR_CONTROL_CLASS, true).style('width', this.visData.global.column.width + 'px');\n\n      this.controls.append('li').attr('class', 'toggle').style('width', this.visData.global.column.padding + 'px').on('click', this.toggleColumn);\n\n      this.controls.append('li').attr('class', 'sort-precision ease-all').style({\n        'width': this.visData.global.column.contentWidth / 2 + 'px',\n        'left': this.visData.global.column.padding + 'px'\n      }).on('click', function () {\n        that.sortColumn(this, 'precision');\n      }).on('mouseenter', function () {\n        that.highlightBars(this.parentNode, 'precision');\n        d3.select(this).style('width', that.visData.global.column.contentWidth - 16 + 'px');\n      }).on('mouseleave', function () {\n        that.highlightBars(this.parentNode, 'precision', true);\n        d3.select(this).style('width', that.visData.global.column.contentWidth / 2 + 'px');\n      }).html('<div class=\"expandable-label\">' + '  <span class=\"letter abbr\">P</span>' + '  <span class=\"letter abbr\">r</span>' + '  <span class=\"letter\">e</span>' + '  <span class=\"letter abbr\">c</span>' + '  <span class=\"letter\">i</span>' + '  <span class=\"letter\">s</span>' + '  <span class=\"letter\">i</span>' + '  <span class=\"letter\">o</span>' + '  <span class=\"letter\">n</span>' + '</div>' + '<svg class=\"icon-unsort invisible-default visible\">' + '  <use xlink:href=\"/dist/icons.svg#unsort\"></use>' + '</svg>' + '<svg class=\"icon-sort-asc invisible-default\">' + '  <use xlink:href=\"/dist/icons.svg#sort-asc\"></use>' + '</svg>' + '<svg class=\"icon-sort-desc invisible-default\">' + '  <use xlink:href=\"/dist/icons.svg#sort-desc\"></use>' + '</svg>');\n\n      this.controls.append('li').attr('class', 'sort-recall ease-all').style({\n        'width': this.visData.global.column.contentWidth / 2 + 'px',\n        'left': this.visData.global.column.contentWidth / 2 + this.visData.global.column.padding + 'px'\n      }).on('click', function () {\n        that.sortColumn(this, 'recall');\n      }).on('mouseenter', function () {\n        that.highlightBars(this.parentNode, 'recall');\n        d3.select(this).style({\n          'width': that.visData.global.column.contentWidth - 16 + 'px',\n          'left': that.visData.global.column.padding + 16 + 'px'\n        });\n      }).on('mouseleave', function () {\n        that.highlightBars(this.parentNode, 'recall', true);\n        d3.select(this).style({\n          'width': that.visData.global.column.contentWidth / 2 + 'px',\n          'left': that.visData.global.column.contentWidth / 2 + that.visData.global.column.padding + 'px'\n        });\n      }).html('<div class=\"expandable-label\">' + '  <span class=\"letter abbr\">R</span>' + '  <span class=\"letter\">e</span>' + '  <span class=\"letter abbr\">c</span>' + '  <span class=\"letter\">a</span>' + '  <span class=\"letter abbr\">l</span>' + '  <span class=\"letter\">l</span>' + '</div>' + '<svg class=\"icon-unsort invisible-default visible\">' + '  <use xlink:href=\"/dist/icons.svg#unsort\"></use>' + '</svg>' + '<svg class=\"icon-sort-asc invisible-default\">' + '  <use xlink:href=\"/dist/icons.svg#sort-asc\"></use>' + '</svg>' + '<svg class=\"icon-sort-desc invisible-default\">' + '  <use xlink:href=\"/dist/icons.svg#sort-desc\"></use>' + '</svg>');\n\n      this.controls.append('li').attr('class', 'options').style('width', this.visData.global.column.padding + 'px').on('click', this.toggleOptions).html('<svg class=\"icon-gear\">' + '  <use xlink:href=\"/dist/icons.svg#gear\"></use>' + '</svg>');\n    }\n\n    babelHelpers.createClass(Topbar, [{\n      key: 'toggleColumn',\n      value: function toggleColumn() {\n        console.log('Toggle column');\n      }\n    }, {\n      key: 'selectNodesColumn',\n      value: function selectNodesColumn(el) {\n        return this.vis.selectByColumn(d3.select(el).datum().level, '.node');\n      }\n    }, {\n      key: 'highlightBars',\n      value: function highlightBars(el, type, deHighlight) {\n        var nodes = this.selectNodesColumn(el);\n        nodes.selectAll('.bar.' + type).classed('highlight', !deHighlight);\n      }\n    }, {\n      key: 'sortColumn',\n      value: function sortColumn(el, type) {\n        var _this = this;\n\n        var d3El = d3.select(el);\n        var sorting = d3El.datum().sortStatus;\n\n        /*\n         * 0 = unsorted\n         * 1 = asc\n         * -1 = desc\n         */\n        switch (sorting) {\n          case 1:\n            sorting = 0;\n            d3El.select('.icon-sort-asc').classed('visible', false);\n            d3El.select('.icon-unsort').classed('visible', true);\n            break;\n          case -1:\n            sorting = 1;\n            d3El.select('.icon-sort-desc').classed('visible', false);\n            d3El.select('.icon-sort-asc').classed('visible', true);\n            break;\n          default:\n            sorting = -1;\n            d3El.select('.icon-unsort').classed('visible', false);\n            d3El.select('.icon-sort-desc').classed('visible', true);\n            break;\n        }\n\n        d3El.datum().sortStatus = sorting;\n\n        var nodes = this.selectNodesColumn(el.parentNode);\n        var dataset = nodes.data();\n\n        dataset.sort(function (a, b) {\n          var valueA = a.data.barRefs[type];\n          var valueB = b.data.barRefs[type];\n          return valueA > valueB ? sorting : valueA < valueB ? -sorting : 0;\n        });\n\n        var start = function start() {\n          d3.select(this).classed('sorting', true);\n        };\n        var end = function end() {\n          d3.select(this).classed('sorting', false);\n        };\n\n        if (sorting) {\n          nodes.data(dataset, function (data) {\n            return data.data.name;\n          }).transition().duration(TRANSITION_SEMI_FAST).attr('transform', function (data, i) {\n            return 'translate(0, ' + (i * _this.visData.global.row.height - data.y) + ')';\n          }).each('start', start).each('end', end);\n        } else {\n          nodes.transition().duration(TRANSITION_SEMI_FAST).attr('transform', 'translate(0, 0)').each('start', start).each('end', end);\n        }\n      }\n    }, {\n      key: 'toggleOptions',\n      value: function toggleOptions() {\n        console.log('Toggle options');\n      }\n    }]);\n    return Topbar;\n  })();\n\n  var ExtendableError = (function (_Error) {\n    babelHelpers.inherits(ExtendableError, _Error);\n\n    function ExtendableError(message) {\n      babelHelpers.classCallCheck(this, ExtendableError);\n\n      var _this = babelHelpers.possibleConstructorReturn(this, Object.getPrototypeOf(ExtendableError).call(this, message));\n\n      _this.name = _this.constructor.name;\n      _this.message = message;\n      Error.captureStackTrace(_this, _this.constructor.name);\n      return _this;\n    }\n\n    return ExtendableError;\n  })(Error);\n\n  var LayoutNotAvailable = (function (_ExtendableError) {\n    babelHelpers.inherits(LayoutNotAvailable, _ExtendableError);\n\n    function LayoutNotAvailable(message) {\n      babelHelpers.classCallCheck(this, LayoutNotAvailable);\n      return babelHelpers.possibleConstructorReturn(this, Object.getPrototypeOf(LayoutNotAvailable).call(this, message || 'D3.layout.listGraph.js has not been loaded yet.'));\n    }\n\n    return LayoutNotAvailable;\n  })(ExtendableError);\n\n  var ListGraph = (function () {\n    function ListGraph(baseEl, data, rootNodes, options) {\n      var _this = this;\n\n      babelHelpers.classCallCheck(this, ListGraph);\n\n      if (!d3.layout.listGraph) {\n        throw new LayoutNotAvailable('D3 list graph layout (d3.layout.listGraph.js) needs to be loaded ' + 'before creating the visualization.');\n      }\n\n      if (!isObject(options)) {\n        options = {};\n      }\n\n      var that = this;\n\n      this.baseEl = baseEl;\n      this.baseElD3 = d3.select(baseEl);\n      this.baseElJq = $(baseEl);\n\n      this.rootNodes = rootNodes;\n\n      this.width = options.width || WIDTH;\n      this.height = options.height || HEIGHT;\n      this.scrollbarWidth = options.scrollbarWidth || SCROLLBAR_WIDTH;\n      this.columns = options.columns || COLUMNS;\n      this.rows = options.rows || ROWS;\n\n      this.baseElJq.width(this.width).addClass(CLASSNAME);\n\n      this.layout = new d3.layout.listGraph([this.width, this.height], [this.columns, this.rows]);\n\n      this.data = data;\n      this.visData = this.layout.process(this.data, this.rootNodes);\n\n      this.topbar = new Topbar(this, this.baseElD3, this.visData);\n\n      this.svg = d3.select('.list-graph').append('svg').attr('width', this.width).attr('height', this.height);\n\n      this.container = this.svg.append('g');\n\n      this.columns = new Columns(this.container, this.visData);\n\n      this.links = new Links(this.columns.groups, this.visData, this.layout);\n      this.nodes = new Nodes(this.columns.groups, this.visData);\n      this.columns.scrollPreparation(this, this.scrollbarWidth);\n      this.scrollbars = new Scrollbars(this.columns.groups, this.visData, this.scrollbarWidth);\n\n      // jQuery's mousewheel plugin is much nicer than D3's half-baked zoom event.\n      this.$levels = $(this.columns.groups[0]).on('mousewheel', function (event) {\n        that.mousewheelColumn(this, event);\n      });\n\n      // Normally we would reference a named methods but since we need to aceess\n      // the class' `this` property instead of the DOM element we need to use an\n      // arrow function.\n      this.scrollbars.selection.on('mousedown', function () {\n        that.scrollbarMouseDown(this, d3.event);\n      });\n\n      // We need to listen to `mouseup` and `mousemove` globally otherwise scrolling\n      // will only work as long as the cursor hovers the actual scrollbar, which is\n      // super annoying.\n      d3.select(document).on('mouseup', function () {\n        _this.globalMouseUp(d3.event);\n      }).on('mousemove', function () {\n        _this.globalMouseMove(d3.event);\n      });\n    }\n\n    babelHelpers.createClass(ListGraph, [{\n      key: 'globalMouseUp',\n      value: function globalMouseUp(event) {\n        if (this.activeScrollbar) {\n          var data = this.activeScrollbar.datum();\n          var deltaY = data.scrollbar.clientY - event.clientY;\n\n          // Save final vertical position\n          // Scrollbar\n          data.scrollbar.scrollTop = Math.min(Math.max(data.scrollbar.scrollTop - deltaY, 0), data.scrollbar.scrollHeight);\n\n          // Content\n          data.scrollTop = Math.max(Math.min(data.scrollTop + data.invertedHeightScale(deltaY), 0), -data.scrollHeight);\n\n          this.activeScrollbar.classed('active', false);\n\n          this.activeScrollbar = undefined;\n        }\n      }\n    }, {\n      key: 'globalMouseMove',\n      value: function globalMouseMove(event) {\n        if (this.activeScrollbar) {\n          var data = this.activeScrollbar.datum();\n          var deltaY = data.scrollbar.clientY - event.clientY;\n\n          // Scroll scrollbar\n          ListGraph.scrollY(this.activeScrollbar.node(), Math.min(Math.max(data.scrollbar.scrollTop - deltaY, 0), data.scrollbar.scrollHeight));\n\n          // Scroll content\n          var contentScrollTop = Math.max(Math.min(data.scrollTop + data.invertedHeightScale(deltaY), 0), -data.scrollHeight);\n\n          ListGraph.scrollY(data.nodes, contentScrollTop);\n\n          // Scroll Links\n          this.links.scroll(data.linkSelections.outgoing, this.layout.offsetLinks(data.level, contentScrollTop, 'source'));\n\n          this.links.scroll(data.linkSelections.incoming, this.layout.offsetLinks(data.level - 1, contentScrollTop, 'target'));\n        }\n      }\n    }, {\n      key: 'scrollbarMouseDown',\n      value: function scrollbarMouseDown(el, event) {\n        this.activeScrollbar = d3.select(el).classed('active', true);\n        this.activeScrollbar.datum().scrollbar.clientY = event.clientY;\n      }\n    }, {\n      key: 'mousewheelColumn',\n      value: function mousewheelColumn(el, event) {\n        event.preventDefault();\n\n        var data = d3.select(el).datum();\n\n        if (data.scrollHeight > 0) {\n          // Scroll nodes\n          data.scrollTop = Math.max(Math.min(data.scrollTop + event.deltaY, 0), -data.scrollHeight);\n\n          ListGraph.scrollY(data.nodes, data.scrollTop);\n\n          // Scroll scrollbar\n          data.scrollbar.scrollTop = data.scrollbar.heightScale(-data.scrollTop);\n\n          ListGraph.scrollY(data.scrollbar.el, data.scrollbar.scrollTop);\n\n          // Scroll Links\n          this.links.scroll(data.linkSelections.outgoing, this.layout.offsetLinks(data.level, data.scrollTop, 'source'));\n\n          this.links.scroll(data.linkSelections.incoming, this.layout.offsetLinks(data.level - 1, data.scrollTop, 'target'));\n        }\n      }\n    }, {\n      key: 'selectByColumn',\n      value: function selectByColumn(index, selector) {\n        return d3.select(this.columns.groups[0][index]).selectAll(selector);\n      }\n    }], [{\n      key: 'scrollY',\n      value: function scrollY(el, offset) {\n        d3.select(el).attr('transform', 'translate(0, ' + offset + ')');\n      }\n    }]);\n    return ListGraph;\n  })();\n\n  return ListGraph;\n\n})($,d3);"],"sourceRoot":"/source/"}